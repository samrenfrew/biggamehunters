function lineStyleFn(a){return"object"==typeof chartJSLineStyle[a]?chartJSLineStyle[a]:chartJSLineStyle.solid}function roundToWithThousands(a,e,t){var i=1*unFormat(a,e);if("number"==typeof i&&"none"!=t){var l;if(t<=0)l=-t,i=+(Math.round(i+"e+"+l)+"e-"+l);else{l=t;var o="1e+"+l;i=+Math.round(i/o)*o}}return i=fmtChartJS(a,i,"none")}function unFormat(a,e){if("."==a.decimalSeparator&&""==a.thousandSeparator||"string"!=typeof e)return e;var t=""+e;if(""!=a.thousandSeparator)for(;t.indexOf(a.thousandSeparator)>=0;)t=""+t.replace(a.thousandSeparator,"");return"."!=a.decimalSeparator&&(t=""+t.replace(a.decimalSeparator,".")),1*t}function fmtChartJSPerso(a,e,t){switch(t){case"SampleJS_Format":return_value="number"==typeof e?"My Format : "+e.toString()+" $":e+"XX";break;case"Change_Month":return_value="string"==typeof e?e.toString()+" 2014":e.toString()+"YY";break;default:return_value=e}return return_value}function fmtChartJS(a,e,t){var i;if("notformatted"==t)i=e;else if("none"!=t&&"money"!=t||"number"!=typeof e)i="none"!=t&&"notformatted"!=t?fmtChartJSPerso(a,e,t):e;else{if("none"!=a.roundNumber){var l;if(a.roundNumber<=0)l=-a.roundNumber,e=+(Math.round(e+"e+"+l)+"e-"+l);else{l=a.roundNumber;var o="1e+"+l;e=+Math.round(e/o)*o}}if("."!=a.decimalSeparator||""!=a.thousandSeparator){if(i=e.toString().replace(/\./g,a.decimalSeparator),""!=a.thousandSeparator){var n=i,s="",r=n.indexOf(a.decimalSeparator);r>=0&&(s=n.substring(r+1,n.length),s=s.split("").reverse().join(""),n=n.substring(0,r)),n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a.thousandSeparator),s=s.split("").reverse().join(""),i=n,""!=s&&(i=i+a.decimalSeparator+s)}}else i=e;"money"==t&&("before"==a.currencyPosition?i=a.currency+i:i+=a.currency)}return i}function addParameters2Function(data,fctName,fctList){var mathFunctions={mean:{data:data.data,datasetNr:data.v11},varianz:{data:data.data,datasetNr:data.v11},stddev:{data:data.data,datasetNr:data.v11},cv:{data:data.data,datasetNr:data.v11},median:{data:data.data,datasetNr:data.v11}};if(dif=!1,"Dif"==fctName.substr(-3)&&(fctName=fctName.substr(0,fctName.length-3),dif=!0),"function"==typeof eval(fctName)){var parameter=eval(fctList+"."+fctName);return dif?data.v3-window[fctName](parameter):window[fctName](parameter)}return null}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function tmplbis(a,e,t){return newstr=a,newstr.substr(0,t.templatesOpenTag.length)==t.templatesOpenTag&&(newstr="<%="+newstr.substr(t.templatesOpenTag.length,newstr.length-t.templatesOpenTag.length)),newstr.substr(newstr.length-t.templatesCloseTag.length,t.templatesCloseTag.length)==t.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-t.templatesCloseTag.length)+"%>"),tmplter(newstr,e)}function tmplter(a,e){for(var t=["mean","varianz","stddev","cv","median"],i=new RegExp("<%=((?:(?:.*?)\\W)??)((?:"+t.join("|")+")(?:Dif)?)\\(([0-9]*?)\\)(.*?)%>","g");i.test(a);)a=a.replace(i,function(a,t,i,l,o){var n;n=l||2;var s=addParameters2Function(e,i,"mathFunctions");return isNumber(s)?"<%="+t+Math.round(Math.pow(10,n)*s)/Math.pow(10,n)+o+"%>":"<%= %>"});var l=/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(a)?cachebis[a]=cachebis[a]||tmplter(document.getElementById(a).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\n]/g,"\\n").replace(/[\t]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return e?l(e):l}function createCursorDiv(a){if(0==cursorDivCreated){var e=document.createElement(annotate_shape);e.id=annotate_shape,e.style.position="absolute",document.body.appendChild(e),cursorDivCreated=!0}}function addResponsiveChart(a,e,t,i){0==initChartJsResize&&(window.addEventListener?window.addEventListener("resize",chartJsResize):window.attachEvent("resize",chartJsResize)),jsGraphResize[jsGraphResize.length]=[a,e.tpchart,e,t,i]}function getMaximumWidth(a){return null!=a.parentNode&&void 0!=a.parentNode&&(container=a.parentNode),container.clientWidth}function getMaximumHeight(a){return null!=a.parentNode&&void 0!=a.parentNode&&(container=a.parentNode),container.clientHeight}function resizeCtx(a,e){if(isIE()<9&&0!=isIE())return!0;if(e.responsive){a.canvas.style.width=a.prevStyleWidth,a.canvas.style.height=a.prevStyleHeight,void 0===e.maintainAspectRatio&&(e.maintainAspectRatio=!0),void 0===e.responsiveMinWidth&&(e.responsiveMinWidth=0),void 0===e.responsiveMinHeight&&(e.responsiveMinHeight=0),void 0===e.responsiveMaxWidth&&(e.responsiveMaxWidth=9999999),void 0===e.responsiveMaxHeight&&(e.responsiveMaxHeight=9999999);var t;t=void 0!==a.vctx?a.vctx.canvas:a.canvas,void 0===a.aspectRatio&&(a.aspectRatio=t.width/t.height,1*e.forcedAspectRatio&&(a.aspectRatio=1/e.forcedAspectRatio));var i,l;if(window.devicePixelRatio>1&&void 0!==a.vWidth){var o=window.getComputedStyle(a.canvas).getPropertyValue("width");i=o.substring(0,o.indexOf("px"))}else i=void 0===a.vWidth?getMaximumWidth(t):a.canvas.width;i=Math.min(e.responsiveMaxWidth,Math.max(e.responsiveMinWidth,i)),l=void 0===a.vWidth?e.maintainAspectRatio?i/a.aspectRatio:getMaximumHeight(t):e.maintainAspectRatio?i/a.aspectRatio:a.canvas.height,l=Math.min(e.responsiveMaxHeight,Math.max(e.responsiveMinHeight,l)),void 0===a.DefaultchartTextScale&&(a.DefaultchartTextScale=e.chartTextScale),void 0===a.DefaultchartLineScale&&(a.DefaultchartLineScale=e.chartLineScale),void 0===a.DefaultchartSpaceScale&&(a.DefaultchartSpaceScale=e.chartSpaceScale),void 0!==a.chartTextScale&&e.responsiveScaleContent&&(a.chartTextScale=a.DefaultchartTextScale*(i/a.initialWidth),a.chartLineScale=a.DefaultchartLineScale*(i/a.initialWidth),a.chartSpaceScale=a.DefaultchartSpaceScale*(i/a.initialWidth)),window.devicePixelRatio>1&&(a.canvas.style.width=i+"px",a.canvas.style.height=l+"px"),a.canvas.height=l*Math.max(1,window.devicePixelRatio),a.canvas.width=i*Math.max(1,window.devicePixelRatio),a.scale(Math.max(1,window.devicePixelRatio),Math.max(1,window.devicePixelRatio))}else window.devicePixelRatio>1?(void 0===a.original_width&&(a.original_width=a.canvas.width,a.original_height=a.canvas.height),a.canvas.style.width=a.canvas.width+"px",1*e.forcedAspectRatio&&(a.canvas.height=e.forcedAspectRatio*a.canvas.width),a.canvas.style.height=a.canvas.height+"px",a.canvas.height=a.canvas.height*window.devicePixelRatio,a.canvas.width=a.canvas.width*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio)):1*e.forcedAspectRatio&&(a.canvas.height=e.forcedAspectRatio*a.canvas.width)}function chartJsResize(){for(var a=0;a<jsGraphResize.length;a++)0==jsGraphResize[a][2].firstPass||(9==jsGraphResize[a][2].firstPass?(jsGraphResize[a][2].firstPass=2,redrawGraph(jsGraphResize[a][2],jsGraphResize[a][3],jsGraphResize[a][4])):jsGraphResize[a][2].firstPass<10&&(jsGraphResize[a][2].firstPass+=10))}function testRedraw(a,e,t){return a.firstPass>10&&(a.firstPass=2,redrawGraph(a,e,t),!0)}function updateChart(a,e,t,i,l){if(9==a.firstPass){if(a.runanimationcompletefunction=l,a.firstPass=i?1:2,t.responsive)for(var o=0;o<jsGraphResize.length;o++)jsGraphResize[o][2].ChartNewId==a.ChartNewId&&(jsGraphResize[o][3]=e,jsGraphResize[o][4]=t);redrawGraph(a,e,t)}}function redrawGraph(ctx,data,config){if(2!=ctx.firstPass&&9!=ctx.firstPass||isIE()<9&&0!=isIE()||-1!=navigator.userAgent.indexOf("Safari")){if("number"==typeof ctx.vWidth){var canvasWidth=window.getComputedStyle(ctx.canvas).getPropertyValue("width");ctx.canvas.width=canvasWidth.substring(0,canvasWidth.indexOf("px"))}var myGraph=new Chart(ctx);eval("myGraph."+ctx.tpchart+"(data,config);")}else{var OSC,tmpctx;if(OSC=document.createElement("canvas"),tmpctx=OSC.getContext("2d"),tmpctx.vctx=ctx,OSC.width=ctx.canvas.width,OSC.height=ctx.canvas.height,"number"==typeof ctx.vWidth){var canvasWidth=window.getComputedStyle(ctx.canvas).getPropertyValue("width");tmpctx.canvas.width=canvasWidth.substring(0,canvasWidth.indexOf("px")),ctx.canvas.width=tmpctx.canvas.width,tmpctx.vWidth=ctx.vWidth}tmpctx.ChartNewId=ctx.ChartNewId,tmpctx.prevStyleWidth=ctx.prevStyleWidth,tmpctx.prevStyleHeight=ctx.prevStyleHeight,tmpctx.tpchart=ctx.tpchart,tmpctx.tpdata=ctx.tpdata,tmpctx.initialWidth=ctx.initialWidth,tmpctx.chartTextScale=ctx.chartTextScale,tmpctx.chartLineScale=ctx.chartLineScale,tmpctx.chartSpaceScale=ctx.chartSpaceScale,tmpctx.firstPass=ctx.firstPass,tmpctx.runanimationcompletefunction=ctx.runanimationcompletefunction,tmpctx.aspectRatio=ctx.aspectRatio,tmpctx.widthAtSetMeasures=ctx.widthAtSetMeasures,tmpctx.heightAtSetMeasures=ctx.heightAtSetMeasures,tmpctx.pieces_drawn=ctx.pieces_drawn;var myGraph=new Chart(tmpctx);eval("myGraph."+tmpctx.tpchart+"(data,config);"),"number"==typeof ctx.vWidth&&(ctx.vWidth=tmpctx.vWidth),ctx.tpchart=tmpctx.tpchart,ctx.tpdata=tmpctx.tpdata,ctx.initialWidth=tmpctx.initialWidth,ctx.chartTextScale=tmpctx.chartTextScale,ctx.chartLineScale=tmpctx.chartLineScale,ctx.chartSpaceScale=tmpctx.chartSpaceScale,ctx.firstPass=tmpctx.firstPass,ctx.runanimationcompletefunction=tmpctx.runanimationcompletefunction,ctx.ChartNewId=tmpctx.ChartNewId,ctx.prevStyleWidth=tmpctx.prevStyleWidth,ctx.prevStyleHeight=tmpctx.prevStyleHeight,ctx.aspectRatio=tmpctx.aspectRatio,ctx.widthAtSetMeasures=tmpctx.widthAtSetMeasures,ctx.heightAtSetMeasures=tmpctx.heightAtSetMeasures,ctx.canvas.width=tmpctx.canvas.width,ctx.canvas.height=tmpctx.canvas.height,ctx.pieces_drawn=tmpctx.pieces_drawn,ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height),ctx.drawImage(OSC,0,0)}}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop",bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(config,obj,nest){return createCursorDiv(config),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(a,e){this.x=a,this.y=e,this.css.left=this.x+"px",this.css.top=this.y+"px"}function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")&&parseInt(a.split("msie")[1])}function mergeChartConfig(a,e){var t={};for(var i in a)t[i]=a[i];for(var l in e)t[l]=e[l];return t}function sleep(a){var e=new Date;for(e.setTime(e.getTime()+a);(new Date).getTime()<e.getTime(););}function saveCanvas(a,e,t){cvSave=a.getImageData(0,0,a.canvas.width,a.canvas.height);var i={savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1};savePngConfig1=mergeChartConfig(t,i),savePngConfig1.clearRect=!1,redrawGraph(a,e,savePngConfig1);var l;if("NewWindow"==t.savePngOutput&&(l=a.canvas.toDataURL(),a.putImageData(cvSave,0,0),window.open(l,"_blank")),"CurrentWindow"==t.savePngOutput&&(l=a.canvas.toDataURL(),a.putImageData(cvSave,0,0),window.location.href=l),"Save"==t.savePngOutput){l=a.canvas.toDataURL();var o=document.createElement("a");o.href=l,o.download=t.savePngName+".png",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}function dynamicFunction(a,e,t){if(isIE()<9&&0!=isIE())return!0;if(e.dynamicDisplay&&0==t.firstPass){if(""==t.canvas.id){var i=new Date,l=i.getTime();t.canvas.id="Canvas_"+l}if(void 0===dynamicDisplay[t.canvas.id]&&(dynamicDisplayList[dynamicDisplayList.length]=t.canvas.id,dynamicDisplay[t.canvas.id]=[t,a,e],window.onscroll=scrollFunction),!isScrolledIntoView(t.canvas,e))return!1}return!0}function isScrolledIntoView(a,e){var t,i,l=0,o=0;for(void 0===a.recomputedHeight&&(window.devicePixelRatio?(a.recomputedHeight=a.height/window.devicePixelRatio,a.recomputedWidth=a.width/window.devicePixelRatio):(a.recomputedHeight=a.height,a.recomputedWidth=a.width)),t=a.recomputedWidth,i=a.recomputedHeight,elem=a;elem;)l+=elem.offsetLeft+elem.clientLeft,o+=elem.offsetTop+elem.clientTop,elem=elem.offsetParent;return l+t*e.dynamicDisplayXPartOfChart>=window.pageXOffset&&l+t*e.dynamicDisplayXPartOfChart<=window.pageXOffset+window.innerWidth&&o+i*e.dynamicDisplayYPartOfChart>=window.pageYOffset&&o+i*e.dynamicDisplayYPartOfChart<=window.pageYOffset+window.innerHeight}function scrollFunction(){for(var a=0;a<dynamicDisplayList.length;a++)0==dynamicDisplay[dynamicDisplayList[a]][0].firstPass&&redrawGraph(dynamicDisplay[dynamicDisplayList[a]][0],dynamicDisplay[dynamicDisplayList[a]][1],dynamicDisplay[dynamicDisplayList[a]][2])}function clearAnnotate(a){jsGraphAnnotate[a]=[],jsTextMousePos[a]=[]}function getMousePos(a,e){var t=a.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function isHighLighted(a,e,t,i,l,o,n){var s;if("object"==typeof t.special)for(s=t.special.length-1;s>=0;s--)if("highLight"==t.special[s].typespecial&&t.special[s].posi==l&&t.special[s].posj==o)return!0;return!1}function isNotHighLighted(a,e,t,i,l,o,n){return!isHighLighted(a,e,t,i,l,o,n)}function deleteHighLight(a,e){var t;if("object"==typeof e.special)for(t=e.special.length-1;t>=0;t--)"highLight"==e.special[t].typespecial&&e.special.splice(t,1)}function highLightAction(action,ctx,data,config,v1,v2){if(9==ctx.firstPass){var currentlyDisplayed=[-1,-1],redisplay=!1,i,j;if("object"==typeof data.special)for(i=0;i<data.special.length&&-1==currentlyDisplayed[0];i++)"highLight"==data.special[i].typespecial&&(currentlyDisplayed=[data.special[i].posi,data.special[i].posj]);var deleteOld=!1,addNew=!1,property,output,fndoldspec=!1,fndnewspec=!1;if("HIDE"==action&&-1!=currentlyDisplayed[0]?deleteOld=!0:"HIDE"!=action&&"group"==config.highLightFullLine&&currentlyDisplayed[1]!=v2?(-1!=currentlyDisplayed[0]&&(deleteOld=!0),addNew=!0):"HIDE"==action||0!=config.highLightFullLine||currentlyDisplayed[0]==v1&&currentlyDisplayed[1]==v2?"HIDE"!=action&&1==config.highLightFullLine&&currentlyDisplayed[0]!=v1&&(-1!=currentlyDisplayed[0]&&(deleteOld=!0),addNew=!0):(-1!=currentlyDisplayed[0]&&(deleteOld=!0),addNew=!0),deleteOld)for(redisplay=!0,i=data.special.length-1;i>=0;i--)"highLight"==data.special[i].typespecial&&(data.special.splice(i,1),fndoldspec=!0);if(addNew)if(redisplay=!0,void 0===data.special&&(data.special=[]),"group"==config.highLightFullLine){for(j=0;j<data.datasets.length;j++)if(0!=data.datasets[j].mouseDetection){output="";for(property in config.highLightSet)""!=output&&(output+=","),"string"==typeof config.highLightSet[property]?output+=property+': "'+config.highLightSet[property]+'"':output+=property+": "+config.highLightSet[property];fndnewspec=!0,eval("data.special[data.special.length]={"+output+"};"),data.special[data.special.length-1].posi=j,data.special[data.special.length-1].posj=v2,data.special[data.special.length-1].typespecial="highLight"}}else if(1==config.highLightFullLine){if(0!=data.datasets[v1].mouseDetection)for(j=0;j<data.datasets[v1].data.length;j++){output="";for(property in config.highLightSet)""!=output&&(output+=","),"string"==typeof config.highLightSet[property]?output+=property+': "'+config.highLightSet[property]+'"':output+=property+": "+config.highLightSet[property];fndnewspec=!0,eval("data.special[data.special.length]={"+output+"};"),data.special[data.special.length-1].posi=v1,data.special[data.special.length-1].posj=j,data.special[data.special.length-1].typespecial="highLight"}}else if(0!=data.datasets[v1].mouseDetection){output="";for(property in config.highLightSet)""!=output&&(output+=","),"string"==typeof config.highLightSet[property]?output+=property+': "'+config.highLightSet[property]+'"':output+=property+": "+config.highLightSet[property];fndnewspec=!0,eval("data.special[data.special.length]={"+output+"};"),data.special[data.special.length-1].posi=v1,data.special[data.special.length-1].posj=v2,data.special[data.special.length-1].typespecial="highLight"}1==redisplay&&updateChart(ctx,data,config,!1,config.highLightRerunEndFunction)}}function initAnnotateDiv(a,e,t){a.className=e.annotateClassName?e.annotateClassName:"",a.style.border=e.annotateClassName?"":e.annotateBorder,a.style.padding=e.annotateClassName?"":e.annotatePadding,a.style.borderRadius=e.annotateClassName?"":e.annotateBorderRadius,a.style.backgroundColor=e.annotateClassName?"":e.annotateBackgroundColor,a.style.color=e.annotateClassName?"":e.annotateFontColor,a.style.fontFamily=e.annotateClassName?"":e.annotateFontFamily,a.style.fontSize=e.annotateClassName?"":Math.ceil(t.chartTextScale*e.annotateFontSize).toString()+"pt",a.style.fontStyle=e.annotateClassName?"":e.annotateFontStyle,a.style.zIndex=999}function displayAnnotate(ctx,data,config,rect,event,annotateDIV,jsGraphAnnotate,piece,myStatData,statData){if("ARC"==jsGraphAnnotate[ctx.ChartNewId][piece.piece][0]?dispString=tmplbis(setOptionValue(!0,!0,1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][piece.piece][3],void 0,config.annotateLabel,"annotateLabel",jsGraphAnnotate[ctx.ChartNewId][piece.piece][1],-1,{otherVal:!0}),myStatData,config):dispString=tmplbis(setOptionValue(!0,!0,1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][piece.piece][3],void 0,config.annotateLabel,"annotateLabel",jsGraphAnnotate[ctx.ChartNewId][piece.piece][1],jsGraphAnnotate[ctx.ChartNewId][piece.piece][2],{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString,1*annotateDIV.style.fontSize.replace("pt","")),ctx.restore(),annotateDIV.innerHTML=dispString,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),!0===config.annotateRelocate){var relocateX,relocateY;relocateX=0,relocateY=0,x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-fromLeft&&(relocateX=-textMsr.textWidth),y+fromTop+textMsr.textHeight>1*window.innerHeight-1*rect.top+fromTop&&(relocateY-=textMsr.textHeight+2*fromTop),oCursor.moveIt(Math.max(8-rect.left,x+fromLeft+relocateX),Math.max(8-rect.top,y+fromTop+relocateY))}else oCursor.moveIt(x+fromLeft,y+fromTop);annotateDIV.style.display=""}function doMouseAction(a,e,t){function i(a,e){return a==e||"mousemove"==a&&("mousewheel"==e||"mouseout"==e)}function l(t){var i;for(i=0;i<b.length;i++)t(a,e,y,L,b[i].myStatData);for(i=0;i<O.length;i++)t(a,e,y,L,{type:"CLICKONTEXT",values:jsTextMousePos[e.ChartNewId][O[i]]});0==b.length&&0==O.length&&t(a,e,y,L,null)}if(9==e.firstPass&&("mousedown"==t&&(t=t+" "+a.which),!(e.mouseAction.indexOf(t)<0))){var o,n,s,r,c,h,d,p,u,S,g,A,f,x,m,T,P,D,M,v,y=mouseActionData[e.ChartNewId].config,L=mouseActionData[e.ChartNewId].data,b=[],O=[],I=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",B=getMousePos(e.canvas,a);for(M="mousedown 1"==t?"mousedown left":"mousedown 2"==t?"mousedown middle":"mousedown 3"==t?"mousedown right":t==I?"mousewheel":t,o=0;o<jsGraphAnnotate[e.ChartNewId].length;o++)if("ARC"==jsGraphAnnotate[e.ChartNewId][o][0])myStatData=jsGraphAnnotate[e.ChartNewId][o][3][jsGraphAnnotate[e.ChartNewId][o][1]],(f=Math.sqrt((B.x-myStatData.midPosX)*(B.x-myStatData.midPosX)+(B.y-myStatData.midPosY)*(B.y-myStatData.midPosY)))>myStatData.int_radius&&f<myStatData.radiusOffset&&(x=(Math.acos((B.x-myStatData.midPosX)/f)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),B.y<myStatData.midPosY&&(x=-x),x=((x+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.startAngle=((myStatData.startAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle=((myStatData.endAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle<myStatData.startAngle&&(myStatData.endAngle+=2*Math.PI),(x>myStatData.startAngle&&x<myStatData.endAngle||x>myStatData.startAngle-2*Math.PI&&x<myStatData.endAngle-2*Math.PI||x>myStatData.startAngle+2*Math.PI&&x<myStatData.endAngle+2*Math.PI)&&(myStatData.graphPosX=B.x,myStatData.graphPosY=B.y,b[b.length]={piece:o,i:jsGraphAnnotate[e.ChartNewId][o][1],j:jsGraphAnnotate[e.ChartNewId][o][2],myStatData:myStatData}));else if("MARC"==jsGraphAnnotate[e.ChartNewId][o][0])myStatData=jsGraphAnnotate[e.ChartNewId][o][3][jsGraphAnnotate[e.ChartNewId][o][1]][jsGraphAnnotate[e.ChartNewId][o][2]],(f=Math.sqrt((B.x-myStatData.midPosX)*(B.x-myStatData.midPosX)+(B.y-myStatData.midPosY)*(B.y-myStatData.midPosY)))>myStatData.int_radius&&f<myStatData.radiusOffset&&(x=(Math.acos((B.x-myStatData.midPosX)/f)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),B.y<myStatData.midPosY&&(x=-x),x=((x+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.startAngle=((myStatData.startAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle=((myStatData.endAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle<myStatData.startAngle&&(myStatData.endAngle+=2*Math.PI),(x>myStatData.startAngle&&x<myStatData.endAngle||x>myStatData.startAngle-2*Math.PI&&x<myStatData.endAngle-2*Math.PI||x>myStatData.startAngle+2*Math.PI&&x<myStatData.endAngle+2*Math.PI)&&(myStatData.graphPosX=B.x,myStatData.graphPosY=B.y,b[b.length]={piece:o,i:jsGraphAnnotate[e.ChartNewId][o][1],j:jsGraphAnnotate[e.ChartNewId][o][2],myStatData:myStatData}));else if("RECT"==jsGraphAnnotate[e.ChartNewId][o][0])myStatData=jsGraphAnnotate[e.ChartNewId][o][3][jsGraphAnnotate[e.ChartNewId][o][1]][jsGraphAnnotate[e.ChartNewId][o][2]],m=Math.max(myStatData.yPosBottom,myStatData.yPosTop),T=Math.min(myStatData.yPosBottom,myStatData.yPosTop),m-T<y.annotateBarMinimumDetectionHeight&&(m=(m+T+y.annotateBarMinimumDetectionHeight)/2,T=m-y.annotateBarMinimumDetectionHeight),P=Math.min(myStatData.xPosLeft,myStatData.xPosRight),D=Math.max(myStatData.xPosLeft,myStatData.xPosRight),D-P<y.annotateBarMinimumDetectionHeight&&(D=(D+P+y.annotateBarMinimumDetectionHeight)/2,P=D-y.annotateBarMinimumDetectionHeight),B.x>P&&B.x<D&&B.y<m&&B.y>T&&(myStatData.graphPosX=B.x,myStatData.graphPosY=B.y,b[b.length]={piece:o,i:jsGraphAnnotate[e.ChartNewId][o][1],j:jsGraphAnnotate[e.ChartNewId][o][2],myStatData:myStatData});else if("POINT"==jsGraphAnnotate[e.ChartNewId][o][0]){if(myStatData=jsGraphAnnotate[e.ChartNewId][o][3][jsGraphAnnotate[e.ChartNewId][o][1]][jsGraphAnnotate[e.ChartNewId][o][2]],y.detectAnnotateOnFullLine)if(B.x<Math.min(myStatData.annotateStartPosX,myStatData.annotateEndPosX)-Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius)||B.x>Math.max(myStatData.annotateStartPosX,myStatData.annotateEndPosX)+Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius)||B.y<Math.min(myStatData.annotateStartPosY,myStatData.annotateEndPosY)-Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius)||B.y>Math.max(myStatData.annotateStartPosY,myStatData.annotateEndPosY)+Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius))f=Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius)+1;else if(void 0===myStatData.D1A)f=Math.abs(B.x-myStatData.posX);else if(void 0===myStatData.D2A)f=Math.abs(B.y-myStatData.posY);else{var V=-myStatData.D2A*B.x+B.y,G=-(myStatData.D1B-V)/(myStatData.D1A-myStatData.D2A),R=myStatData.D2A*G+V;f=Math.sqrt((B.x-G)*(B.x-G)+(B.y-R)*(B.y-R))}else f=Math.sqrt((B.x-myStatData.posX)*(B.x-myStatData.posX)+(B.y-myStatData.posY)*(B.y-myStatData.posY));f<Math.ceil(e.chartSpaceScale*y.pointHitDetectionRadius)&&(myStatData.graphPosX=B.x,myStatData.graphPosY=B.y,b[b.length]={piece:o,i:jsGraphAnnotate[e.ChartNewId][o][1],j:jsGraphAnnotate[e.ChartNewId][o][2],myStatData:myStatData})}if(y.detectMouseOnText)for(o=0;o<jsTextMousePos[e.ChartNewId].length;o++)n=!0,Math.abs(jsTextMousePos[e.ChartNewId][o][3].p1-jsTextMousePos[e.ChartNewId][o][3].p2)<y.zeroValue?(B.x<Math.min(jsTextMousePos[e.ChartNewId][o][2].p1,jsTextMousePos[e.ChartNewId][o][2].p2)&&(n=!1),B.x>Math.max(jsTextMousePos[e.ChartNewId][o][2].p1,jsTextMousePos[e.ChartNewId][o][2].p2)&&(n=!1),B.y<Math.min(jsTextMousePos[e.ChartNewId][o][3].p1,jsTextMousePos[e.ChartNewId][o][3].p3)&&(n=!1),B.y>Math.max(jsTextMousePos[e.ChartNewId][o][3].p1,jsTextMousePos[e.ChartNewId][o][3].p3)&&(n=!1)):Math.abs(jsTextMousePos[e.ChartNewId][o][2].p1-jsTextMousePos[e.ChartNewId][o][2].p2)<y.zeroValue?(B.x<Math.min(jsTextMousePos[e.ChartNewId][o][2].p1,jsTextMousePos[e.ChartNewId][o][2].p3)&&(n=!1),B.x>Math.max(jsTextMousePos[e.ChartNewId][o][2].p1,jsTextMousePos[e.ChartNewId][o][2].p3)&&(n=!1),B.y<Math.min(jsTextMousePos[e.ChartNewId][o][3].p1,jsTextMousePos[e.ChartNewId][o][3].p2)&&(n=!1),B.y>Math.max(jsTextMousePos[e.ChartNewId][o][3].p1,jsTextMousePos[e.ChartNewId][o][3].p2)&&(n=!1)):(s=Math.tan(jsTextMousePos[e.ChartNewId][o][4]),r=jsTextMousePos[e.ChartNewId][o][3].p1-s*jsTextMousePos[e.ChartNewId][o][2].p1,c=jsTextMousePos[e.ChartNewId][o][3].p3-s*jsTextMousePos[e.ChartNewId][o][2].p3,h=-1/s,d=jsTextMousePos[e.ChartNewId][o][3].p1-h*jsTextMousePos[e.ChartNewId][o][2].p1,p=jsTextMousePos[e.ChartNewId][o][3].p4-h*jsTextMousePos[e.ChartNewId][o][2].p4,u=s*B.x+r,S=s*B.x+c,g=h*B.x+d,A=h*B.x+p,B.y<Math.min(u,S)&&(n=!1),B.y>Math.max(u,S)&&(n=!1),B.y<Math.min(g,A)&&(n=!1),B.y>Math.max(g,A)&&(n=!1)),n&&(O[O.length]=o);y.savePng&&i(y.savePngFunction,M)&&saveCanvas(e,L,y);var C=-1,N=-1,w=!1,k=!1;for(o=b.length-1;o>=0;o--)jsGraphAnnotate[e.ChartNewId][b[o].piece][4]&&0==w&&(-1==C&&(C=o),"POINT"==jsGraphAnnotate[e.ChartNewId][b[o].piece][0]&&(C=o,w=!0)),0==k&&(-1==N&&(N=o),"POINT"==jsGraphAnnotate[e.ChartNewId][b[o].piece][0]&&(N=o,k=!0));if(y.annotateDisplay&&i(y.annotateFunction,M)&&(v=document.getElementById(annotate_shape),v.style.display="none",b.length>0)){initAnnotateDiv(v,y,e),e.save(),e.font=v.style.fontStyle+" "+v.style.fontSize+" "+v.style.fontFamily;var F=e.canvas.getBoundingClientRect();!1,-1!=C&&jsGraphAnnotate[e.ChartNewId][b[C].piece][4]&&(displayAnnotate(e,L,y,F,a,v,jsGraphAnnotate,b[C],b[C].myStatData,jsGraphAnnotate[e.ChartNewId][b[C].piece][3]),!0)}0==inMouseAction[e.ChartNewId]&&mouseActionData[e.ChartNewId].prevShow>=0&&i("mousemove",M)&&(0==b.length||mouseActionData[e.ChartNewId].prevShow!=b[b.length-1].piece)&&(inMouseAction[e.ChartNewId]=!0,prevShow=mouseActionData[e.ChartNewId].prevShow,mouseActionData[e.ChartNewId].prevShow=-1,y.highLight&&i(y.highLightMouseFunction,M)&&0==b.length&&highLightAction("HIDE",e,L,y,null,null),"function"==typeof y.annotateFunctionOut&&("ARC"==jsGraphAnnotate[e.ChartNewId][prevShow][0]?y.annotateFunctionOut("OUTANNOTATE",e,L,jsGraphAnnotate[e.ChartNewId][prevShow][3],jsGraphAnnotate[e.ChartNewId][prevShow][1],-1,null):y.annotateFunctionOut("OUTANNOTATE",e,L,jsGraphAnnotate[e.ChartNewId][prevShow][3],jsGraphAnnotate[e.ChartNewId][prevShow][1],jsGraphAnnotate[e.ChartNewId][prevShow][2],null)),inMouseAction[e.ChartNewId]=!1),b.length>0&&0==inMouseAction[e.ChartNewId]&&mouseActionData[e.ChartNewId].prevShow!=b[N].piece&&i("mousemove",M)&&(inMouseAction[e.ChartNewId]=!0,prevShow=mouseActionData[e.ChartNewId].prevShow,y.highLight&&i(y.highLightMouseFunction,M)&&-1!=N&&("ARC"==jsGraphAnnotate[e.ChartNewId][b[N].piece][0]?highLightAction("ARC",e,L,y,jsGraphAnnotate[e.ChartNewId][b[N].piece][1],-1):highLightAction(jsGraphAnnotate[e.ChartNewId][b[N].piece][0],e,L,y,jsGraphAnnotate[e.ChartNewId][b[N].piece][1],jsGraphAnnotate[e.ChartNewId][b[N].piece][2])),"function"==typeof y.annotateFunctionIn&&("ARC"==jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][0]?y.annotateFunctionIn("INANNOTATE",e,L,jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][3],jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][1],-1,null):y.annotateFunctionIn("INANNOTATE",e,L,jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][3],jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][1],jsGraphAnnotate[e.ChartNewId][b[b.length-1].piece][2],null)),inMouseAction[e.ChartNewId]=!1,mouseActionData[e.ChartNewId].prevShow=b[N].piece),y.highLight&&i(y.highLightMouseFunction,M)&&0==i("mousemove",M)&&(0==b.length?highLightAction("HIDE",e,L,y,null,null):-1!=N&&("ARC"==jsGraphAnnotate[e.ChartNewId][b[N].piece][0]?highLightAction("ARC",e,L,y,jsGraphAnnotate[e.ChartNewId][b[N].piece][1],-1):highLightAction(jsGraphAnnotate[e.ChartNewId][b[N].piece][0],e,L,y,jsGraphAnnotate[e.ChartNewId][b[N].piece][1],jsGraphAnnotate[e.ChartNewId][b[N].piece][2]))),"function"==typeof y.mouseMove&&i("mousemove",M)&&l(y.mouseMove),"function"==typeof y.mouseDownLeft&&i("mousedown left",M)&&l(y.mouseDownLeft),"function"==typeof y.mouseDownRight&&i("mousedown right",M)&&l(y.mouseDownRight),"function"==typeof y.mouseDownMiddle&&i("mousedown middle",M)&&l(y.mouseDownMiddle),"function"==typeof y.mouseWheel&&i("mousewheel",M)&&l(y.mouseWheel),"function"==typeof y.mouseOut&&i("mouseout",M)&&l(y.mouseOut),"function"==typeof y.mouseDblClick&&i("dblclick",M)&&l(y.mouseDblClick)}}function animationCorrection(a,e,t,i,l,o){var n=a,s=0;if(l<0)if(i<1*t.animationStartWithData-1)n=1;else switch(t.animationByDataset){case"ByArc":case!0:n=a;break;case!1:default:n=a}else{var r=Math.max(1,t.animationStartWithDataset),c=Math.max(1,t.animationStartWithData);if(i<1*t.animationStartWithDataset-1)n=1;else if(l<1*t.animationStartWithData-1)n=1;else{var h=0;if(t.animationLeftToRight)for(var d=0;d<e.datasets.length;d++)h=Math.max(h,e.datasets[d].data.length);switch(t.animationByDataset){case!0:switch(t.animationLeftToRight){case!0:var p=(i-(r-1))*(h-(c-1))+(l-(c-1));h=(h-(c-1))*(e.datasets.length-(r-1)),a<p/h?(n=0,o&&l+1==c&&(n=1)):a<(p+1)/h?(n=(a-p/h)*h,o&&(s=n,n=1)):n=1;break;case!1:default:n=a<(i-(r-1))/(e.datasets.length-(r-1))?.001:a<(i-(r-1)+1)/(e.datasets.length-(r-1))?(e.datasets.length-(r-1))*(a-(i-(r-1))/(e.datasets.length-(r-1))):1}break;case!1:default:switch(t.animationLeftToRight){case!0:var p=l-(c-1);h-=c-1,a<p/h?n=0:a<(p+1)/h?(n=(a-p/h)*h,o&&(s=n,n=1)):n=1;break;case!1:default:n=a}}}}return{mainVal:n,subVal:s,animVal:n+s}}function showLabels(a,e,t,i){var l=setOptionValue(!0,!0,1,"SHOWLABEL",a,e,void 0,void 0,t.showXLabels,"showXLabels",i,-1,void 0,{labelValue:fmtChartJS(t,e.labels[i],t.fmtXLabel),unformatedLabelValue:e.labels[i]});return"number"==typeof l&&(l=i>=t.firstLabelToShow-1&&(i+t.firstLabelToShow-1)%parseInt(l)==0),l}function showYLabels(a,e,t,i,l){var o=setOptionValue(!0,!0,1,"SHOWYLABEL",a,e,void 0,void 0,t.showYLabels,"showYLabels",-1,i,void 0,{labelValue:l});return"number"==typeof o&&(o=i>=t.firstYLabelToShow-1&&(i+t.firstYLabelToShow-1)%parseInt(o)==0),o}function drawLegend(a,e,t,i,l,o){if(0==t.legendPosY||4==t.legendPosY||0==t.legendPosX||4==t.legendPosX){if(-1!=o)return}else{if(-1==o)return;if(1==t.animation)if("number"==typeof t.legendWhenToDraw){if(o!=t.legendWhenToDraw)return}else{if(1!=o&&"first"==t.legendWhenToDraw)return;if(o!=t.animationSteps&&"last"==t.legendWhenToDraw)return}}i.save(),"rgba(0,0,0,0)"!=t.legendFillColor&&(i.setLineDash([]),i.lineWidth=0,i.fillStyle=t.legendFillColor,i.drawRectangle({x:a.xLegendPos+a.legendBackgroundColorXPos,y:a.yLegendPos+a.legendBackgroundColorYPos,width:a.legendBackgroundColorWidth,height:a.legendBackgroundColorHeight,borders:t.legendBorders,bordersWidth:Math.ceil(i.chartLineScale*t.legendBordersWidth),borderSelection:t.legendBordersSelection,borderRadius:t.legendBordersRadius,fill:!0,stroke:!1})),t.legendBorders&&(i.fillStyle=t.legendFillColor,i.setLineDash(lineStyleFn(t.legendBordersStyle)),i.lineWidth=Math.ceil(i.chartLineScale*t.legendBordersWidth),i.strokeStyle=t.legendBordersColors,i.drawRectangle({x:a.xLegendPos+a.legendBorderXPos,y:a.yLegendPos+a.legendBorderYPos,width:a.legendBorderWidth,height:a.legendBorderHeight,borders:!0,bordersWidth:Math.ceil(i.chartLineScale*t.legendBordersWidth),borderSelection:t.legendBordersSelection,borderRadius:t.legendBordersRadius,fill:!1,stroke:!0})),i.setLineDash([]),i.restore();var n,s,r,c,h,d,p,u=a.legendBox;p=a.nbLegendCols-1;var S=a.yLegendPos+a.legendFirstTextYPos+a.highestLegend,g=a.xLegendPos+a.legendFirstTextXPos;for(s=S-(Math.ceil(i.chartTextScale*t.legendFontSize)+Math.ceil(i.chartSpaceScale*t.legendSpaceBetweenTextVertical)),n=0,r=e.datasets.length,h=r-1;h>=0;h--)if(c=h,a.reverseLegend&&(c=e.datasets.length-h-1),"string"==typeof e.datasets[c].title&&""!=(d=fmtChartJS(t,e.datasets[c].title,t.fmtLegend).trim())){if(p++,p==a.nbLegendCols?(p=0,n=g,
s+=Math.ceil(i.chartTextScale*t.legendFontSize)+Math.ceil(i.chartSpaceScale*t.legendSpaceBetweenTextVertical)):n+=a.widestLegend+Math.ceil(i.chartSpaceScale*t.legendSpaceBetweenTextHorizontal),i.save(),i.beginPath(),"Bar"!=i.tpchart&&"StackedBar"!=i.tpchart||"Line"!=e.datasets[c].type||t.datasetFill&&1!=setOptionValue(!0,!1,1,"LINKTYPE",i,e,void 0,e.datasets[c].linkType,t.linkType,"linkType",c,-1,{nullvalue:null})||(u=!1),u)i.lineWidth=Math.ceil(i.chartLineScale*setOptionValue(!0,!1,1,"LINEWIDTH",i,e,void 0,e.datasets[c].datasetStrokeWidth,t.datasetStrokeWidth,"datasetStrokeWidth",c,-1,{nullvalue:null})),i.beginPath(),i.strokeStyle=setOptionValue(!0,!1,1,"LEGENDSTROKECOLOR",i,e,void 0,e.datasets[c].strokeColor,t.defaultFillColor,"strokeColor",c,-1,{animationValue:1,xPosLeft:n,yPosBottom:s,xPosRight:n+Math.ceil(i.chartTextScale*t.legendBlockSize),yPosTop:s-Math.ceil(i.chartTextScale*t.legendFontSize)}),i.setLineDash(lineStyleFn(setOptionValue(!0,!1,1,"LEGENDLINEDASH",i,e,void 0,e.datasets[c].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",c,-1,{animationValue:1,xPosLeft:n,yPosBottom:s,xPosRight:n+Math.ceil(i.chartTextScale*t.legendBlockSize),yPosTop:s-Math.ceil(i.chartTextScale*t.legendFontSize)}))),i.moveTo(n,s),i.lineTo(n+Math.ceil(i.chartTextScale*t.legendBlockSize),s),i.lineTo(n+Math.ceil(i.chartTextScale*t.legendBlockSize),s-Math.ceil(i.chartTextScale*t.legendFontSize)),i.lineTo(n,s-Math.ceil(i.chartTextScale*t.legendFontSize)),i.lineTo(n,s),i.stroke(),i.closePath(),i.fillStyle=setOptionValue(!0,!1,1,"LEGENDFILLCOLOR",i,e,void 0,e.datasets[c].fillColor,t.defaultFillColor,"fillColor",c,-1,{animationValue:1,xPosLeft:n,yPosBottom:s,xPosRight:n+Math.ceil(i.chartTextScale*t.legendBlockSize),yPosTop:s-Math.ceil(i.chartTextScale*t.legendFontSize)}),i.fill();else{if(i.lineWidth=t.legendColorIndicatorStrokeWidth?t.legendColorIndicatorStrokeWidth:Math.ceil(i.chartLineScale*setOptionValue(!0,!1,1,"LINEWIDTH",i,e,void 0,e.datasets[c].datasetStrokeWidth,t.datasetStrokeWidth,"datasetStrokeWidth",c,-1,{nullvalue:null})),t.legendColorIndicatorStrokeWidth&&t.legendColorIndicatorStrokeWidth>Math.ceil(i.chartTextScale*t.legendFontSize)&&(i.lineWidth=Math.ceil(i.chartTextScale*t.legendFontSize)),i.strokeStyle=setOptionValue(!0,!1,1,"LEGENDSTROKECOLOR",i,e,void 0,e.datasets[c].strokeColor,t.defaultFillColor,"strokeColor",c,-1,{animationValue:1,xPosLeft:n,yPosBottom:s,xPosRight:n+Math.ceil(i.chartTextScale*t.legendBlockSize),yPosTop:s-Math.ceil(i.chartTextScale*t.legendFontSize)}),i.setLineDash(lineStyleFn(setOptionValue(!0,!1,1,"LEGENDLINEDASH",i,e,void 0,e.datasets[c].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",c,-1,{animationValue:1,xPosLeft:n,yPosBottom:s,xPosRight:n+Math.ceil(i.chartTextScale*t.legendBlockSize),yPosTop:s-Math.ceil(i.chartTextScale*t.legendFontSize)}))),i.moveTo(n+2,s-Math.ceil(i.chartTextScale*t.legendFontSize)/2),i.lineTo(n+2+Math.ceil(i.chartTextScale*t.legendBlockSize),s-Math.ceil(i.chartTextScale*t.legendFontSize)/2),i.stroke(),i.fill(),t.pointDot){i.beginPath(),i.fillStyle=setOptionValue(!0,!1,1,"LEGENDMARKERFILLCOLOR",i,e,void 0,e.datasets[c].pointColor,t.defaultStrokeColor,"pointColor",c,-1,{nullvalue:!0}),i.strokeStyle=setOptionValue(!0,!1,1,"LEGENDMARKERSTROKESTYLE",i,e,void 0,e.datasets[c].pointStrokeColor,t.defaultStrokeColor,"pointStrokeColor",c,-1,{nullvalue:!0}),i.lineWidth=setOptionValue(!0,!1,i.chartLineScale,"LEGENDMARKERLINEWIDTH",i,e,void 0,e.datasets[c].pointDotStrokeWidth,t.pointDotStrokeWidth,"pointDotStrokeWidth",c,-1,{nullvalue:!0});var A=setOptionValue(!0,!1,1,"LEGENDMARKERSHAPE",i,e,void 0,e.datasets[c].markerShape,t.markerShape,"markerShape",c,-1,{nullvalue:!0}),f=setOptionValue(!0,!1,i.chartSpaceScale,"LEGENDMARKERRADIUS",i,e,void 0,e.datasets[c].pointDotRadius,t.pointDotRadius,"pointDotRadius",c,-1,{nullvalue:!0}),x=setOptionValue(!0,!1,1,"LEGENDMARKERSTROKESTYLE",i,e,void 0,e.datasets[c].pointDotStrokeStyle,t.pointDotStrokeStyle,"pointDotStrokeStyle",c,-1,{nullvalue:!0});drawMarker(i,n+2+Math.ceil(i.chartTextScale*t.legendBlockSize)/2,s-Math.ceil(i.chartTextScale*t.legendFontSize)/2,A,f,x)}i.fill()}i.restore(),i.save(),i.beginPath(),i.font=t.legendFontStyle+" "+Math.ceil(i.chartTextScale*t.legendFontSize).toString()+"px "+t.legendFontFamily,i.fillStyle=setOptionValue(!0,!1,1,"LEGENDFONTCOLOR",i,e,void 0,void 0,t.legendFontColor,"legendFontColor",c,-1,{nullvalue:!0}),i.textAlign="left",i.textBaseline="bottom",i.translate(n+Math.ceil(i.chartTextScale*t.legendBlockSize)+Math.ceil(i.chartSpaceScale*t.legendSpaceBetweenBoxAndText),s),i.fillTextMultiLine(d,0,0,i.textBaseline,Math.ceil(i.chartTextScale*t.legendFontSize),!0,t.detectMouseOnText,i,"LEGEND_TEXTMOUSE",0,n+Math.ceil(i.chartTextScale*t.legendBlockSize)+Math.ceil(i.chartSpaceScale*t.legendSpaceBetweenBoxAndText),s,c,-1),i.restore()}}function measureLegend(a,e,t,i,l,o,n,s){var r=0,c=0,h=0,d=0,p=0,u=0,S=0,g=0,A=0,f=0,x=0,m=0;return d=o*(l+Math.ceil(e.chartSpaceScale*t.legendSpaceBetweenTextVertical))-Math.ceil(e.chartSpaceScale*t.legendSpaceBetweenTextVertical)+Math.ceil(e.chartSpaceScale*t.legendSpaceBeforeText)+Math.ceil(e.chartSpaceScale*t.legendSpaceAfterText),h=n*(i+Math.ceil(e.chartSpaceScale*t.legendSpaceBetweenTextHorizontal))-Math.ceil(e.chartSpaceScale*t.legendSpaceBetweenTextHorizontal)+Math.ceil(e.chartSpaceScale*t.legendSpaceLeftText)+Math.ceil(e.chartSpaceScale*t.legendSpaceRightText),c=d,r=h,S=Math.ceil(e.chartSpaceScale*t.legendSpaceLeftText),g=Math.ceil(e.chartSpaceScale*t.legendSpaceBeforeText),1==t.legendBorders?(p=r,u=c,isBorder(t.legendBordersSelection,"LEFT")?(p+=Math.ceil(e.chartLineScale*t.legendBordersWidth)/2,r+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),S+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),x+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft)+Math.ceil(e.chartLineScale*t.legendBordersWidth)/2,A+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft)):"rgba(0,0,0,0)"!=t.legendFillColor&&(r+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),S+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),A+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),x+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft)),isBorder(t.legendBordersSelection,"RIGHT")?(p+=Math.ceil(e.chartLineScale*t.legendBordersWidth)/2,r+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceRight)):"rgba(0,0,0,0)"!=t.legendFillColor&&(r+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceRight)),isBorder(t.legendBordersSelection,"TOP")?(u+=Math.ceil(e.chartLineScale*t.legendBordersWidth)/2,c+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),g+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),f+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),m+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore)+Math.ceil(e.chartLineScale*t.legendBordersWidth)/2):"rgba(0,0,0,0)"!=t.legendFillColor&&(c+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),g+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),f+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),m+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore)),isBorder(t.legendBordersSelection,"BOTTOM")?(u+=Math.ceil(e.chartLineScale*t.legendBordersWidth)/2,c+=Math.ceil(e.chartLineScale*t.legendBordersWidth)+Math.ceil(e.chartSpaceScale*t.legendBordersSpaceAfter)):"rgba(0,0,0,0)"!=t.legendFillColor&&(c+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceAfter))):"rgba(0,0,0,0)"!=t.legendFillColor&&(r+=Math.ceil(e.chartSpaceScale*(t.legendBordersSpaceRight+t.legendBordersSpaceLeft)),c+=Math.ceil(e.chartSpaceScale*(t.legendBordersSpaceBefore+t.legendBordersSpaceAfter)),A+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),f+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore),S+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceLeft),g+=Math.ceil(e.chartSpaceScale*t.legendBordersSpaceBefore)),{legendWidth:r,legendHeight:c,legendBackgroundColorWidth:h,legendBackgroundColorHeight:d,legendBorderWidth:p,legendBorderHeight:u,legendFirstTextXPos:S,legendFirstTextYPos:g,legendBackgroundColorXPos:A,legendBackgroundColorYPos:f,legendBorderXPos:x,legendBorderYPos:m,elementMsr:null}}function drawMarker(a,e,t,i,l,o){switch(a.setLineDash(lineStyleFn(o)),i){case"square":a.rect(e-l,t-l,2*l,2*l),a.stroke(),a.fill(),a.setLineDash([]);break;case"triangle":pointA_x=0,pointA_y=2/3*l,a.moveTo(e,t-pointA_y),a.lineTo(e+pointA_y*Math.sin(4/3),t+pointA_y*Math.cos(4/3)),a.lineTo(e-pointA_y*Math.sin(4/3),t+pointA_y*Math.cos(4/3)),a.lineTo(e,t-pointA_y),a.stroke(),a.fill(),a.setLineDash([]);break;case"diamond":a.moveTo(e,t+l),a.lineTo(e+l,t),a.lineTo(e,t-l),a.lineTo(e-l,t),a.lineTo(e,t+l),a.stroke(),a.fill(),a.setLineDash([]);break;case"plus":a.moveTo(e,t-l),a.lineTo(e,t+l),a.moveTo(e-l,t),a.lineTo(e+l,t),a.stroke(),a.setLineDash([]);break;case"cross":a.moveTo(e-l,t-l),a.lineTo(e+l,t+l),a.moveTo(e-l,t+l),a.lineTo(e+l,t-l),a.stroke(),a.setLineDash([]);break;case"circle":default:a.arc(e,t,l,0,2*Math.PI*1,!0),a.stroke(),a.fill(),a.setLineDash([])}}function initPassVariableData_part1(a,e,t){var i,l,o,n,s,r,c,h,d,p,u,S,g,A,f,x,m,T,P,D,M,v,y,L;switch(o=[],n=[],n[0]=[],n[1]=[],s=[],s[0]=[],s[1]=[],r=[],r[0]=[],r[1]=[],c=[],c[0]=[],c[1]=[],h=[],h[0]=[],h[1]=[],d=[],d[0]=[],d[1]=[],S=[],g=[],A=[],f=[],x=[],S[0]=[],S[1]=[],m=0,P=[],D=[],M=[],v=[],y=[],t.tpchart){case"PolarArea":var b,O;for(b=[],O=[],i=0;i<a.datasets.length;i++)for(l=0;l<a.labels.length;l++)0==i&&(b[l]=0),void 0!==a.datasets[i].data[l]&&b[l]++;var I=0,B=0;for(l=0;l<a.labels.length;l++)O[l]=B,I=Math.max(b[l],I),b[l]>0&&B++,v[l]=0,y[l]=1;var V=1;break;case"Doughnut":case"Pie":var G,R,V=0,C=0;for(l=0;l<a.labels.length;l++)G=setOptionValue(!0,!0,1,"RADIUSSPACEWEIGHT",t,a,null,a.radiusSpaceWeight,e.radiusSpaceWeight,"radiusSpaceWeight",l,-1,{nullvalue:null}),R=setOptionValue(!0,!0,1,"RADIUSDATAWEIGHT",t,a,null,a.radiusDataWeight,e.radiusDataWeight,"radiusDataWeight",l,-1,{nullvalue:null}),0!=l&&(C+=G,V+=G),v[l]=C,V+=R,y[l]=V,C+=R}for(i=0;i<a.datasets.length;i++){if(void 0!==a.datasets[i].xPos&&"Line"==tpdraw(t,a.datasets[i]))for(l=a.datasets[i].data.length;l<a.datasets[i].xPos.length;l++)a.datasets[i].data.push(void 0);else for(l=a.datasets[i].data.length;l<a.labels.length;l++)a.datasets[i].data.push(void 0);for(L=2==a.datasets[i].axis?0:1,o[i]=[],h[0][i]=-Number.MAX_VALUE,h[1][i]=-Number.MAX_VALUE,d[0][i]=Number.MAX_VALUE,d[1][i]=Number.MAX_VALUE,g[i]=-1,A[i]=-1,l=0;l<a.datasets[i].data.length;l++){void 0===f[l]&&(f[l]=-1,x[l]=-1,c[0][l]=0,n[0][l]=-Number.MAX_VALUE,s[0][l]=Number.MAX_VALUE,c[1][l]=0,n[1][l]=-Number.MAX_VALUE,s[1][l]=Number.MAX_VALUE);var N=!0;"Doughnut"==t.tpchart?(0==setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,null,a.datasets[i].displayData,e.displayData,"displayData",i,l,{nullvalue:null})&&(N=!1),0==setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,null,a.displayData,e.displayData,"displayData",-1,l,{nullvalue:null})&&(N=!1)):(0==setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,null,a.datasets[i].displayData,e.displayData,"displayData",i,l,{nullvalue:null})&&(N=!1),0==setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,null,a.displayData,e.displayData,"displayData",l,-1,{nullvalue:null})&&(N=!1)),void 0===a.datasets[i].data[l]&&(N=!1),1==N&&(m+=1*a.datasets[i].data[l],-1==g[i]&&(g[i]=l),A[i]=l,-1==f[l]&&(f[l]=i),x[l]=i,c[L][l]+=1*a.datasets[i].data[l],n[L][l]=Math.max(n[L][l],1*a.datasets[i].data[l]),s[L][l]=Math.min(s[L][l],1*a.datasets[i].data[l]),h[L][i]=Math.max(h[L][i],1*a.datasets[i].data[l]),d[L][i]=Math.min(d[L][i],1*a.datasets[i].data[l]))}}for(i=0;i<a.datasets.length;i++){L=2==a.datasets[i].axis?0:1,p="string"==typeof a.datasets[i].title?a.datasets[i].title.trim():"";var w=-1,F=-1;for(l=0;l<a.datasets[i].data.length;l++){void 0===r[0][l]&&(r[0][l]=0,S[0][l]=-1,r[1][l]=0,S[1][l]=-1),u="",void 0!==a.datasets[i].xPos&&void 0!==a.datasets[i].xPos[l]&&(u=a.datasets[i].xPos[l]),""==u&&void 0!==a.labels[l]&&(u=a.labels[l]),"string"==typeof u&&(u=u.trim());var N=!0;if("Line"==tpdraw(t,a.datasets[i])&&(0==setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,null,a.datasets[i].displayData,e.displayData,"displayData",i,l,{nullvalue:null})&&(N=!1),0==setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,null,a.displayData,e.displayData,"displayData",l,-1,{nullvalue:null})&&(N=!1)),void 0===a.datasets[i].data[l]&&(N=!1),N){switch(r[L][l]+=1*a.datasets[i].data[l],tpdraw(t,a.datasets[i])){case"PolarArea":case"Doughnut":case"Pie":if(0==i){if(0==l){var H=((e.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);H<=e.zeroValue&&(H=2*Math.PI)}D[l]=((-e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),M[l]=((e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),"PolarArea"==t.tpchart&&(D[l]+=O[l]*(H/B),M[l]-=O[l]*(H/B)),P[l]=D[l]}T="PolarArea"==t.tpchart?b[l]>0?H/B/b[l]:0:1*a.datasets[i].data[l]/c[L][l]*H,T>=2*Math.PI&&(T=2*Math.PI-.001),o[i][l]={config:e,v1:fmtChartJS(e,p,e.fmtV1),v2:fmtChartJS(e,u,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[i].data[l],e.fmtV3),v4:fmtChartJS(e,r[L][l],e.fmtV4),v5:fmtChartJS(e,c[L][l],e.fmtV5),v6:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/c[L][l],e.fmtV6),e.roundPct),v6T:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/m,e.fmtV6T),e.roundPct),v7:0,v8:0,v9:0,v10:0,v11:fmtChartJS(e,i,e.fmtV11),v12:fmtChartJS(e,l,e.fmtV12),v13:fmtChartJS(e,T,e.fmtV13),v14:fmtChartJS(e,D[l],e.fmtV14),v15:fmtChartJS(e,D[l]+T,e.fmtV15),lgtxt:p,lgtxt2:u,datavalue:1*a.datasets[i].data[l],cumvalue:r[L][l],totvalue:c[L][l],pctvalue:100*a.datasets[i].data[l]/c[L][l],pctvalueT:100*a.datasets[i].data[l]/m,maxvalue:n[L][l],minvalue:s[L][l],lmaxvalue:h[L][i],lminvalue:d[L][i],grandtotal:m,firstNotMissing:f[l],lastNotMissing:x[l],prevNotMissing:w,prevMissing:F,nextNotMissing:-1,segmentAngle:T,firstAngle:P[l],startAngle:D[l],realStartAngle:M[l],endAngle:D[l]+T,radiusOffset:0,midPosX:0,midPosY:0,int_radius:0,ext_radius:0,startRadius:v[l]/V,stopRadius:y[l]/V,totRadiusWeight:V,j:l,i:i,data:a},D[l]=D[l]+T,M[l]=M[l]-T;break;case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":o[i][l]={config:e,v1:fmtChartJS(e,p,e.fmtV1),v2:fmtChartJS(e,u,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[i].data[l],e.fmtV3),v4:fmtChartJS(e,r[L][l],e.fmtV4),v5:fmtChartJS(e,c[L][l],e.fmtV5),v6:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/c[L][l],e.fmtV6),e.roundPct),v6T:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/m,e.fmtV6T),e.roundPct),v11:fmtChartJS(e,i,e.fmtV11),v12:fmtChartJS(e,l,e.fmtV12),lgtxt:p,lgtxt2:u,datavalue:1*a.datasets[i].data[l],cumvalue:r[L][l],totvalue:c[L][l],pctvalue:100*a.datasets[i].data[l]/c[L][l],pctvalueT:100*a.datasets[i].data[l]/m,maxvalue:n[L][l],minvalue:s[L][l],lmaxvalue:h[L][i],lminvalue:d[L][i],grandtotal:m,firstNotMissing:f[l],lastNotMissing:x[l],prevNotMissing:w,prevMissing:F,nextNotMissing:-1,j:l,i:i,data:a},1*a.datasets[i].data[l]!=0||"HorizontalStackedBar"!=tpdraw(t,a.datasets[i])&&"StackedBar"!=tpdraw(t,a.datasets[i])||(o[i][l].v3="");break;case"Line":case"Radar":o[i][l]={config:e,v1:fmtChartJS(e,p,e.fmtV1),v2:fmtChartJS(e,u,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[i].data[l],e.fmtV3),v5:fmtChartJS(e,1*a.datasets[i].data[l],e.fmtV5),v6:fmtChartJS(e,n[L][l],e.fmtV6),v7:fmtChartJS(e,c[L][l],e.fmtV7),v8:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/c[L][l],e.fmtV8),e.roundPct),v8T:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[l]/m,e.fmtV8T),e.roundPct),v11:fmtChartJS(e,i,e.fmtV11),v12:fmtChartJS(e,l,e.fmtV12),lgtxt:p,lgtxt2:u,datavalue:1*a.datasets[i].data[l],diffnext:1*a.datasets[i].data[l],pctvalue:100*a.datasets[i].data[l]/c[L][l],pctvalueT:100*a.datasets[i].data[l]/m,totvalue:c[L][l],cumvalue:r[L][l],maxvalue:n[L][l],minvalue:s[L][l],lmaxvalue:h[L][i],lminvalue:d[L][i],grandtotal:m,firstNotMissing:g[i],lastNotMissing:A[i],prevNotMissing:w,prevMissing:F,nextNotMissing:-1,j:l,i:i,data:a},S[L][l]>=0?(o[i][l].v4=fmtChartJS(e,-1!=S[L][l]?1*a.datasets[i].data[l]-o[S[L][l]][l].datavalue:1*a.datasets[i].data[l],e.fmtV4),o[i][l].diffprev=-1!=S[L][l]?1*a.datasets[i].data[l]-o[S[L][l]][l].datavalue:1*a.datasets[i].data[l],o[S[L][l]][l].diffnext=a.datasets[S[L][l]].data[l]-a.datasets[i].data[l],o[S[L][l]][l].v5=o[S[L][l]][l].diffnext):o[i][l].v4=1*a.datasets[i].data[l],S[L][l]=i}if(-1!=w)for(k=w;k<l;k++)o[i][k].nextNotMissing=l;w=l}else switch(F=l,tpdraw(t,a.datasets[i])){case"PolarArea":case"Doughnut":case"Pie":if(0==i){if(0==l){var H=((e.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);H<=e.zeroValue&&(H=2*Math.PI)}D[l]=((-e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),M[l]=((e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),"PolarArea"==t.tpchart&&(D[l]+=O[l]*(H/B),M[l]-=O[l]*(H/B)),P[l]=D[l]}case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":o[i][l]={v1:p,lmaxvalue:h[L][i],lminvalue:d[L][i],firstNotMissing:f[l],lastNotMissing:x[l],prevNotMissing:w,prevMissing:F,grandtotal:m};break;case"Line":case"Radar":o[i][l]={v1:p,lmaxvalue:h[L][i],lminvalue:d[L][i],firstNotMissing:g[i],lastNotMissing:A[i],prevNotMissing:w,prevMissing:F,grandtotal:m}}}}return o}function initPassVariableData_part2(a,e,t,i,l,o,n){function s(a,e,i,l,o,n){if("object"==typeof i.datasets[a].xPos&&void 0!==i.datasets[a].xPos[Math.floor(e+t.zeroValue)]){var r=o*n,c=void 0!==i.xBegin?i.xBegin:"number"!=typeof(1*i.labels[0])||isNaN(1*i.labels[0])?0:1*i.labels[0],h=void 0!==i.xEnd?i.xEnd:"number"!=typeof(1*i.labels[i.labels.length-1])||isNaN(1*i.labels[i.labels.length-1])?i.labels.length-1:1*i.labels[i.labels.length-1];if(h<=c&&(h=c+100),1*i.datasets[a].xPos[Math.floor(e+t.zeroValue)]>=c&&i.datasets[a].xPos[Math.floor(e+t.zeroValue)]<=h){var d=l+r*((1*i.datasets[a].xPos[Math.floor(e+t.zeroValue)]-c)/(h-c)),p=d;return Math.abs(e-Math.floor(e+t.zeroValue))>t.zeroValue&&(p=s(a,Math.ceil(e-t.zeroValue),i)),d+(e-Math.floor(e+t.zeroValue))*(p-d)}}return l+o*e}function r(a,e,t,i){if(a)return h(d(e)*i-d(t.graphMin)*i,void 0,0);var l=t.steps*t.stepValue,o=e-t.graphMin,n=h(o/l,1,0);return i*t.steps*n}function c(a,e,t){var i=e.steps*e.stepValue,l=a-e.graphMin,o=h(l/i,1,0);return t*e.steps*o}function h(a,e,t){return isNumber(e)&&a>e?e:isNumber(t)&&a<t?t:a}function d(a){return Math.log(a)/Math.LN10}var p,u,S=0,g=new Array(e.datasets.length),A=new Array(e.datasets.length);for(p=0;p<e.datasets.length;p++)switch(tpdraw(i,e.datasets[p])){case"PolarArea":case"Pie":case"Doughnut":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].v7=fmtChartJS(t,n.midPosX,t.fmtV7),a[p][u].v8=fmtChartJS(t,n.midPosY,t.fmtV8),a[p][u].v9=fmtChartJS(t,n.int_radius+(n.ext_radius-n.int_radius)*a[p][u].startRadius,t.fmtV9),a[p][u].v10=fmtChartJS(t,n.int_radius+(n.ext_radius-n.int_radius)*a[p][u].stopRadius,t.fmtV10),"PolarArea"==i.tpchart?(a[p][u].radiusOffset=r(l,1*e.datasets[p].data[u],n.calculatedScale,n.scaleHop),a[p][u].v10=fmtChartJS(t,a[p].radiusOffset,t.fmtV10)):(a[p][u].v10=fmtChartJS(t,n.ext_radius,t.fmtV10),a[p][u].radiusOffset=n.int_radius+(n.ext_radius-n.int_radius)*a[p][u].stopRadius),a[p][u].outerVal=n.outerVal,a[p][u].midPosX=n.midPosX,a[p][u].midPosY=n.midPosY,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,a[p][u].int_radius=n.int_radius+(n.ext_radius-n.int_radius)*a[p][u].startRadius,a[p][u].ext_radius=n.int_radius+(n.ext_radius-n.int_radius)*a[p][u].stopRadius;break;case"Line":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].xAxisPosY=n.xAxisPosY,a[p][u].yAxisPosX=n.yAxisPosX,a[p][u].valueHop=n.valueHop,a[p][u].nbValueHop=n.nbValueHop,2==e.datasets[p].axis?(a[p][u].scaleHop=n.scaleHop2,a[p][u].zeroY=n.zeroY2,a[p][u].calculatedScale=n.calculatedScale2,a[p][u].logarithmic=n.logarithmic2):(a[p][u].scaleHop=n.scaleHop,a[p][u].zeroY=n.zeroY,a[p][u].calculatedScale=n.calculatedScale,a[p][u].logarithmic=n.logarithmic),a[p][u].xPos=s(p,u,e,n.yAxisPosX,n.valueHop,n.nbValueHop),a[p][u].yAxisPos=n.xAxisPosY-a[p][u].zeroY,"Bar"!=i.tpchart&&"StackedBar"!=i.tpchart||(a[p][u].xPos+=n.valueHop/2,a[p][u].yAxisPosX+=n.valueHop/2),0==u?(a[p][u].lmaxvalue_offset=r(a[p][u].logarithmic,a[p][u].lmaxvalue,a[p][u].calculatedScale,a[p][u].scaleHop)-a[p][u].zeroY,a[p][u].lminvalue_offset=r(a[p][u].logarithmic,a[p][u].lminvalue,a[p][u].calculatedScale,a[p][u].scaleHop)-a[p][u].zeroY):(a[p][u].lmaxvalue_offset=a[p][0].lmaxvalue_offset,a[p][u].lminvalue_offset=a[p][0].lminvalue_offset),void 0!==e.datasets[p].data[u]&&(a[p][u].yPosOffset=r(a[p][u].logarithmic,e.datasets[p].data[u],a[p][u].calculatedScale,a[p][u].scaleHop)-a[p][u].zeroY,a[p][u].posY=a[p][u].yAxisPos-a[p][u].yPosOffset),"object"==typeof e.datasets[p].origin&&void 0!==e.datasets[p].origin[u]&&(a[p][u].yPosOffsetOrigin=r(a[p][u].logarithmic,e.datasets[p].origin[u],a[p][u].calculatedScale,a[p][u].scaleHop)-a[p][u].zeroY,a[p][u].posYOrigin=a[p][u].yAxisPos-a[p][u].yPosOffsetOrigin),a[p][u].posX=a[p][u].xPos,a[p][u].v9=a[p][u].xPos,a[p][u].v10=a[p][u].posY,a[p][u].annotateStartPosX=a[p][u].xPos,a[p][u].annotateEndPosX=a[p][u].xPos,a[p][u].annotateStartPosY=n.xAxisPosY,a[p][u].annotateEndPosY=n.xAxisPosY-n.msr.availableHeight,a[p][u].D1A=void 0,a[p][u].D1B=void 0;break;case"Radar":var f=2*Math.PI/e.datasets[0].data.length;for(u=0;u<e.datasets[p].data.length;u++)a[p][u].midPosX=n.midPosX,a[p][u].midPosY=n.midPosY,a[p][u].int_radius=0,a[p][u].ext_radius=n.maxSize,a[p][u].radiusOffset=n.maxSize,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,a[p][u].calculated_offset=r(l,e.datasets[p].data[u],n.calculatedScale,n.scaleHop),a[p][u].offsetX=Math.cos(t.startAngle*Math.PI/180-u*f)*a[p][u].calculated_offset,a[p][u].offsetY=Math.sin(t.startAngle*Math.PI/180-u*f)*a[p][u].calculated_offset,a[p][u].v9=a[p][u].midPosX+a[p][u].offsetX,a[p][u].v10=a[p][u].midPosY-a[p][u].offsetY,a[p][u].posX=a[p][u].midPosX+a[p][u].offsetX,a[p][u].posY=a[p][u].midPosY-a[p][u].offsetY,a[p][u].calculated_offset_max=0==u?r(l,a[p][u].lmaxvalue,n.calculatedScale,n.scaleHop):a[0][u].calculated_offset_max,a[p][u].annotateStartPosX=n.midPosX,a[p][u].annotateEndPosX=n.midPosX+Math.cos(t.startAngle*Math.PI/180-u*f)*n.maxSize,a[p][u].annotateStartPosY=n.midPosY,a[p][u].annotateEndPosY=n.midPosY-Math.sin(t.startAngle*Math.PI/180-u*f)*n.maxSize,Math.abs(a[p][u].annotateStartPosX-a[p][u].annotateEndPosX)<t.zeroValue?(a[p][u].D1A=void 0,a[p][u].D1B=void 0,a[p][u].D2A=0):(a[p][u].D1A=(a[p][u].annotateStartPosY-a[p][u].annotateEndPosY)/(a[p][u].annotateStartPosX-a[p][u].annotateEndPosX),a[p][u].D1B=-a[p][u].D1A*a[p][u].annotateStartPosX+a[p][u].annotateStartPosY,Math.abs(a[p][u].D1A)>=t.zeroValue?a[p][u].D2A=-1/a[p][u].D1A:a[p][u].D2A=void 0);break;case"Bar":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].xAxisPosY=n.xAxisPosY,a[p][u].yAxisPosX=n.yAxisPosX,a[p][u].valueHop=n.valueHop,a[p][u].barWidth=n.barWidth,a[p][u].additionalSpaceBetweenBars=n.additionalSpaceBetweenBars,a[p][u].nbValueHop=n.nbValueHop,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,a[p][u].xPosLeft=n.yAxisPosX+Math.ceil(i.chartSpaceScale*t.barValueSpacing)+n.valueHop*u+n.additionalSpaceBetweenBars+n.barWidth*S+Math.ceil(i.chartSpaceScale*t.barDatasetSpacing)*S+Math.ceil(i.chartLineScale*t.barStrokeWidth)*S,a[p][u].xPosRight=a[p][u].xPosLeft+n.barWidth,2==e.datasets[p].axis?(a[p][u].yPosBottom=n.xAxisPosY-n.zeroY2,a[p][u].barHeight=r(o,1*e.datasets[p].data[u],n.calculatedScale2,n.scaleHop2)-n.zeroY2):(a[p][u].yPosBottom=n.xAxisPosY-n.zeroY,a[p][u].barHeight=r(l,1*e.datasets[p].data[u],n.calculatedScale,n.scaleHop)-n.zeroY),a[p][u].yPosTop=a[p][u].yPosBottom-a[p][u].barHeight+Math.ceil(i.chartLineScale*t.barStrokeWidth)/2,a[p][u].v7=a[p][u].xPosLeft,a[p][u].v8=a[p][u].yPosBottom,a[p][u].v9=a[p][u].xPosRight,a[p][u].v10=a[p][u].yPosTop;S++;break;case"StackedBar":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].xAxisPosY=n.xAxisPosY,a[p][u].yAxisPosX=n.yAxisPosX,a[p][u].valueHop=n.valueHop,a[p][u].barWidth=n.barWidth,a[p][u].additionalSpaceBetweenBars=n.additionalSpaceBetweenBars,a[p][u].nbValueHop=n.nbValueHop,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,void 0===g[u]&&(g[u]=0,A[u]=0,zeroY=r(l,0,n.calculatedScale,n.scaleHop)),void 0!==e.datasets[p].data[u]&&(a[p][u].xPosLeft=n.yAxisPosX+Math.ceil(i.chartSpaceScale*t.barValueSpacing)+n.valueHop*u+n.additionalSpaceBetweenBars,1*e.datasets[p].data[u]<0?(a[p][u].botval=A[u],a[p][u].topval=A[u]+1*e.datasets[p].data[u],A[u]=A[u]+1*e.datasets[p].data[u]):(a[p][u].botval=g[u],a[p][u].topval=g[u]+1*e.datasets[p].data[u],g[u]=g[u]+1*e.datasets[p].data[u]),a[p][u].xPosRight=a[p][u].xPosLeft+n.barWidth,a[p][u].botOffset=r(l,a[p][u].botval,n.calculatedScale,n.scaleHop),a[p][u].topOffset=r(l,a[p][u].topval,n.calculatedScale,n.scaleHop),a[p][u].yPosBottom=n.xAxisPosY-a[p][u].botOffset,a[p][u].yPosTop=n.xAxisPosY-a[p][u].topOffset,Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)>0&&(1*e.datasets[p].data[u]<0?(a[p][u].yPosBottom+=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar),A[u]==1*e.datasets[p].data[u]&&(a[p][u].yPosBottom-=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)/2),a[p][u].yPosTop<a[p][u].yPosBottom&&(a[p][u].yPosBottom=a[p][u].yPosTop)):1*e.datasets[p].data[u]>0&&(a[p][u].yPosBottom-=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar),g[u]==1*e.datasets[p].data[u]&&(a[p][u].yPosBottom+=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)/2),a[p][u].yPosTop>a[p][u].yPosBottom&&(a[p][u].yPosBottom=a[p][u].yPosTop))),a[p][u].v7=a[p][u].xPosLeft,a[p][u].v8=a[p][u].yPosBottom,a[p][u].v9=a[p][u].xPosRight,a[p][u].v10=a[p][u].yPosTop);break;case"HorizontalBar":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].xAxisPosY=n.xAxisPosY,a[p][u].yAxisPosX=n.yAxisPosX,a[p][u].valueHop=n.valueHop,a[p][u].barWidth=n.barWidth,a[p][u].additionalSpaceBetweenBars=n.additionalSpaceBetweenBars,a[p][u].nbValueHop=n.nbValueHop,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,a[p][u].xPosLeft=n.yAxisPosX+n.zeroY,a[p][u].yPosTop=n.xAxisPosY+Math.ceil(i.chartSpaceScale*t.barValueSpacing)-n.scaleHop*(u+1)+n.additionalSpaceBetweenBars+n.barWidth*p+Math.ceil(i.chartSpaceScale*t.barDatasetSpacing)*p+Math.ceil(i.chartLineScale*t.barStrokeWidth)*p,a[p][u].yPosBottom=a[p][u].yPosTop+n.barWidth,a[p][u].barWidth=r(l,1*e.datasets[p].data[u],n.calculatedScale,n.valueHop)-n.zeroY,a[p][u].xPosRight=a[p][u].xPosLeft+a[p][u].barWidth,a[p][u].v7=a[p][u].xPosLeft,a[p][u].v8=a[p][u].yPosBottom,a[p][u].v9=a[p][u].xPosRight,a[p][u].v10=a[p][u].yPosTop;break;case"HorizontalStackedBar":for(u=0;u<e.datasets[p].data.length;u++)a[p][u].xAxisPosY=n.xAxisPosY,a[p][u].yAxisPosX=n.yAxisPosX,a[p][u].valueHop=n.valueHop,a[p][u].barWidth=n.barWidth,a[p][u].additionalSpaceBetweenBars=n.additionalSpaceBetweenBars,a[p][u].nbValueHop=n.nbValueHop,a[p][u].calculatedScale=n.calculatedScale,a[p][u].scaleHop=n.scaleHop,0==p&&(g[u]=0,A[u]=0),void 0!==e.datasets[p].data[u]&&(a[p][u].xPosLeft=n.yAxisPosX+Math.ceil(i.chartSpaceScale*t.barValueSpacing)+n.valueHop*u,1*e.datasets[p].data[u]<0?(a[p][u].leftval=A[u],a[p][u].rightval=A[u]+1*e.datasets[p].data[u],A[u]=A[u]+1*e.datasets[p].data[u]):(a[p][u].leftval=g[u],a[p][u].rightval=g[u]+1*e.datasets[p].data[u],g[u]=g[u]+1*e.datasets[p].data[u]),a[p][u].rightOffset=c(a[p][u].rightval,n.calculatedScale,n.valueHop),a[p][u].leftOffset=c(a[p][u].leftval,n.calculatedScale,n.valueHop),a[p][u].xPosRight=n.yAxisPosX+a[p][u].rightOffset,a[p][u].xPosLeft=n.yAxisPosX+a[p][u].leftOffset,a[p][u].yPosTop=n.xAxisPosY+Math.ceil(i.chartSpaceScale*t.barValueSpacing)-n.scaleHop*(u+1)+n.additionalSpaceBetweenBars,a[p][u].yPosBottom=a[p][u].yPosTop+n.barWidth,Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)>0&&(1*e.datasets[p].data[u]<0?(a[p][u].xPosLeft-=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar),A[u]==1*e.datasets[p].data[u]&&(a[p][u].xPosLeft+=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)/2),a[p][u].xPosLeft<a[p][u].xPosRight&&(a[p][u].xPosLeft=a[p][u].xPosRight)):1*e.datasets[p].data[u]>0&&(a[p][u].xPosLeft+=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar),g[u]==1*e.datasets[p].data[u]&&(a[p][u].xPosLeft-=Math.ceil(i.chartSpaceScale*t.spaceBetweenBar)/2),a[p][u].xPosLeft>a[p][u].xPosRight&&(a[p][u].xPosLeft=a[p][u].xPosRight))),a[p][u].v7=a[p][u].xPosLeft,a[p][u].v8=a[p][u].yPosBottom,a[p][u].v9=a[p][u].xPosRight,a[p][u].v10=a[p][u].yPosTop)}}function isBooleanOptionTrue(a,e){var t;if("undefined"==typeof optionvar){if("function"==typeof e)return!0;if("object"==typeof e){for(t=0;t<e.length;t++)if(e[t])return!0;return!1}return e}if("function"==typeof optionvar)return!0;if("object"==typeof optionvar){for(t=0;t<optionvar.length;t++)if(optionvar[t])return!0;return!1}return optionvar}function setOptionValue(a,e,t,i,l,o,n,s,r,c,h,d,p){var u;if(1==e&&"object"==typeof o.special)for(var S=o.special.length-1;S>=0;S--)if(void 0!==o.special[S].posi&&void 0!==o.special[S].posj&&o.special[S].posi==h&&o.special[S].posj==d&&-1!=h&&-1!=d&&void 0!==o.special[S][c])return o.special[S][c];return void 0===s?"function"==typeof r?r(i,l,o,n,h,d,p):(u="object"==typeof r?a?r[Math.min(r.length-1,Math.max(0,h))]:r[Math.min(r.length-1,Math.max(0,d))]:r,1!=t&&(u=Math.ceil(u*t)),u):(u="function"==typeof s?s(i,l,o,n,h,d,p):"object"==typeof s?-1==d?s[Math.min(s.length-1,Math.max(0,h))]:s[Math.min(s.length-1,Math.max(0,d))]:s,1!=t&&(u=Math.ceil(u*t)),u)}function tpdraw(a,e){switch(a.tpchart){case"Bar":case"StackedBar":"Line"==e.type?tp="Line":tp=a.tpchart;break;default:tp=a.tpchart}return tp}function setTextBordersAndBackground(a,e,t,i,l,o,n,s,r,c,h,d,p,u,S){var g,A;if("string"!=typeof e){var f=e.toString();g=t*(f.split("\n").length||1),A=a.measureText(f).width}else g=t*(e.split("\n").length||1),A=a.measureText(e).width;var x,m,T;"center"==a.textAlign?(x=-A/2,m=A/2):"left"==a.textAlign?(x=0,m=A):"right"==a.textAlign&&(x=-A,m=0),"top"==a.textBaseline?(T=0,ybottom=g):"center"==a.textBaseline||"middle"==a.textBaseline?(T=-g/2,ybottom=g/2):"bottom"==a.textBaseline&&(T=-g,ybottom=0),a.save(),a.beginPath(),a.translate(i,l),"none"!=p&&(this.lineWidth=0,a.strokeStyle="rgba(0,0,0,0)",a.fillStyle=p,a.drawRectangle({x:x-c,y:ybottom+h,width:m-x+2*c,height:T-ybottom-2*h,borders:o,bordersWidth:r,borderSelection:n,borderRadius:S,fill:!0,stroke:!1})),o&&(a.lineWidth=r,a.strokeStyle=s,a.fillStyle="none"!=p?p:"rgba(0,0,0,0)",a.setLineDash(lineStyleFn(d)),a.drawRectangle({x:x-c-isBorder(n,"LEFT")*r/2,y:ybottom+h+isBorder(n,"BOTTOM")*r/2,width:m-x+2*c+(isBorder(n,"LEFT")+isBorder(n,"RIGHT"))*r/2,height:-g-2*h-(isBorder(n,"BOTTOM")+isBorder(n,"TOP"))*r/2,borders:o,bordersWidth:r,borderSelection:n,borderRadius:S,fill:!1,stroke:!0}),a.setLineDash([])),a.beginPath(),a.restore()}function calculatePieDrawingSize(a,e,t,i,l){var o=((t.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),n=((t.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);n<=t.zeroValue&&(n=2*Math.PI);var s=(o-n+4*Math.PI)%(2*Math.PI),r=s+n,c=Math.floor((s+t.zeroValue)/(Math.PI/2)%4),h=Math.floor((r-t.zeroValue)/(Math.PI/2)%4),d=[0,0,0,0];if(c<=h)for(var p=c;p<=h;p++)d[p]=1;else{for(var p=c;p<4;p++)d[p]=1;for(var p=0;p<=h;p++)d[p]=1}0==d[0]&&0==d[1]?(midPieY=e.topNotUsableHeight+5,doughnutRadius=e.availableHeight-5):0==d[2]&&0==d[3]?(midPieY=e.topNotUsableHeight+e.availableHeight,doughnutRadius=e.availableHeight-5):(midPieY=e.topNotUsableHeight+e.availableHeight/2,doughnutRadius=e.availableHeight/2-5);var u;0==d[0]&&0==d[3]?(midPieX=e.leftNotUsableWidth+e.availableWidth-5,doughnutRadius=Math.min(doughnutRadius,e.availableWidth-5),u=e.availableWidth-5):0==d[1]&&0==d[2]?(midPieX=e.leftNotUsableWidth+5,doughnutRadius=Math.min(doughnutRadius,e.availableWidth-5),u=e.availableWidth-5):(midPieX=e.leftNotUsableWidth+e.availableWidth/2,
doughnutRadius=Math.min(doughnutRadius,e.availableWidth/2-5),u=e.availableWidth/2-5);var S=i.labels.length-1;if(isBooleanOptionTrue(void 0,t.inGraphDataShow)&&3==setOptionValue(!1,!0,1,"INGRAPHDATARADIUSPOSITION",a,i,l,void 0,t.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",0,S,{nullValue:!0})&&"off-center"==setOptionValue(!1,!0,1,"INGRAPHDATAALIGN",a,i,l,void 0,t.inGraphDataAlign,"inGraphDataAlign",0,S,{nullValue:!0})&&0==setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",a,i,l,void 0,t.inGraphDataRotate,"inGraphDataRotate",0,S,{nullValue:!0})){doughnutRadius=doughnutRadius-setOptionValue(!1,!0,a.chartTextScale,"INGRAPHDATAFONTSIZE",a,i,l,void 0,t.inGraphDataFontSize,"inGraphDataFontSize",0,S,{nullValue:!0})-setOptionValue(!1,!0,1,"INGRAPHDATAPADDINGRADIUS",a,i,l,void 0,t.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",0,S,{nullValue:!0})-5;for(var g,p=0;p<i.datasets.length;p++)if(void 0!==i.datasets[p].data[S]&&1*i.datasets[p].data[S]>=0){a.font=setOptionValue(!1,!0,1,"INGRAPHDATAFONTSTYLE",a,i,l,void 0,t.inGraphDataFontStyle,"inGraphDataFontStyle",p,S,{nullValue:!0})+" "+setOptionValue(!1,!0,a.chartTextScale,"INGRAPHDATAFONTSIZE",a,i,l,void 0,t.inGraphDataFontSize,"inGraphDataFontSize",p,S,{nullValue:!0})+"px "+setOptionValue(!1,!0,1,"INGRAPHDATAFONTFAMILY",a,i,l,void 0,t.inGraphDataFontFamily,"inGraphDataFontFamily",p,S,{nullValue:!0}),1==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",a,i,l,void 0,t.inGraphDataAnglePosition,"inGraphDataAnglePosition",p,S,{nullValue:!0})?g=o+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",a,i,l,void 0,t.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",p,S,{nullValue:!0})*(Math.PI/180):2==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",a,i,l,void 0,t.inGraphDataAnglePosition,"inGraphDataAnglePosition",p,S,{nullValue:!0})?g=o-l[p][S].segmentAngle/2+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",a,i,l,void 0,t.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",p,S,{nullValue:!0})*(Math.PI/180):3==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",a,i,l,void 0,t.inGraphDataAnglePosition,"inGraphDataAnglePosition",p,S,{nullValue:!0})&&(g=o-l[p][S].segmentAngle+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",a,i,l,void 0,t.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",p,S,{nullValue:!0})*(Math.PI/180)),o-=l[p][S].segmentAngle;var A=tmplbis(setOptionValue(!1,!0,1,"INGRAPHDATATMPL",a,i,l,void 0,t.inGraphDataTmpl,"inGraphDataTmpl",p,S,{nullValue:!0}),l[p][S],t),f=a.measureTextMultiLine(A).textWidth,x=Math.abs((u-f)/Math.cos(g))-setOptionValue(!1,!0,1,"INGRAPHDATAPADDINGRADIUS",a,i,l,void 0,t.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",p,S,{nullValue:!0})-5;x<doughnutRadius&&(doughnutRadius=x)}}return doughnutRadius*=t.radiusScale,{radius:doughnutRadius,midPieX:midPieX,midPieY:midPieY}}function drawGridScale(a,e,t,i,l,o,n,s,r,c,h){var d,p,u,S,g,A=!1,f=!1;if(!1!==t.drawXScaleLine)for(var x=0;x<t.drawXScaleLine.length;x++){var m;switch(t.drawXScaleLine[x].position){case"bottom":m=o,A=!0;break;case"top":m=o-c*r,f=!0;break;case"0":case 0:m=o,0!=n?m=o-n:A=!0,Math.abs(m-(o-c*r))<t.zeroValue&&(f=!0)}drawScaleLine(a,l-Math.ceil(a.chartLineScale*t.scaleTickSizeLeft),m,l+i.availableWidth+Math.ceil(a.chartLineScale*t.scaleTickSizeRight),m,t.drawXScaleLine[x].lineWidth?t.drawXScaleLine[x].lineWidth:Math.ceil(a.chartLineScale*t.scaleLineWidth),t.drawXScaleLine[x].lineColor?t.drawXScaleLine[x].lineColor:t.scaleLineColor,t.scaleGridLineStyle)}for(d=-1+(1==A);d<c;d++)if(d<c-(1==f)&&(-1==d&&t.xAxisBottom||d==c-1&&t.xAxisTop||t.scaleShowGridLines&&(d+1)%t.scaleYGridLinesStep==0?(drawFirst=!1,t.scaleTickSizeLeft>0&&drawScaleLine(a,l-Math.ceil(a.chartLineScale*t.scaleTickSizeLeft),o-(d+1)*r,l,o-(d+1)*r,Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&t.yAxisLeft?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle),drawScaleLine(a,l,o-(d+1)*r,l+i.availableWidth,o-(d+1)*r,Math.ceil(a.chartLineScale*t.scaleGridLineWidth),t.scaleGridLineColor,t.scaleGridLineStyle),t.scaleTickSizeRight>0&&drawScaleLine(a,l+i.availableWidth,o-(d+1)*r,l+i.availableWidth+Math.ceil(a.chartLineScale*t.scaleTickSizeRight),o-(d+1)*r,Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&t.yAxisRight?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle)):(t.scaleTickSizeLeft>0&&drawScaleLine(a,l-Math.ceil(a.chartLineScale*t.scaleTickSizeLeft),o-(d+1)*r,l,o-(d+1)*r,Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&t.yAxisLeft?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle),t.scaleTickSizeRight>0&&drawScaleLine(a,l+i.availableWidth,o-(d+1)*r,l+i.availableWidth+Math.ceil(a.chartLineScale*t.scaleTickSizeRight),o-(d+1)*r,Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&t.yAxisRight?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle))),t.scaleMinorTickVerticalCount>0&&-1!=d)for(u=r/(t.scaleMinorTickVerticalCount+1),p=1;p<t.scaleMinorTickVerticalCount+1;p++)t.scaleMinorTickHorizontalLines?(t.scaleMinorTickSizeLeft>0&&drawScaleLine(a,l-Math.ceil(a.chartLineScale*t.scaleMinorTickSizeLeft),o-(d+1)*r+p*u,l,o-(d+1)*r+p*u,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&t.yAxisLeft?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle),drawScaleLine(a,l,o-(d+1)*r+p*u,l+i.availableWidth,o-(d+1)*r+p*u,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),t.scaleMinorTickColor,t.scaleMinorTickStyle),t.scaleMinorTickSizeRight>0&&drawScaleLine(a,l+i.availableWidth,o-(d+1)*r+p*u,l+i.availableWidth+Math.ceil(a.chartLineScale*t.scaleMinorTickSizeRight),o-(d+1)*r+p*u,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&t.yAxisRight?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle)):(t.scaleMinorTickSizeLeft>0&&drawScaleLine(a,l-Math.ceil(a.chartLineScale*t.scaleMinorTickSizeLeft),o-(d+1)*r+p*u,l,o-(d+1)*r+p*u,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&t.yAxisLeft?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle),t.scaleMinorTickSizeRight>0&&drawScaleLine(a,l+i.availableWidth,o-(d+1)*r+p*u,l+i.availableWidth+Math.ceil(a.chartLineScale*t.scaleMinorTickSizeRight),o-(d+1)*r+p*u,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&t.yAxisRight?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle));var S,g;for(d=0;d<h;d++)if(a.beginPath(),0==d&&t.yAxisLeft||d==h-1&&t.yAxisRight?(S=t.scaleLineColor,g=t.scaleLineWidth):(S=t.scaleGridLineColor,g=t.scaleGridLineWidth),0==d&&t.yAxisLeft||d==h-1&&t.yAxisRight||d==h-1&&t.scaleTickSizeRight>0||t.scaleShowGridLines&&d%t.scaleXGridLinesStep==0?(t.scaleTickSizeBottom>0&&drawScaleLine(a,l+d*s,o+Math.ceil(a.chartLineScale*t.scaleTickSizeBottom),l+d*s,o,Math.ceil(a.chartLineScale*g),"gridLine"!=t.tickColor&&A?t.scaleLineColor:S,t.scaleGridLineStyle),drawScaleLine(a,l+d*s,o,l+d*s,o-i.availableHeight,Math.ceil(a.chartLineScale*g),S,t.scaleGridLineStyle),t.scaleTickSizeTop>0&&drawScaleLine(a,l+d*s,o-i.availableHeight,l+d*s,o-i.availableHeight-Math.ceil(a.chartLineScale*t.scaleTickSizeTop),Math.ceil(a.chartLineScale*g),"gridLine"!=t.tickColor&&f?t.scaleLineColor:S,t.scaleGridLineStyle)):(t.scaleTickSizeBottom>0&&drawScaleLine(a,l+d*s,o,l+d*s,o+Math.ceil(a.chartLineScale*t.scaleTickSizeBottom),Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&A?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle),t.scaleTickSizeTop>0&&drawScaleLine(a,l+d*s,o-i.availableHeight,l+d*s,o-i.availableHeight-Math.ceil(a.chartLineScale*t.scaleTickSizeTop),Math.ceil(a.chartLineScale*t.scaleGridLineWidth),"gridLine"!=t.tickColor&&f?t.scaleLineColor:t.scaleGridLineColor,t.scaleGridLineStyle)),d<h-1&&t.scaleMinorTickHorizontalCount>0)for(u=s/(t.scaleMinorTickHorizontalCount+1),p=1;p<t.scaleMinorTickHorizontalCount+1;p++)t.scaleMinorTickVerticalLines?(t.scaleMinorTickSizeTop>0&&drawScaleLine(a,l+d*s+p*u,o-i.availableHeight-Math.ceil(a.chartLineScale*t.scaleMinorTickSizeTop),l+d*s+p*u,o-i.availableHeight,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&A?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle),drawScaleLine(a,l+d*s+p*u,o-i.availableHeight,l+d*s+p*u,o,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),t.scaleMinorTickColor,t.scaleMinorTickStyle),t.scaleMinorTickSizeBottom>0&&drawScaleLine(a,l+d*s+p*u,o,l+d*s+p*u,o+Math.ceil(a.chartLineScale*t.scaleMinorTickSizeBottom),Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&A?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle)):(t.scaleMinorTickSizeBottom>0&&drawScaleLine(a,l+d*s+p*u,o,l+d*s+p*u,o+Math.ceil(a.chartLineScale*t.scaleMinorTickSizeBottom),Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&A?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle),t.scaleMinorTickSizeTop>0&&drawScaleLine(a,l+d*s+p*u,o-i.availableHeight-Math.ceil(a.chartLineScale*t.scaleMinorTickSizeTop),l+d*s+p*u,o-i.availableHeight,Math.ceil(a.chartLineScale*t.scaleMinorTickWidth),"gridLine"!=t.minorTickColor&&f?t.scaleLineColor:t.scaleMinorTickColor,t.scaleMinorTickStyle))}function drawScaleLine(a,e,t,i,l,o,n,s){a.beginPath(),a.moveTo(e,t),a.lineWidth=o,a.strokeStyle=n,a.lineTo(i,l),a.setLineDash(lineStyleFn(s)),a.stroke(),a.setLineDash([])}function drawTick(a,e,t,i,l,o,n,s,r,c,h){var d,p;for(d=0==e?(i-t)/(n+1):(o-l)/(n+1),p=1;p<=n;p++)a.beginPath(),a.moveTo(t+p*d*(0==e),l+p*d*(1==e)),a.lineWidth=Math.ceil(a.chartLineScale*r),a.strokeStyle=c,a.lineTo(t+p*d*(0==e)+s*(1==e),l+p*d*(1==e)-s*(0==e)),a.setLineDash(lineStyleFn(h)),a.stroke(),a.setLineDash([])}function isBorder(a,e){var t=a;if(t>=8){if("RIGHT"==e)return!0;t-=8}if(t>=4){if("TOP"==e)return!0;t-=4}if(t>=2){if("LEFT"==e)return!0;t-=2}if(t>=1){if("BOTTOM"==e)return!0;t-=1}return!1}function convertData(a,e){console.log("GENERATE:"+e),e&&console.log("var data = {"),e&&console.log('     labels : [""],'),e&&console.log("     datasets : [");for(var t={labels:[""],datasets:[]},i=0;i<a.length;i++)e&&console.log("           {"),t.datasets[i]={data:[]},void 0!==a[i].value?(e&&console.log("      data : ["+a[i].value+"],"),t.datasets[i].data=[a[i].value]):(e&&console.log("      data : ["+a[i].value+"],"),t.datasets[i].data=[]),void 0!==a[i].color&&(e&&console.log('      fillColor : "'+a[i].color+'",'),t.datasets[i].fillColor=a[i].color),void 0!==a[i].title&&(e&&console.log('      title : "'+a[i].title+'",'),t.datasets[i].title=a[i].title),void 0!==a[i].link&&(e&&console.log('      link : "'+a[i].link+'",'),t.datasets[i].link=a[i].link),void 0!==a[i].imageLoad&&(e&&console.log("      imageLoad : <image>,"),t.datasets[i].imageLoad=a[i].imageLoad),void 0!==a[i].imagePos&&(e&&console.log("      imagePos : "+a[i].imagePos+","),t.datasets[i].imagePos=a[i].imagePos),void 0!==a[i].imageHeight&&(e&&console.log("      imageHeight : "+a[i].imageHeight+","),t.datasets[i].imageHeight=a[i].imageHeight),void 0!==a[i].imageWidth&&(e&&console.log("      imageWidth : "+a[i].imageWidth+","),t.datasets[i].imageWidth=a[i].imageWidth),void 0!==a[i].text&&(e&&console.log('      text : "'+a[i].text+'",'),t.datasets[i].text=a[i].text),void 0!==a[i].fontStyle&&(e&&console.log('      fontStyle : "'+a[i].fontStyle+'",'),t.datasets[i].fontStyle=a[i].fontStyle),void 0!==a[i].fontSize&&(e&&console.log("      fontSize : "+a[i].fontSize+","),t.datasets[i].fontSize=a[i].fontSize),void 0!==a[i].expandOutRadius&&(e&&console.log("      expandOutRadius : "+a[i].expandOutRadius+","),t.datasets[i].expandOutRadius=a[i].expandOutRadius),void 0!==a[i].expandInRadius&&(e&&console.log("      expandInRadius : "+a[i].expandInRadius+","),t.datasets[i].expandInRadius=a[i].expandInRadius),void 0!==a[i].gradientColors&&(e&&console.log("      gradientColors : < put here the gradient Colors definitions> "+a[i].gradientColors+","),t.datasets[i].gradientColors=a[i].gradientColors),e&&(console.log("      nothing : true    // line added to avoid a comma after last line"),i==a.length-1?console.log("           }"):console.log("           },"));return e&&console.log("]"),a.length>0&&(void 0!==a[0].shapesInChart&&(t.shapesInChart=a[0].shapesInChart),e&&(console.log("     ,"),console.log("     <   put here the shapesInChart    >"))),e&&console.log("};"),t}var annotate_shape="divCursor",chartJSLineStyle=[];chartJSLineStyle.solid=[],chartJSLineStyle.dotted=[1,4],chartJSLineStyle.shortDash=[2,1],chartJSLineStyle.dashed=[4,2],chartJSLineStyle.dashSpace=[4,6],chartJSLineStyle.longDashDot=[7,2,1,2],chartJSLineStyle.longDashShortDash=[10,4,4,4],chartJSLineStyle.gradient=[1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var e=Object(this),t=e.length>>>0;if(0===t)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=t)return-1;for(var l=i>=0?i:Math.max(t-Math.abs(i),0);l<t;l++)if(l in e&&e[l]===a)return l;return-1});var charJSPersonalDefaultOptions={},charJSPersonalDefaultOptionsLine={},charJSPersonalDefaultOptionsRadar={},charJSPersonalDefaultOptionsPolarArea={},charJSPersonalDefaultOptionsPie={},charJSPersonalDefaultOptionsDoughnut={},charJSPersonalDefaultOptionsBar={},charJSPersonalDefaultOptionsStackedBar={},charJSPersonalDefaultOptionsHorizontalBar={},charJSPersonalDefaultOptionsHorizontalStackedBar={},cachebis={};"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.fillTextMultiLine=function(a,e,t,i,l,o,n,s,r,c,h,d,p,u){var S=(""+a).split("\n");"middle"==i?o&&(t-=(S.length-1)/2*l):"bottom"==i&&o&&(t-=(S.length-1)*l);for(var g=t-l,A=0;A<S.length;A++)this.fillText(S[A],e,t),t+=l;if(n){var f=s.measureTextMultiLine(a,l),x=[],g=[];x.p1=h+e,g.p1=d+t-l;var m=Math.PI/2+c;"left"==s.textAlign&&"top"==i?(x.p1+=l*Math.cos(m),g.p1+=l*Math.sin(m)):"left"==s.textAlign&&"middle"==i?(x.p1+=l/2*Math.cos(m),g.p1+=l/2*Math.sin(m)):"left"==s.textAlign&&"bottom"==i||("center"==s.textAlign&&"top"==i?(x.p1+=l*Math.cos(m)-f.textWidth/2*Math.cos(c),g.p1+=l*Math.sin(m)-f.textWidth/2*Math.sin(c)):"center"==s.textAlign&&"middle"==i?(x.p1+=l/2*Math.cos(m)-f.textWidth/2*Math.cos(c),g.p1+=l/2*Math.sin(m)-f.textWidth/2*Math.sin(c)):"center"==s.textAlign&&"bottom"==i?(x.p1-=f.textWidth/2*Math.cos(c),g.p1-=f.textWidth/2*Math.sin(c)):"right"==s.textAlign&&"top"==i?(x.p1+=l*Math.cos(m)-f.textWidth*Math.cos(c),g.p1+=l*Math.sin(m)-f.textWidth*Math.sin(c)):"right"==s.textAlign&&"middle"==i?(x.p1+=l/2*Math.cos(m)-f.textWidth*Math.cos(c),g.p1+=l/2*Math.sin(m)-f.textWidth*Math.sin(c)):"right"==s.textAlign&&"bottom"==i&&(x.p1-=f.textWidth*Math.cos(c),g.p1-=f.textWidth*Math.sin(c))),x.p2=x.p1+f.textWidth*Math.cos(c),g.p2=g.p1+f.textWidth*Math.sin(c),x.p3=x.p1-l*Math.cos(m),g.p3=g.p1-l*Math.sin(m),x.p4=x.p3+f.textWidth*Math.cos(c),g.p4=g.p3+f.textWidth*Math.sin(c),jsTextMousePos[s.ChartNewId][jsTextMousePos[s.ChartNewId].length]=[r,a,x,g,c,f.textWidth,f.textHeight,p,u]}},CanvasRenderingContext2D.prototype.measureTextMultiLine=function(a,e){var t,i=0,l=0,o=(""+a).replace(/<BR>/gi,"\n").split("\n");o.length>0&&(l=e+1.5*(o.length-1)*l);for(var l=o.length*e,n=0;n<o.length;n++)(t=this.measureText(o[n]).width)>i&&(i=t);return{textWidth:i,textHeight:l}},"function"!=typeof CanvasRenderingContext2D.prototype.setLineDash&&(CanvasRenderingContext2D.prototype.setLineDash=function(a){return 0}),CanvasRenderingContext2D.prototype.drawRectangle=function(a){var e=this.fillStyle;void 0===a.x&&(a.x=0),a.width<0&&(a.x+=a.width,a.width*=-1),a.height<0&&(a.y+=a.height,a.height*=-1),void 0===a.y&&(a.y=0),void 0===a.y&&(a.y=0),void 0!==a.backgroundColor&&(this.fillStyle=a.backgroundColor),void 0===a.borderRadius&&(a.borderRadius=0),void 0===a.borderSelection&&(a.borderSelection=15);var t=parseInt(a.borderRadius);if(a.borders&&a.bordersWidth>5&&"rgba(0,0,0,0)"!=this.fillStyle&&(t=0),a.borders&&a.fill&&15==a.borderSelection&&t>0)return this;if(0==t&&1==a.fill&&this.fillRect(a.x,a.y,a.width,a.height),0==t&&a.borderSelection>=15&&1==a.stroke&&this.strokeRect(a.x,a.y,a.width,a.height),(0!=t||a.borderSelection<15&&1==a.stroke)&&(t>a.width/2&&(t=a.width/2),a.height<a.width&&t>a.height/2&&(t=a.height/2),a.fill&&(this.beginPath(),this.lineWidth=0,this.strokeStyle="rgba(0,0,0,0)",this.moveTo(a.x+t,a.y),this.lineTo(a.x+a.width-t,a.y),this.arc(a.x+a.width-t,a.y+t,t,1.5*Math.PI,0),this.lineTo(a.x+a.width,a.y+a.height-t),this.arc(a.x+a.width-t,a.y+a.height-t,t,0,.5*Math.PI),this.lineTo(a.x+t,a.y+a.height),this.arc(a.x+t,a.y+a.height-t,t,.5*Math.PI,1*Math.PI),this.lineTo(a.x,a.y+t),this.arc(a.x+t,a.y+t,t,1*Math.PI,1.5*Math.PI),this.closePath(),this.fill(),this.stroke()),1==a.stroke)){var i=0==isBorder(a.borderSelection,"LEFT"),l=0==isBorder(a.borderSelection,"RIGHT"),o=0==isBorder(a.borderSelection,"TOP"),n=0==isBorder(a.borderSelection,"BOTTOM");0!=o||1!=i&&15!=a.borderSelection||(o=!0,this.beginPath(),this.moveTo(a.x+t,a.y),this.lineTo(a.x+a.width-t,a.y),isBorder(a.borderSelection,"RIGHT")?this.arc(a.x+a.width-t,a.y+t,t,1.5*Math.PI,0):this.stroke()),0!=l||1!=o&&15!=a.borderSelection||(l=!0,0==isBorder(a.borderSelection,"TOP")&&(this.beginPath(),this.moveTo(a.x+a.width,a.y+t)),this.lineTo(a.x+a.width,a.y+a.height-t),isBorder(a.borderSelection,"BOTTOM")?this.arc(a.x+a.width-t,a.y+a.height-t,t,0,.5*Math.PI):this.stroke()),0!=n||1!=l&&15!=a.borderSelection||(n=!0,0==isBorder(a.borderSelection,"RIGHT")&&(this.beginPath(),this.moveTo(a.x+a.width-t,a.y+a.height)),this.lineTo(a.x+t,a.y+a.height),isBorder(a.borderSelection,"LEFT")?this.arc(a.x+t,a.y+a.height-t,t,.5*Math.PI,1*Math.PI):this.stroke()),0!=i||1!=n&&15!=a.borderSelection||(i=!0,0==isBorder(a.borderSelection,"BOTTOM")&&(this.beginPath(),this.moveTo(a.x,a.y+a.height-t)),this.lineTo(a.x,a.y+t),isBorder(a.borderSelection,"TOP")?(this.arc(a.x+t,a.y+t,t,1*Math.PI,1.5*Math.PI),15==a.borderSelection&&(this.closePath(),this.stroke())):this.stroke()),0!=o||1!=i&&15!=a.borderSelection||(o=!0,0==isBorder(a.borderSelection,"LEFT")&&(this.beginPath(),this.moveTo(a.x+t,a.y)),this.lineTo(a.x+a.width-t,a.y),isBorder(a.borderSelection,"RIGHT")?this.arc(a.x+a.width-t,a.y+t,t,1.5*Math.PI,0):this.stroke()),0!=l||1!=o&&15!=a.borderSelection||(l=!0,0==isBorder(a.borderSelection,"TOP")&&(this.beginPath(),this.moveTo(a.x+a.width,a.y+t)),this.lineTo(a.x+a.width,a.y+a.height-t),isBorder(a.borderSelection,"BOTTOM")?this.arc(a.x+a.width-t,a.y+a.height-t,t,0,.5*Math.PI):this.stroke()),"rgba(0,0,0,0)"!=this.fillStyle&&15==a.borderSelection&&this.fill()}return this.fillStyle=e,this}),cursorDivCreated=!1,initChartJsResize=!1;var jsGraphResize=new Array,container;bw=new checkBrowser,fromLeft=10,fromTop=10,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=new Array,dynamicDisplayList=new Array,jsGraphAnnotate=new Array,jsTextMousePos=new Array,mouseActionData=new Array,inMouseAction=new Array;window.Chart=function(context){function init_and_start(a,e,t){var i;if(void 0===a.initialWidth){a.prevStyleWidth=a.canvas.style.width,a.prevStyleHeight=a.canvas.style.height;var l=window.getComputedStyle(a.canvas).getPropertyValue("width");1*a.canvas.width!=1*l.substring(0,l.indexOf("px"))&&(void 0===a.initialWidth&&(a.vWidth=1),a.canvas.width=l.substring(0,l.indexOf("px")));var o=window.getComputedStyle(a.canvas).getPropertyValue("height");a.canvas.height=o.substring(0,o.indexOf("px"))}if(void 0===a.initialWidth&&(a.initialWidth=a.canvas.width),void 0===a.chartTextScale&&(a.chartTextScale=t.chartTextScale),void 0===a.chartLineScale&&(a.chartLineScale=t.chartLineScale),void 0===a.chartSpaceScale&&(a.chartSpaceScale=t.chartSpaceScale),void 0===a.firstPass&&(a.firstPass=0,t.responsive&&!t.multiGraph&&addResponsiveChart(a.ChartNewId,a,e,t),void 0===e.labels&&(e.labels=[]),0==e.labels.length)){var n=0;for(i=0;i<e.datasets.length;i++)n=Max([n,e.datasets[i].data.length]);for(i=0;i<n;i++)e.labels[i]=""}if(void 0===a.ChartNewId){a.runanimationcompletefunction=!0;var s=new Date,r=s.getTime();a.ChartNewId=a.tpchart+"_"+r,a._eventListeners={}}if(resizeCtx(a,t),!dynamicFunction(e,t,a))return!1;for(t.multiGraph||0==a.firstPass||clearAnnotate(a.ChartNewId),void 0===jsGraphAnnotate[a.ChartNewId]&&(jsGraphAnnotate[a.ChartNewId]=new Array,jsTextMousePos[a.ChartNewId]=new Array),i=0;i<e.datasets.length;i++)void 0===e.datasets[i].title&&void 0!==e.datasets[i].label&&(e.datasets[i].title=e.datasets[i].label);return defMouse(a,e,t),0==a.firstPass&&(t.animation?a.firstPass=1:a.firstPass=2),setRect(a,t),!0}function init_result(a,e,t){var i,l,o=0,n=0;for(i=0;i<e.datasets.length;i++)if(void 0!==e.datasets[i].xPos&&"Line"==a.tpchart)for(o+=e.datasets[i].xPos.length,l=0;l<e.datasets[i].xPos.length;l++)n+=!(void 0===e.datasets[i].xPos[l]);else for(o+=e.labels.length,l=0;l<e.datasets[i].data.length;l++)("Pie"==a.tpchart||"Doughnut"==a.tpchart)&&1*e.datasets[i].data[l]<=0||("StackedBar"==a.tpchart||"HorizontalStackedBar"==a.tpchart)&&Math.abs(1*e.datasets[i].data[l])<=.001||void 0===e.datasets[i].data[l]||n++;a.pieces_drawn={total_data:o,total_non_missing_data:n,total_missing_data:o-n,all_drawn:!1,completed:!1,total_drawn:0,points:0,rectangles:0,slices:0}}function close_result(a){a.pieces_drawn.completed=!0,a.pieces_drawn.total_non_missing_data==a.pieces_drawn.total_drawn&&(a.pieces_drawn.all_drawn=!0)}function reverseData(a){a.labels=a.labels.reverse();for(var e=0;e<a.datasets.length;e++)for(var t in a.datasets[e])Array.isArray(a.datasets[e][t])&&(a.datasets[e][t]=a.datasets[e][t].reverse());return a}function calculateOffset(a,e,t,i){if(a)return CapValue(log10(e)*i-log10(t.graphMin)*i,void 0,0);var l=t.steps*t.stepValue,o=e-t.graphMin,n=CapValue(o/l,1,0);return i*t.steps*n}function animationLoop(a,e,t,i,l,o,n,s,r,c,h,d,p,u,S){function g(){var g=a.animation?CapValue(P(D),null,0):1;1*f>=1*CapValue(a.animationSteps,Number.MAX_VALUE,1)||0==a.animation||l.firstPass%10!=1?g=1:g>=1&&(g=.9999),!a.animation||isIE()<9&&0!=isIE()||!a.clearRect||l.clearRect(o,n,s,r),dispCrossImage(l,a,c,h,d,p,!1,u,g,f),dispCrossText(l,a,c,h,d,p,!1,u,g,f),"function"==typeof a.beforeDrawFunction&&a.beforeDrawFunction("BEFOREDRAWFUNCTION",l,u,S,-1,-1,{animationValue:g,cntiter:f,config:a,borderX:d,borderY:p,midPosX:c,midPosY:h}),a.scaleOverlay?(i(g),"function"==typeof a.endDrawDataFunction&&a.endDrawDataFunction("ENDDATAFUNCTION",l,u,S,-1,-1,{animationValue:g,cntiter:f,config:a,borderX:d,borderY:p,midPosX:c,midPosY:h}),t(),"function"==typeof a.endDrawScaleFunction&&a.endDrawScaleFunction("ENDSCALEFUNCTION",l,u,S,-1,-1,{animationValue:g,cntiter:f,config:a,borderX:d,borderY:p,midPosX:c,midPosY:h})):(t(),"function"==typeof a.endDrawScaleFunction&&a.endDrawScaleFunction("ENDSCALEFUNCTION",l,u,S,-1,-1,{animationValue:g,cntiter:f,config:a,borderX:d,borderY:p,midPosX:c,midPosY:h}),i(g),"function"==typeof a.endDrawDataFunction&&a.endDrawDataFunction("ENDDATAFUNCTION",l,u,S,-1,-1,{animationValue:g,cntiter:f,config:a,borderX:d,borderY:p,midPosX:c,midPosY:h})),dispCrossImage(l,a,c,h,d,p,!0,u,g,f),dispCrossText(l,a,c,h,d,p,!0,u,g,f),drawLegend(e,u,a,l,l.tpchart,f)}function A(){f+=m,D+=m*T,f==a.animationSteps||0==a.animation||l.firstPass%10!=1?D=1:D>=1&&(D=.999),g(),-1==m&&f<=M?("function"!=typeof a.onAnimationComplete||1!=a.alwaysRunFunctionAtCompletion&&1!=l.runanimationcompletefunction||a.onAnimationComplete(l,a,u,0,x+1,S),m=1,a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(A):requestAnimFrame(A)):D<a.animationStopValue?a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(A):requestAnimFrame(A):(x<a.animationCount||0==a.animationCount)&&l.firstPass%10==1?(x++,a.animationBackward&&1==m?(D-=T,m=-1):(m=1,f=M-1,D=v-T),window.setTimeout(A,1e3*a.animationPauseTime)):(testRedraw(l,u,a)||"function"!=typeof a.onAnimationComplete||1!=a.alwaysRunFunctionAtCompletion&&1!=l.runanimationcompletefunction||(a.onAnimationComplete(l,a,u,1,x+1,S),l.runanimationcompletefunction=!1),l.firstPass=9,close_result(l))}var f=0,x=1,m=1;(a.animationStartValue<0||a.animationStartValue>1)&&(a.animation.StartValue=0),(a.animationStopValue<0||a.animationStopValue>1)&&(a.animation.StopValue=1),a.animationStopValue<a.animationStartValue&&(a.animationStopValue=a.animationStartValue),isIE()<9&&0!=isIE()&&(a.animation=!1);var T=a.animation?1/CapValue(a.animationSteps,Number.MAX_VALUE,1):1,P=animationOptions[a.animationEasing],D=a.animation?0:1;if(a.animation&&a.animationStartValue>0&&a.animationStartValue<=1)for(;D<a.animationStartValue;)f++,D+=T;var M=f,v=D;"function"!=typeof t&&(t=function(){}),a.clearRect?l.firstPass%10!=1||0==a.animation?A():a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(A):requestAnimFrame(A):A()}function computeScale(logarithm,steps_lim,mix_bar_line,mathFct,multAxis,cumulate,data,config,ctx,statData,availableHeight){function correctValue(a,e,t){return Math.abs(a-e)<t.zeroValue&&(Math.abs(a)<t.zeroValue&&(a=.9),a>0?(a*=1.1,e*=.9):(a*=.9,e*=1.1)),{upperValue:a,lowerValue:e}}var upperValue1=-Number.MAX_VALUE,lowerValue1=Number.MAX_VALUE,upperValue2=-Number.MAX_VALUE,lowerValue2=Number.MAX_VALUE,fnd_axis1,fnd_axis2,fnd_positif1,fnd_negatif1,fnd_positif2,fnd_negatif2,cum_positif1,cum_negatif1,cum_positif2,cum_negatif2,first_axis=!1,second_axis=!1,mathValueHeight,first_positif1,first_negatif1,first_positif2,first_negatif2,i,j,maxi,axis;maxi=-1;var mathFctName,mathValueHeightVal=[];if(mathFct)for(var i=0;i<data.datasets.length;i++)if(mathFctName=data.datasets[i].drawMathDeviation,"function"==typeof eval(mathFctName)){var parameter={data:data,datasetNr:i};mathValueHeightVal[i]=window[mathFctName](parameter)}else mathValueHeightVal[i]=0;for(i=0;i<data.datasets.length;i++)maxi=Math.max(data.datasets[i].data.length,maxi);for(j=0;j<maxi;j++){for(cum_positif1=0,cum_negatif1=0,fnd_axis1=!1,fnd_axis2=!1,fnd_positif1=!1,fnd_negatif1=!1,cum_positif2=0,cum_negatif2=0,fnd_positif2=!1,fnd_negatif2=!1,i=0;i<data.datasets.length;i++)mathValueHeight=mathFct?"object"==typeof mathValueHeightVal[i]?mathValueHeightVal[i][Math.min(mathValueHeightVal[i].length,j)]:mathValueHeightVal[i]:0,void 0!==data.datasets[i].data[j]&&(axis=1,cumulate?mix_bar_line&&multAxis&&cumulate&&2==data.datasets[i].axis&&"Line"==data.datasets[i].type&&(axis=2):multAxis&&2==data.datasets[i].axis&&(axis=2),!cumulate||cumulate&&mix_bar_line&&"Line"==data.datasets[i].type?1==axis?(first_axis=!0,fnd_axis1=!0,upperValue1=Math.max(upperValue1,1*data.datasets[i].data[j]+mathValueHeight),lowerValue1=Math.min(lowerValue1,1*data.datasets[i].data[j]-mathValueHeight)):(fnd_axis2=!0,second_axis=!0,upperValue2=Math.max(upperValue2,1*data.datasets[i].data[j]+mathValueHeight),lowerValue2=Math.min(lowerValue2,1*data.datasets[i].data[j]-mathValueHeight)):1==axis?(fnd_axis1=!0,first_axis=!0,1*data.datasets[i].data[j]!=0||first_positif1||first_negatif1?1*data.datasets[i].data[j]>0?(fnd_positif1||(first_positif1=1*data.datasets[i].data[j]),fnd_positif1=!0,cum_positif1+=1*data.datasets[i].data[j]):1*data.datasets[i].data[j]<0&&(fnd_negatif1||(first_negatif1=1*data.datasets[i].data[j]),fnd_negatif1=!0,cum_negatif1+=1*data.datasets[i].data[j]):(first_positif1=0,first_negatif1=0,fnd_positif1=!0,fnd_negatif1=!0)):(fnd_axis2=!0,second_axis=!0,1*data.datasets[i].data[j]!=0||first_positif2||first_negatif2?1*data.datasets[i][j]>0?(fnd_positif2||(first_positif2=1*data.datasets[i].data[j]),fnd_positif2=!0,cum_positif2+=1*data.datasets[i].data[j]):1*data.datasets[i][j]<0&&(fnd_negatif2||(first_negatif2=1*data.datasets[i].data[j]),fnd_negatif2=!0,cum_negatif2+=1*data.datasets[i].data[j]):(first_positif2=0,fnd_positif2=!0)));cumulate&&(fnd_axis1&&(fnd_positif1?upperValue1=Math.max(upperValue1,cum_positif1+mathValueHeight):fnd_negatif1&&(upperValue1=Math.max(upperValue1,cum_negatif1+mathValueHeight,first_negatif1)),fnd_negatif1?lowerValue1=Math.min(lowerValue1,cum_negatif1-mathValueHeight):fnd_positif1&&(lowerValue1=Math.min(lowerValue1,cum_positif1-mathValueHeight,first_positif1))),fnd_axis2&&(fnd_positif2?upperValue2=Math.max(upperValue2,cum_positif2+mathValueHeight):fnd_negatif2&&(upperValue2=Math.max(upperValue2,cum_negatif2+mathValueHeight,first_negatif1)),fnd_negatif2?lowerValue2=Math.min(lowerValue2,cum_negatif2-mathValueHeight):fnd_positif2&&(lowerValue2=Math.min(lowerValue2,cum_positif2-mathValueHeight))))}second_axis?first_axis||(upperValue1=upperValue2,lowerValue1=lowerValue2):(upperValue2=upperValue1,lowerValue2=lowerValue1),upperValue1<lowerValue1&&(upperValue2<lowerValue2&&(upperValue2=0,lowerValue2=0),upperValue1=upperValue2,lowerValue1=lowerValue2),upperValue2<lowerValue2&&(upperValue2=upperValue1,lowerValue2=upperValue2);var value1=correctValue(upperValue1,lowerValue1,config),value2=correctValue(upperValue2,lowerValue2,config);upperValue1=value1.upperValue,lowerValue1=value1.lowerValue,upperValue2=value2.upperValue,lowerValue2=value2.lowerValue,"function"==typeof config.graphMin?lowerValue1=setOptionValue(!0,!0,1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin,"graphMin",-1,-1,{nullValue:!0}):isNaN(config.graphMin)||(lowerValue1=config.forceGraphMin?config.graphMin:Math.min(lowerValue1,config.graphMin)),"function"==typeof config.graphMax?upperValue1=setOptionValue(!0,!0,1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax,"graphMax",-1,-1,{nullValue:!0}):isNaN(config.graphMax)||(upperValue1=config.forceGraphMax?config.graphMax:Math.max(upperValue1,config.graphMax)),"function"==typeof config.graphMin2?lowerValue2=setOptionValue(!0,!0,1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin2,"graphMin2",-1,-1,{nullValue:!0}):isNaN(config.graphMin2)||(lowerValue2=config.forceGraphMin2?config.graphMin2:Math.min(lowerValue2,config.graphMin2)),"function"==typeof config.graphMax2?upperValue2=setOptionValue(!0,!0,1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax2,"graphMax2",-1,-1,{nullValue:!0}):isNaN(config.graphMax2)||(upperValue2=config.forceGraphMax2?config.graphMax2:Math.max(upperValue2,config.graphMax2)),upperValue1<lowerValue1&&(lowerValue1=upperValue1-1),upperValue2<lowerValue2&&(lowerValue2=upperValue2-1);var maxSteps=void 0,minSteps=void 0;steps_lim&&(labelHeight=Math.ceil(ctx.chartTextScale*config.scaleFontSize),scaleHeight=availableHeight,maxSteps=Math.floor(scaleHeight/(.66*labelHeight)),minSteps=Math.floor(scaleHeight/labelHeight*.5));var logarithm1,logarithm2,orderOfMagnitude;!logarithm||!1===config.logarithmic||lowerValue1<0||config.scaleOverride?logarithm1=!1:(logarithm1=!0,OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(upperValue1)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(lowerValue1))),"fuzzy"==config.logarithmic&&OrderOfMagnitude<4&&(logarithmic1=!1)),!logarithm||!1===config.logarithmic2||lowerValue2<0||config.scaleOverride2?logarithm2=!1:(logarithm2=!0,OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(upperValue2)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(lowerValue2))),"fuzzy"==config.logarithmic2&&OrderOfMagnitude<4&&(logarithmic2=!1));var labelTemplateString1="",labelTemplateString2="",scaleStartValue,scaleSteps,scaleStepWidth,scaleAxisData1,scaleAxisData2;return labelTemplateString1=config.scaleShowLabels?config.scaleLabel:"",config.scaleOverride?(scaleStartValue=setOptionValue(!0,!0,1,"SCALESTARTVALUE",ctx,data,statData,void 0,config.scaleStartValue,"scaleStartValue",-1,-1,{nullValue:!0}),"computed"==scaleStartValue&&(scaleStartValue=lowerValue1),scaleSteps=setOptionValue(!0,!0,1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,"scaleSteps",-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(!0,!0,1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,"scaleStepWidth",-1,-1,{nullValue:!0}),scaleAxisData1={nbOfStepsAxis:scaleSteps,stepWidth:scaleStepWidth,minAxis:scaleStartValue,
maxAxis:scaleStartValue+scaleSteps*scaleStepWidth}):maxSteps>0&&minSteps>0||void 0===maxSteps?(scaleAxisData1=calculateScale(logarithm1,config.yAxisMinimumInterval,config,maxSteps,minSteps,upperValue1,lowerValue1,steps_lim),"steps"==config.forceScale&&"number"==typeof config.scaleSteps?(scaleSteps=setOptionValue(!0,!0,1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,"scaleSteps",-1,-1,{nullValue:!0}),scaleSteps<=0&&(scaleSteps=1),scaleAxisData1={nbOfStepsAxis:scaleSteps,stepWidth:(scaleAxisData1.maxAxis-scaleAxisData1.minAxis)/scaleSteps,minAxis:scaleAxisData1.minAxis,maxAxis:scaleAxisData1.maxAxis}):"stepWidth"==config.forceScale&&"number"==typeof config.scaleStepWidth&&(scaleStepWidth=setOptionValue(!0,!0,1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,"scaleStepWidth",-1,-1,{nullValue:!0}),scaleStepWidth<=0&&(scaleStepWidth=1),scaleSteps=Math.ceil((scaleAxisData1.maxAxis-scaleAxisData1.minAxis)/scaleStepWidth),scaleAxisData1.maxAxis=scaleAxisData1.minAxis+scaleSteps*scaleStepWidth,second_axis||(upperValue2=scaleAxisData1.maxAxis),scaleAxisData1={nbOfStepsAxis:scaleSteps,stepWidth:scaleStepWidth,minAxis:scaleAxisData1.minAxis,maxAxis:scaleAxisData1.maxAxis})):scaleAxisData1={nbOfStepsAxis:0,stepWidth:0,minAxis:0,maxAxis:0},labelTemplateString2=config.scaleShowLabels2?config.scaleLabel2:"",multAxis&&(second_axis||config.forceSecondScale)?config.scaleOverride2?(scaleStartValue=setOptionValue(!0,!0,1,"SCALESTARTVALUE2",ctx,data,statData,void 0,config.scaleStartValue2,"scaleStartValue2",-1,-1,{nullValue:!0}),scaleSteps=setOptionValue(!0,!0,1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,"scaleSteps2",-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(!0,!0,1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,"scaleStepWidth2",-1,-1,{nullValue:!0}),scaleAxisData2={nbOfStepsAxis:scaleSteps,stepWidth:scaleStepWidth,minAxis:scaleStartValue,maxAxis:scaleStartValue+scaleSteps*scaleStepWidth}):maxSteps>0&&minSteps>0||void 0===maxSteps?(scaleAxisData2=calculateScale(logarithm2,config.yAxisMinimumInterval2,config,maxSteps,minSteps,upperValue2,lowerValue2,steps_lim),"steps"==config.forceScale2&&"number"==typeof config.scaleSteps2?(scaleSteps=setOptionValue(!0,!0,1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,"scaleSteps2",-1,-1,{nullValue:!0}),scaleSteps<=0&&(scaleSteps=1),scaleAxisData2={nbOfStepsAxis:scaleSteps,stepWidth:(scaleAxisData2.maxAxis-scaleAxisData2.minAxis)/scaleSteps,minAxis:scaleAxisData2.minAxis,maxAxis:scaleAxisData2.maxAxis}):"stepWidth"==config.forceScale2&&"number"==typeof config.scaleStepWidth2&&(scaleStepWidth=setOptionValue(!0,!0,1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,"scaleStepWidth2",-1,-1,{nullValue:!0}),scaleStepWidth<=0&&(scaleStepWidth=1),scaleSteps=Math.ceil((scaleAxisData2.maxAxis-scaleAxisData2.minAxis)/scaleStepWidth),scaleAxisData2.maxAxis=scaleAxisData2.minAxis+scaleSteps*scaleStepWidth,scaleAxisData2={nbOfStepsAxis:scaleSteps,stepWidth:scaleStepWidth,minAxis:scaleAxisData2.minAxis,maxAxis:scaleAxisData2.maxAxis})):scaleAxisData2={nbOfStepsAxis:0,stepWidth:0,minAxis:0,maxAxis:0}:(scaleAxisData2={nbOfStepsAxis:scaleAxisData1.nbOfStepsAxis,stepWidth:scaleAxisData1.stepWidth,minAxis:scaleAxisData1.minAxis,maxAxis:scaleAxisData1.maxAxis},config.forceNbOfStepsAxis2&&(scaleSteps=setOptionValue(!0,!0,1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,"scaleSteps2",-1,-1,{nullValue:!0}),scaleSteps<=0&&(scaleSteps=1),scaleAxisData2={nbOfStepsAxis:scaleSteps,stepWidth:(scaleAxisData2.maxAxis-scaleAxisData2.minAxis)/scaleSteps,minAxis:scaleAxisData2.minAxis,maxAxis:scaleAxisData2.maxAxis})),{maxValue:upperValue1,minValue:lowerValue1,maxValue2:upperValue2,minValue2:lowerValue2,maxSteps:maxSteps,minSteps:minSteps,dbAxis:second_axis,logarithm1:logarithm1,logarithm2:logarithm2,labelTemplateString1:labelTemplateString1,labelTemplateString2:labelTemplateString2,minAxis1:scaleAxisData1.minAxis,maxAxis1:scaleAxisData1.maxAxis,nbOfStepsAxis1:scaleAxisData1.nbOfStepsAxis,stepWidthAxis1:scaleAxisData1.stepWidth,minAxis2:scaleAxisData2.minAxis,maxAxis2:scaleAxisData2.maxAxis,nbOfStepsAxis2:scaleAxisData2.nbOfStepsAxis,stepWidthAxis2:scaleAxisData2.stepWidth}}function populateLabels(a,e,t,i,l,o,n,s,r){var c,h=n,d=r;if(i)for(c=0;c<o+1;c++)a&&(d=h),l.push(tmpl(i,{value:fmtChartJS(t,1*h.toFixed(getDecimalPlaces(d)),e)},t)),a?h*=10:h+=r}function getDecimalPlaces(a){var e=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function tmpl(a,e,t){return newstr=a,newstr.substr(0,t.templatesOpenTag.length)==t.templatesOpenTag&&(newstr="<%="+newstr.substr(t.templatesOpenTag.length,newstr.length-t.templatesOpenTag.length)),newstr.substr(newstr.length-t.templatesCloseTag.length,t.templatesCloseTag.length)==t.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-t.templatesCloseTag.length)+"%>"),tmplpart2(newstr,e)}function tmplpart2(a,e){var t=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[a]=cache[a]||tmplpart2(document.getElementById(a).innerHTML);return e?t(e):t}function calculateScale(a,e,t,i,l,o,n,s){var r,c,h,d,p,u,S;if(a){n==o&&(o+=1),0==n&&(n=.01);var g=calculateOrderOfMagnitude(n),A=calculateOrderOfMagnitude(o)+1;r=Math.pow(10,g),c=Math.pow(10,A),S=A-g}else if(u=o-n,S=calculateOrderOfMagnitude(u),r=Math.abs(n)>t.zeroValue?Math.floor(n/(1*Math.pow(10,S)))*Math.pow(10,S):0,c=Math.abs(o)>t.zeroValue?Math.ceil(o/(1*Math.pow(10,S)))*Math.pow(10,S):0,"number"==typeof e&&c>=0){for(r-=r%e;r>n;)r-=e;for(c%e>t.zeroValue&&c%e<e-t.zeroValue&&(c=roundScale(t,(1+Math.floor(c/e))*e));c<o;)c+=e}if(h=c-r,d=Math.pow(10,S),p=Math.round(h/d),a)p=S;else{var f=!1;if(s)for(;!f&&(p<l||p>i);)p<l?("number"==typeof e&&d/2<e&&(f=!0,d=e,p=Math.ceil(h/d)),f||(d/=2,p=Math.round(h/d))):(d*=2,p=Math.round(h/d));if("number"==typeof e&&(d<e&&(d=e,p=Math.ceil(h/d)),d%e>t.zeroValue&&d%e<e-t.zeroValue&&(2*d%e<t.zeroValue||2*d%e>e-t.zeroValue?(d*=2,p=Math.ceil(h/d)):(d=roundScale(t,(1+Math.floor(d/e))*e),p=Math.ceil(h/d)))),1==t.graphMaximized||"bottom"==t.graphMaximized||void 0!==t.graphMin)for(;r+d<n&&p>=3;)r+=d,p--;if(1==t.graphMaximized||"top"==t.graphMaximized||void 0!==t.graphMax)for(;r+(p-1)*d>=o&&p>=3;)p--}return{nbOfStepsAxis:p,stepWidth:d,minAxis:r,maxAxis:r+p*d}}function calculateOrderOfMagnitude(a){return 0==a?0:Math.floor(Math.log(a)/Math.LN10)}function roundScale(a,e){var t=0,i=""+a.yAxisMinimumInterval;return i.indexOf(".")>0&&(t=i.substr(i.indexOf(".")).length),Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function Max(a){return Math.max.apply(Math,a)}function Min(a){return Math.min.apply(Math,a)}function Default(a,e){return a||e}function CapValue(a,e,t){return isNumber(e)&&a>e?e:isNumber(t)&&a<t?t:a}function mergeChartConfig(a,e){var t={};for(var i in a)t[i]=a[i];for(var l in e)t[l]=e[l];return t}function dispCrossText(a,e,t,i,l,o,n,s,r,c){var h,d,p,u,S,g;for(h=0;h<e.crossText.length;h++)if(""!=e.crossText[h]&&e.crossTextOverlay[Min([h,e.crossTextOverlay.length-1])]==n&&(1==c&&"first"==e.crossTextIter[Min([h,e.crossTextIter.length-1])]||e.crossTextIter[Min([h,e.crossTextIter.length-1])]==c||"all"==e.crossTextIter[Min([h,e.crossTextIter.length-1])]||1==r&&"last"==e.crossTextIter[Min([h,e.crossTextIter.length-1])])){switch(a.save(),a.beginPath(),a.font=e.crossTextFontStyle[Min([h,e.crossTextFontStyle.length-1])]+" "+Math.ceil(a.chartTextScale*e.crossTextFontSize[Min([h,e.crossTextFontSize.length-1])]).toString()+"px "+e.crossTextFontFamily[Min([h,e.crossTextFontFamily.length-1])],a.fillStyle=e.crossTextFontColor[Min([h,e.crossTextFontColor.length-1])],S=e.crossTextAlign[Min([h,e.crossTextAlign.length-1])],g=e.crossTextBaseline[Min([h,e.crossTextBaseline.length-1])],p=1*Math.ceil(a.chartSpaceScale*e.crossTextPosX[Min([h,e.crossTextPosX.length-1])]),u=1*Math.ceil(a.chartSpaceScale*e.crossTextPosY[Min([h,e.crossTextPosY.length-1])]),1*e.crossTextRelativePosX[Min([h,e.crossTextRelativePosX.length-1])]){case 0:"default"==S&&(S="left");break;case 1:p+=l,"default"==S&&(S="right");break;case 2:p+=t,"default"==S&&(S="center");break;case-2:p+=context.canvas.width/2,"default"==S&&(S="center");break;case 3:p+=p+2*t-l,"default"==S&&(S="left");break;case 4:p+=context.canvas.width,"default"==S&&(S="right");break;default:p+=t,"default"==S&&(S="center")}switch(1*e.crossTextRelativePosY[Min([h,e.crossTextRelativePosY.length-1])]){case 0:"default"==g&&(g="top");break;case 3:u+=o,"default"==g&&(g="top");break;case 2:u+=i,"default"==g&&(g="middle");break;case-2:u+=context.canvas.height/2,"default"==g&&(g="middle");break;case 1:u+=u+2*i-o,"default"==g&&(g="bottom");break;case 4:u+=context.canvas.height,"default"==g&&(g="bottom");break;default:u+=i,"default"==g&&(g="middle")}a.textAlign=S,a.textBaseline=g,a.translate(1*p,1*u);var A=Math.PI*e.crossTextAngle[Min([h,e.crossTextAngle.length-1])]/180;a.rotate(A),"%"==e.crossText[h].substring(0,1)?"function"==typeof e.crossTextFunction&&(d=e.crossTextFunction(h,e.crossText[h],a,e,t,i,l,o,n,s,r)):d=e.crossText[h],setTextBordersAndBackground(a,d,Math.ceil(a.chartTextScale*e.crossTextFontSize[Min([h,e.crossTextFontSize.length-1])]),0,0,e.crossTextBorders[Min([h,e.crossTextBorders.length-1])],e.crossTextBordersSelection[Min([h,e.crossTextBorders.length-1])],e.crossTextBordersColor[Min([h,e.crossTextBordersColor.length-1])],Math.ceil(a.chartLineScale*e.crossTextBordersWidth[Min([h,e.crossTextBordersWidth.length-1])]),Math.ceil(a.chartSpaceScale*e.crossTextBordersXSpace[Min([h,e.crossTextBordersXSpace.length-1])]),Math.ceil(a.chartSpaceScale*e.crossTextBordersYSpace[Min([h,e.crossTextBordersYSpace.length-1])]),e.crossTextBordersStyle[Min([h,e.crossTextBordersStyle.length-1])],e.crossTextBackgroundColor[Min([h,e.crossTextBackgroundColor.length-1])],"CROSSTEXT",e.crossTextBordersRadius),1==r&&"all"==e.crossTextIter[Min([h,e.crossTextIter.length-1])]||"last"!=e.crossTextIter[Min([h,e.crossTextIter.length-1])]?a.fillTextMultiLine(d,0,0,a.textBaseline,Math.ceil(a.chartTextScale*e.crossTextFontSize[Min([h,e.crossTextFontSize.length-1])]),!0,e.detectMouseOnText,a,"CROSSTEXT_TEXTMOUSE",A,1*p,1*u,h,-1):a.fillTextMultiLine(d,0,0,a.textBaseline,Math.ceil(a.chartTextScale*e.crossTextFontSize[Min([h,e.crossTextFontSize.length-1])]),!0,!1,a,"CROSSTEXT_TEXTMOUSE",A,1*p,1*u,h,-1),a.restore()}}function dispCrossImage(a,e,t,i,l,o,n,s,r,c){var h,d,p,u,S;for(h=0;h<e.crossImage.length;h++)if(void 0!==e.crossImage[h]&&e.crossImageOverlay[Min([h,e.crossImageOverlay.length-1])]==n&&(-1==c&&"background"==e.crossImageIter[Min([h,e.crossImageIter.length-1])]||1==c&&"first"==e.crossImageIter[Min([h,e.crossImageIter.length-1])]||e.crossImageIter[Min([h,e.crossImageIter.length-1])]==c||-1!=c&&"all"==e.crossImageIter[Min([h,e.crossImageIter.length-1])]||1==r&&"last"==e.crossImageIter[Min([h,e.crossImageIter.length-1])])){switch(a.save(),a.beginPath(),u=e.crossImageAlign[Min([h,e.crossImageAlign.length-1])],S=e.crossImageBaseline[Min([h,e.crossImageBaseline.length-1])],d=1*Math.ceil(a.chartSpaceScale*e.crossImagePosX[Min([h,e.crossImagePosX.length-1])]),p=1*Math.ceil(a.chartSpaceScale*e.crossImagePosY[Min([h,e.crossImagePosY.length-1])]),1*e.crossImageRelativePosX[Min([h,e.crossImageRelativePosX.length-1])]){case 0:"default"==u&&(u="left");break;case 1:d+=l,"default"==u&&(u="right");break;case 2:d+=t,"default"==u&&(u="center");break;case-2:d+=context.canvas.width/2,"default"==u&&(u="center");break;case 3:d+=d+2*t-l,"default"==u&&(u="left");break;case 4:d+=context.canvas.width,"default"==u&&(u="right");break;default:d+=t,"default"==u&&(u="center")}switch(1*e.crossImageRelativePosY[Min([h,e.crossImageRelativePosY.length-1])]){case 0:"default"==S&&(S="top");break;case 3:p+=o,"default"==S&&(S="top");break;case 2:p+=i,"default"==S&&(S="middle");break;case-2:p+=context.canvas.height/2,"default"==S&&(S="middle");break;case 1:p+=p+2*i-o,"default"==S&&(S="bottom");break;case 4:p+=context.canvas.height,"default"==S&&(S="bottom");break;default:p+=i,"default"==S&&(S="middle")}var g=e.crossImage[h].width;switch(u){case"left":break;case"right":d-=g;break;case"center":d-=g/2}var A=e.crossImage[h].height;switch(S){case"top":break;case"bottom":p-=A;break;case"middle":p-=A/2}a.translate(1*d,1*p),a.rotate(Math.PI*e.crossImageAngle[Min([h,e.crossImageAngle.length-1])]/180),a.drawImage(e.crossImage[h],0,0),a.restore()}}function setMeasures(a,e,t,i,l,o,n,s,r,c,h,d){var p=i,u=l;window.devicePixelRatio>1&&(p/=window.devicePixelRatio,u/=window.devicePixelRatio),"none"!=e.canvasBackgroundColor&&(t.canvas.style.background=e.canvasBackgroundColor);var S,g=0,A=0,f=0,x=0,m=0,T=0,P=0,D=0,M=0,v=0,y=0;t.widthAtSetMeasures=u,t.heightAtSetMeasures=p;var L,b,O,I,B,V,G;V=u,G=p,e.canvasBorders&&e.canvasBordersSelection>0&&(g=Math.ceil(t.chartLineScale*e.canvasBordersWidth),isBorder(e.canvasBordersSelection,"TOP")&&(A=g),isBorder(e.canvasBordersSelection,"BOTTOM")&&(f=g),isBorder(e.canvasBordersSelection,"RIGHT")&&(x=g),isBorder(e.canvasBordersSelection,"LEFT")&&(m=g)),L=0+A+Math.ceil(t.chartSpaceScale*e.spaceTop),""!=e.graphTitle.trim()&&(T=Math.ceil(t.chartTextScale*e.graphTitleFontSize)*(e.graphTitle.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.graphTitleSpaceBefore)+Math.ceil(t.chartSpaceScale*e.graphTitleSpaceAfter),P=L+Math.ceil(t.chartSpaceScale*e.graphTitleSpaceBefore),("none"!=e.graphTitleBackgroundColor||e.graphTitleBorders)&&(T+=(isBorder(e.graphTitleBordersSelection,"TOP")+isBorder(e.graphTitleBordersSelection,"BOTTOM"))*Math.ceil(t.chartSpaceScale*e.graphTitleBordersYSpace),P+=isBorder(e.graphTitleBordersSelection,"TOP")*Math.ceil(t.chartSpaceScale*e.graphTitleBordersYSpace)),e.graphTitleBorders&&(T+=(isBorder(e.graphTitleBordersSelection,"TOP")+isBorder(e.graphTitleBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.graphTitleBordersWidth),P+=isBorder(e.graphTitleBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.graphTitleBordersWidth)),L+=T),""!=e.graphSubTitle.trim()&&(D=Math.ceil(t.chartTextScale*e.graphSubTitleFontSize)*(e.graphSubTitle.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.graphSubTitleSpaceBefore)+Math.ceil(t.chartSpaceScale*e.graphSubTitleSpaceAfter),M=L+Math.ceil(t.chartSpaceScale*e.graphSubTitleSpaceBefore),("none"!=e.graphSubTitleBackgroundColor||e.graphSubTitleBorders)&&(D+=2*Math.ceil(t.chartSpaceScale*e.graphSubTitleBordersYSpace),M+=Math.ceil(t.chartSpaceScale*e.graphSubTitleBordersYSpace)),e.graphSubTitleBorders&&(D+=(isBorder(e.graphTitleBordersSelection,"TOP")+isBorder(e.graphTitleBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.graphSubTitleBordersWidth),M+=isBorder(e.graphTitleBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.graphSubTitleBordersWidth)),L+=D),b=L,G-=b,L=p-f-Math.ceil(t.chartSpaceScale*e.spaceBottom),void 0!==e.footNote&&""!=e.footNote.trim()&&(v=Math.ceil(t.chartTextScale*e.footNoteFontSize)*(e.footNote.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.footNoteSpaceBefore)+Math.ceil(t.chartSpaceScale*e.footNoteSpaceAfter),y=L-Math.ceil(t.chartSpaceScale*e.footNoteSpaceAfter),("none"!=e.footNoteBackgroundColor||e.footNoteBorders)&&(v+=2*Math.ceil(t.chartSpaceScale*e.footNoteBordersYSpace),y-=Math.ceil(t.chartSpaceScale*e.footNoteBordersYSpace)),e.footNoteBorders&&(v+=(isBorder(e.footNoteBordersSelection,"TOP")+isBorder(e.footNoteBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.footNoteBordersWidth),y-=isBorder(e.footNoteBordersSelection,"BOTTOM")*Math.ceil(t.chartLineScale*e.footNoteBordersWidth)),L-=v),O=p-L,G-=O,L=0+m+Math.ceil(t.chartSpaceScale*e.spaceLeft),I=L,V-=I,L=u-x-Math.ceil(t.chartSpaceScale*e.spaceRight),B=u-L,V-=B,b+=Math.ceil(t.chartSpaceScale*e.graphSpaceBefore),O+=Math.ceil(t.chartSpaceScale*e.graphSpaceAfter),G-=Math.ceil(t.chartSpaceScale*e.graphSpaceBefore)+Math.ceil(t.chartSpaceScale*e.graphSpaceAfter);var R=0,C=-99999999,N=0;if(void 0!==e.legend&&1==e.legend){t.font=e.legendFontStyle+" "+Math.ceil(t.chartTextScale*e.legendFontSize).toString()+"px "+e.legendFontFamily;var w;for(S=0;S<a.datasets.length;S++)"string"==typeof a.datasets[S].title&&""!=a.datasets[S].title.trim()&&(R++,w=t.measureTextMultiLine(fmtChartJS(e,a.datasets[S].title,e.fmtLegend),Math.ceil(t.chartTextScale*e.legendFontSize)),C=Math.max(w.textWidth,C),N=Math.max(Math.ceil(t.chartTextScale*e.legendFontSize),N));C+=Math.ceil(t.chartTextScale*e.legendBlockSize)+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenBoxAndText),(0==R||1==R&&!e.showSingleLegend)&&(C=0)}var k,F=0,H=0,W=0,E=0,z=0,Y=0;if(C>-99999998)if(0==e.legendPosY||4==e.legendPosY){var X,_;X=1==e.legendPosX||2==e.legendPosX||3==e.legendPosX?V-Math.ceil(t.chartSpaceScale*Math.ceil(t.chartSpaceScale*e.legendSpaceLeftText))-Math.ceil(t.chartSpaceScale*e.legendSpaceRightText):u-x-m-Math.ceil(t.chartSpaceScale*e.spaceLeft)-Math.ceil(t.chartSpaceScale*e.spaceRight)-Math.ceil(t.chartSpaceScale*Math.ceil(t.chartSpaceScale*e.legendSpaceLeftText))-Math.ceil(t.chartSpaceScale*e.legendSpaceRightText),1!=e.legendBorders&&"rgba(0,0,0,0)"==e.legendFillColor||(X-=e.legendBorders*(isBorder(e.legendBordersSelection,"RIGHT")+isBorder(e.legendBordersSelection,"LEFT"))*Math.ceil(t.chartLineScale*e.legendBordersWidth)+Math.ceil(t.chartSpaceScale*e.legendBordersSpaceLeft)+Math.ceil(t.chartSpaceScale*e.legendBordersSpaceRight)),_=Min([Math.floor((X+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextHorizontal))/(C+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextHorizontal))),e.maxLegendCols]),W=Math.ceil(R/_),E=Math.ceil(R/W),k=measureLegend(a,t,e,C,N,W,E,X),z=k.legendHeight,0==e.legendPosY?(H=b-Math.ceil(t.chartSpaceScale*e.graphSpaceBefore),b+=z):(H=p-O-z,O+=z),G-=z}else if(0==e.legendPosX||4==e.legendPosX){var j,U;j=G-Math.ceil(t.chartSpaceScale*Math.ceil(t.chartSpaceScale*e.legendSpaceBeforeText))-Math.ceil(t.chartSpaceScale*e.legendSpaceAfterText),X=V-Math.ceil(t.chartSpaceScale*Math.ceil(t.chartSpaceScale*e.legendSpaceLeftText))-Math.ceil(t.chartSpaceScale*e.legendSpaceRightText),1!=e.legendBorders&&"rgba(0,0,0,0)"==e.legendFillColor||(j-=e.legendBorders*(isBorder(e.legendBordersSelection,"BOTTOM")+isBorder(e.legendBordersSelection,"TOP"))*Math.ceil(t.chartLineScale*e.legendBordersWidth)+Math.ceil(t.chartSpaceScale*e.legendBordersSpaceBefore)+Math.ceil(t.chartSpaceScale*e.legendBordersSpaceAfter)),U=Min([Math.floor((j+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextVertical))/(N+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextVertical))),e.maxLegendLines]),E=Math.ceil(R/U),W=Math.ceil(R/E),k=measureLegend(a,t,e,C,N,W,E,X),Y=k.legendWidth,0==e.legendPosX?(F=I,I+=Y):(F=u-B-Y,B+=Y),V-=Y}var J=0,K=0,Z=0;if(c&&""!=e.yAxisUnit.trim()){K=Math.ceil(t.chartTextScale*e.yAxisUnitFontSize)*(e.yAxisUnit.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.yAxisUnitSpaceBefore)+Math.ceil(t.chartSpaceScale*e.yAxisUnitSpaceAfter),t.font=e.yAxisUnitFontStyle+" "+Math.ceil(t.chartTextScale*e.yAxisUnitFontSize).toString()+"px "+e.yAxisUnitFontFamily;var q=t.measureTextMultiLine(e.yAxisUnit,Math.ceil(t.chartTextScale*e.yAxisUnitFontSize));Z=q.textWidth,J=b+Math.ceil(t.chartSpaceScale*e.yAxisUnitSpaceBefore)+q.textHeight,("none"!=e.yAxisUnitBackgroundColor||e.yAxisUnitBorders)&&(K+=2*Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace),J+=Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace)),e.yAxisUnitBorders&&(K+=(isBorder(e.yAxisUnitBordersSelection,"TOP")+isBorder(e.yAxisUnitBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.yAxisUnitBordersWidth),J+=isBorder(e.yAxisUnitBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.yAxisUnitBordersWidth)),b+=K,G-=K}var Q=0,$=1,aa=0,ea=1,ta=0,ia=0,la=0,oa=0,na=0,sa=1,ra=0,ca=1,ha=0,da=0,pa=0;if(c){var ua;for(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,Q=Math.max(1,Math.ceil(t.chartTextScale*e.xScaleLabelsMinimumWidth)),aa=Q,S=0;S<a.labels.length;S++)!0===showLabels(t,a,e,S)&&(ua=t.measureTextMultiLine(fmtChartJS(e,a.labels[S],e.fmtXLabel),Math.ceil(t.chartTextScale*e.scaleFontSize)),Q=Math.max(ua.textWidth,Q),$=Math.max(ua.textHeight,$));if("object"==typeof a.Labels2&&e.xAxisBottom&&e.xAxisTop)for(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,S=0;S<a.Labels2.length;S++)!0===showLabels(t,a,e,S)&&(ua=t.measureTextMultiLine(fmtChartJS(e,a.Labels2[S],e.fmtTopXLabel),Math.ceil(t.chartTextScale*e.scaleFontSize)),aa=Math.max(ua.textWidth,aa),ea=Math.max(ua.textHeight,ea));else aa=Q,ea=$;void 0!==e.xAxisLabel&&e.xAxisBottom&&""!=e.xAxisLabel.trim()&&(ta=Math.ceil(t.chartTextScale*e.xAxisFontSize)*(e.xAxisLabel.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceAfter),la=p-O-Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceAfter),("none"!=e.xAxisLabelBackgroundColor||e.footNoteBorders)&&(ta+=2*Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace),la-=Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace)),e.xAxisLabelBorders&&(ta+=(isBorder(e.xAxisLabelBordersSelection,"TOP")+isBorder(e.xAxisLabelBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth),la-=isBorder(e.xAxisLabelBordersSelection,"BOTTOM")*Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth)));var Sa;if(Sa=e.xAxisLabel,void 0!==e.xTAxisLabel&&e.xAxisTop&&""!=e.xTAxisLabel.trim()&&(Sa=e.xTAxisLabel),void 0!==Sa&&e.xAxisTop&&""!=Sa.trim()&&(ia=Math.ceil(t.chartTextScale*e.xAxisFontSize)*(Sa.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceAfter),oa=b+Math.ceil(t.chartSpaceScale*e.xAxisLabelSpaceBefore),"none"!=e.xAxisLabelBackgroundColor&&(ia+=2*Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace),oa+=Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace)),e.xAxisLabelBorders&&(ia+=(isBorder(e.xAxisLabelBordersSelection,"TOP")+isBorder(e.xAxisLabelBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth),oa+=isBorder(e.xAxisLabelBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth))),na=Math.max(1,Math.ceil(t.chartTextScale*e.yScaleLabelsMinimumWidth)),ra=na,null!=o&&"nihil"!=o)for(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,S=o.length-1;S>=0;S--)"string"==typeof o[S]&&showYLabels(t,a,e,S,o[S])&&""!=o[S].trim()&&(ua=t.measureTextMultiLine(o[S],Math.ceil(t.chartTextScale*e.scaleFontSize)),na=Math.max(na,ua.textWidth),sa=Math.max(sa,ua.textHeight));if(null!=n&&e.yAxisRight)for(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,S=n.length-1;S>=0;S--)"string"==typeof n[S]&&showYLabels(t,a,e,S,n[S])&&(ua=t.measureTextMultiLine(n[S],Math.ceil(t.chartTextScale*e.scaleFontSize)),ra=Math.max(ua.textWidth,ra),ca=Math.max(ua.textHeight,ca));else ra=na,ca=sa;void 0!==e.yAxisLabel&&(e.yAxisRight||e.yAxisLeft)&&""!=e.yAxisLabel.trim()&&(ha=Math.ceil(t.chartTextScale*e.yAxisFontSize)*(e.yAxisLabel.split("\n").length||1)+Math.ceil(t.chartSpaceScale*e.yAxisLabelSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisLabelSpaceRight),da=I+Math.ceil(t.chartSpaceScale*e.yAxisLabelSpaceLeft)+Math.ceil(t.chartTextScale*e.yAxisFontSize),pa=u-B-Math.ceil(t.chartSpaceScale*e.yAxisLabelSpaceLeft)-Math.ceil(t.chartTextScale*e.yAxisFontSize),("none"!=e.yAxisLabelBackgroundColor||e.yAxisLabelBorders)&&(ha+=2*Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersYSpace),da+=Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersYSpace),pa-=Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersYSpace)),e.yAxisLabelBorders&&(ha+=(isBorder(e.yAxisLabelBordersSelection,"TOP")+isBorder(e.yAxisLabelBordersSelection,"BOTTOM"))*Math.ceil(t.chartLineScale*e.yAxisLabelBordersWidth),da+=isBorder(e.yAxisLabelBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.yAxisLabelBordersWidth),pa-=isBorder(e.yAxisLabelBordersSelection,"TOP")*Math.ceil(t.chartLineScale*e.yAxisLabelBordersWidth)))}var ga,Aa,fa,xa,ma=0,Ta=0,Pa=0,Da=0,Ma=0,va=0;c&&e.xAxisBottom&&(xa=V,0==r?(ga=Q,Aa=$,fa=a.labels.length,1==e.yAxisLeft&&(xa-=na+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),1==e.yAxisRight&&(xa-=ra+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight))):(ga=na,Aa=sa,fa=o.length,1==e.yAxisLeft&&(xa-=Q+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),1==e.yAxisRight&&(xa-=aa+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight))),void 0!==e.yAxisLabel&&""!=e.yAxisLabel.trim()&&(e.yAxisRight&&(xa-=ha),e.yAxisLeft&&(xa-=ha)),"smart"==e.rotateLabels?(ma=0,(xa+Math.ceil(t.chartTextScale*e.xAxisSpaceBetweenLabels))/fa<ga+Math.ceil(t.chartTextScale*e.xAxisSpaceBetweenLabels)&&(ma=45,xa/fa<Math.abs(Math.cos(ma*Math.PI/180)*ga)&&(ma=90))):(ma=e.rotateLabels,ma<0&&(ma=0),ma>180&&(ma=180)),ma>90&&(ma+=180),Pa=Math.abs(Math.sin(ma*Math.PI/180)*ga)+Math.abs(Math.sin((ma+90)*Math.PI/180)*Aa),Math.abs(Math.cos(ma*Math.PI/180)*ga)+Math.abs(Math.cos((ma+90)*Math.PI/180)*Aa),Ma=p-O-ta-Pa-Math.ceil(t.chartSpaceScale*e.xAxisSpaceAfter)),c&&e.xAxisTop&&(xa=V,0==r?(ga=aa,Aa=ea,fa=a.labels.length,1==e.yAxisLeft&&(xa-=na+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),1==e.yAxisRight&&(xa-=ra+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight))):(ga=ra,Aa=ca,fa=n.length,1==e.yAxisLeft&&(xa-=Q+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),1==e.yAxisRight&&(xa-=aa+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight))),void 0!==e.yAxisLabel&&""!=e.yAxisLabel.trim()&&(e.yAxisRight&&(xa-=ha),e.yAxisLeft&&(xa-=ha)),"smart"==e.rotateTLabels?(Ta=0,(xa+Math.ceil(t.chartTextScale*e.xAxisSpaceBetweenLabels))/fa<ga+Math.ceil(t.chartTextScale*e.xAxisSpaceBetweenLabels)&&(Ta=45,xa/fa<Math.abs(Math.cos(Ta*Math.PI/180)*ga)&&(Ta=90))):(Ta=e.rotateTLabels,Ta<0&&(Ta=0),Ta>180&&(Ta=180)),ma>90&&(ma+=180),Da=Math.abs(Math.sin(Ta*Math.PI/180)*ga)+Math.abs(Math.sin((Ta+90)*Math.PI/180)*Aa),Math.abs(Math.cos(Ta*Math.PI/180)*ga)+Math.abs(Math.cos((Ta+90)*Math.PI/180)*Aa),va=b+ia+Math.ceil(t.chartSpaceScale*e.xAxisSpaceBefore));var ya=I,La=B;if(c&&e.yAxisLeft&&(I+=0==r?ha+na+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight):ha+Q+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c&&e.yAxisRight&&(B+=0==r?ha+ra+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight):ha+aa+Math.ceil(t.chartSpaceScale*e.yAxisSpaceLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),V=u-I-B,c&&e.xAxisTop)if(0==r)b+=ia+Da+Math.ceil(t.chartSpaceScale*e.xAxisSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisSpaceAfter);else{var ba=Math.abs(Math.sin(Ta*Math.PI/180)*ra)+Math.abs(Math.sin((Ta+90)*Math.PI/180)*ca);b+=ta+ba+Math.ceil(t.chartSpaceScale*e.xAxisSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisSpaceAfter)}if(c&&e.xAxisBottom)if(0==r)O+=ta+Pa+Math.ceil(t.chartSpaceScale*e.xAxisSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisSpaceAfter);else{var ba=Math.abs(Math.sin(ma*Math.PI/180)*na)+Math.abs(Math.sin((ma+90)*Math.PI/180)*sa);O+=ta+ba+Math.ceil(t.chartSpaceScale*e.xAxisSpaceBefore)+Math.ceil(t.chartSpaceScale*e.xAxisSpaceAfter)}if(G=p-b-O,C>-99999998){switch(0==W&&(X=V-Math.ceil(t.chartSpaceScale*Math.ceil(t.chartSpaceScale*e.legendSpaceLeftText))-Math.ceil(t.chartSpaceScale*e.legendSpaceRightText),_=Min([Math.floor((X+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextHorizontal))/(C+Math.ceil(t.chartSpaceScale*e.legendSpaceBetweenTextHorizontal))),e.maxLegendCols]),W=Math.ceil(R/_),E=Math.ceil(R/W),k=measureLegend(a,t,e,C,N,W,E,X)),z=k.legendHeight,Y=k.legendWidth,e.legendPosY){case 0:break;case 1:H=b;break;case 2:H=b+G/2-z/2;break;case-2:H=p/2-z/2;break;case 3:H=p-O-z;break;case 4:break;default:H=b}switch(e.legendPosX){case 0:0!=e.legendPosY&&4!=e.legendPosY||(F=ya);break;case 1:F=I;break;case 2:F=I+V/2-Y/2;break;case-2:F=u/2-Y/2;break;case 3:F=u-B-Y;break;case 4:0!=e.legendPosY&&4!=e.legendPosY||(F=u-La-Y);break;default:F=u-B}}if("Line"!=d&&"HorizontalBar"!=d&&"HorizontalStackedBar"!=d||(e.inGraphDataShow&&(B=Math.max(B,Math.max(na,ra)+1+x),I=Math.max(I,Math.max(na,ra)+1+m)),(e.xAxisTop||e.xAxisBottom)&&(B=Math.max(B,Math.max(Q/2,aa/2)+1+x),I=Math.max(I,Math.max(Q/2,aa/2)+1+m)),V=u-B-I),c&&e.yAxisLeft&&(e.yAxisUnitBorders||"none"!=e.yAxisUnitBackgroundColor)&&(e.yAxisLeft&&(I=Math.max(I,m+e.spaceLeft+(e.yAxisUnitBorders&&isBorder(e.yAxisUnitBordersSelection,"LEFT"))*e.yAxisUnitBordersWidth+("none"!=e.yAxisUnitBackgroundColor||e.yAxisUnitBorders)*Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace)+1+Z/2)),e.yAxisRight&&(B=Math.max(B,x+e.spaceRight+(e.yAxisUnitBorders&&isBorder(e.yAxisUnitBordersSelection,"RIGHT"))*e.yAxisUnitBordersWidth+("none"!=e.yAxisUnitBackgroundColor||e.yAxisUnitBorders)*Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace)+1+Z/2)),V=u-B-I),"Line"!=d&&"Bar"!=d&&"StackedBar"!=d||(e.inGraphDataShow&&(b=Math.max(b,Math.max(sa,ca)+1+A)),G=p-b-O),dispCrossImage(t,e,u/2,p/2,u/2,p/2,!1,a,-1,-1),"function"==typeof e.initFunction&&e.initFunction("INITFUNCTION",t,a,null,-1,-1,{animationValue:0,cntiter:0,config:e,borderX:0,borderY:0,midPosX:0,midPosY:0}),"nihil"!=o){if(g>0&&(t.save(),t.beginPath(),t.setLineDash(lineStyleFn(e.canvasBordersStyle)),t.strokeStyle=e.canvasBordersColor,t.lineWidth=g,t.setLineDash(lineStyleFn(e.canvasBordersStyle)),t.strokeStyle=e.canvasBordersColor,t.fillStyle="rgba(0,0,0,0)",t.drawRectangle({x:0+m/2,y:0+A/2,width:u-x/2-m/2,height:p-A/2-f/2,borders:!0,bordersWidth:g,borderSelection:e.canvasBordersSelection,borderRadius:e.canvasBordersRadius,fill:!1,stroke:!0}),t.setLineDash([]),t.restore()),T>0){t.save(),t.beginPath(),t.font=e.graphTitleFontStyle+" "+Math.ceil(t.chartTextScale*e.graphTitleFontSize).toString()+"px "+e.graphTitleFontFamily,t.fillStyle=e.graphTitleFontColor,t.textBaseline="top";var Oa;switch(e.graphTitleAlign){case"right":t.textAlign="right",Oa=Math.ceil(t.chartSpaceScale*e.spaceLeft)+(u-Math.ceil(t.chartSpaceScale*e.spaceLeft)-Math.ceil(t.chartSpaceScale*e.spaceRight))/2,Oa=u-Math.ceil(t.chartSpaceScale*(e.spaceRight+e.graphTitleShift))-x;break;case"left":t.textAlign="left",Oa=m+Math.ceil(t.chartSpaceScale*(e.spaceLeft+e.graphTitleShift));break;default:t.textAlign="center",Oa=m+Math.ceil(t.chartSpaceScale*e.spaceLeft)+(u-x-m-Math.ceil(t.chartSpaceScale*e.spaceLeft)-Math.ceil(t.chartSpaceScale*e.spaceRight))/2}setTextBordersAndBackground(t,e.graphTitle,Math.ceil(t.chartTextScale*e.graphTitleFontSize),Oa,P,e.graphTitleBorders,e.graphTitleBordersSelection,e.graphTitleBordersColor,Math.ceil(t.chartLineScale*e.graphTitleBordersWidth),Math.ceil(t.chartSpaceScale*e.graphTitleBordersXSpace),Math.ceil(t.chartSpaceScale*e.graphTitleBordersYSpace),e.graphTitleBordersStyle,e.graphTitleBackgroundColor,"GRAPHTITLE",e.graphTitleBordersRadius),t.translate(Oa,P),t.fillTextMultiLine(e.graphTitle,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.graphTitleFontSize),!0,e.detectMouseOnText,t,"TITLE_TEXTMOUSE",0,Oa,P,-1,-1),t.stroke(),t.restore()}if(D>0){switch(t.save(),t.beginPath(),t.font=e.graphSubTitleFontStyle+" "+Math.ceil(t.chartTextScale*e.graphSubTitleFontSize).toString()+"px "+e.graphSubTitleFontFamily,t.fillStyle=e.graphSubTitleFontColor,e.graphSubTitleAlign){case"right":t.textAlign="right",Oa=u-Math.ceil(t.chartSpaceScale*(e.spaceRight+e.graphSubTitleShift))-x;break;case"left":t.textAlign="left",Oa=m+Math.ceil(t.chartSpaceScale*(e.spaceLeft+e.graphSubTitleShift));break;default:t.textAlign="center",
Oa=m+Math.ceil(t.chartSpaceScale*e.spaceLeft)+(u-x-m-Math.ceil(t.chartSpaceScale*e.spaceLeft)-Math.ceil(t.chartSpaceScale*e.spaceRight))/2}t.textBaseline="top",setTextBordersAndBackground(t,e.graphSubTitle,Math.ceil(t.chartTextScale*e.graphSubTitleFontSize),Oa,M,e.graphSubTitleBorders,e.graphSubTitleBordersSelection,e.graphSubTitleBordersColor,Math.ceil(t.chartLineScale*e.graphSubTitleBordersWidth),Math.ceil(t.chartSpaceScale*e.graphSubTitleBordersXSpace),Math.ceil(t.chartSpaceScale*e.graphSubTitleBordersYSpace),e.graphSubTitleBordersStyle,e.graphSubTitleBackgroundColor,"GRAPHSUBTITLE",e.graphSubTitleBordersRadius),t.translate(Oa,M),t.fillTextMultiLine(e.graphSubTitle,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.graphSubTitleFontSize),!0,e.detectMouseOnText,t,"SUBTITLE_TEXTMOUSE",0,Oa,M,-1,-1),t.stroke(),t.restore()}if(""!=e.footNote.trim()){switch(t.save(),t.font=e.footNoteFontStyle+" "+Math.ceil(t.chartTextScale*e.footNoteFontSize).toString()+"px "+e.footNoteFontFamily,t.fillStyle=e.footNoteFontColor,e.footNoteAlign){case"right":t.textAlign="right",Oa=u-Math.ceil(t.chartSpaceScale*(e.spaceRight+e.footNoteShift))-x;break;case"left":t.textAlign="left",Oa=m+Math.ceil(t.chartSpaceScale*(e.spaceLeft+e.footNoteShift));break;default:t.textAlign="center",Oa=I+V/2}t.textBaseline="bottom",setTextBordersAndBackground(t,e.footNote,Math.ceil(t.chartTextScale*e.footNoteFontSize),Oa,y,e.footNoteBorders,e.footNoteBordersSelection,e.footNoteBordersColor,Math.ceil(t.chartLineScale*e.footNoteBordersWidth),Math.ceil(t.chartSpaceScale*e.footNoteBordersXSpace),Math.ceil(t.chartSpaceScale*e.footNoteBordersYSpace),e.footNoteBordersStyle,e.footNoteBackgroundColor,"FOOTNOTE",e.footNoteBordersRadius),t.translate(Oa,y),t.fillTextMultiLine(e.footNote,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.footNoteFontSize),!0,e.detectMouseOnText,t,"FOOTNOTE_TEXTMOUSE",0,Oa,y,-1,-1),t.stroke(),t.restore()}if(K>0&&(e.yAxisLeft&&(t.save(),t.beginPath(),t.font=e.yAxisUnitFontStyle+" "+Math.ceil(t.chartTextScale*e.yAxisUnitFontSize).toString()+"px "+e.yAxisUnitFontFamily,t.fillStyle=e.yAxisUnitFontColor,t.textAlign="center",t.textBaseline="bottom",setTextBordersAndBackground(t,e.yAxisUnit,Math.ceil(t.chartTextScale*e.yAxisUnitFontSize),I,J,e.yAxisUnitBorders,e.yAxisUnitBordersSelection,e.yAxisUnitBordersColor,Math.ceil(t.chartLineScale*e.yAxisUnitBordersWidth),Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersXSpace),Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace),e.yAxisUnitBordersStyle,e.yAxisUnitBackgroundColor,"YAXISUNIT",e.yAxisUnitBordersRadius),t.translate(I,J),t.fillTextMultiLine(e.yAxisUnit,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.yAxisUnitFontSize),!0,e.detectMouseOnText,t,"YLEFTAXISUNIT_TEXTMOUSE",0,I,J,-1,-1),t.stroke(),t.restore()),e.yAxisRight&&(""==e.yAxisUnit2&&(e.yAxisUnit2=e.yAxisUnit),t.save(),t.beginPath(),t.font=e.yAxisUnitFontStyle+" "+Math.ceil(t.chartTextScale*e.yAxisUnitFontSize).toString()+"px "+e.yAxisUnitFontFamily,t.fillStyle=e.yAxisUnitFontColor,t.textAlign="center",t.textBaseline="bottom",setTextBordersAndBackground(t,e.yAxisUnit2,Math.ceil(t.chartTextScale*e.yAxisUnitFontSize),u-B,J,e.yAxisUnitBorders,e.yAxisUnitBordersSelection,e.yAxisUnitBordersColor,Math.ceil(t.chartLineScale*e.yAxisUnitBordersWidth),Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersXSpace),Math.ceil(t.chartSpaceScale*e.yAxisUnitBordersYSpace),e.yAxisUnitBordersStyle,e.yAxisUnitBackgroundColor,"YAXISUNIT",e.yAxisUnitBordersRadius),t.translate(u-B,J),t.fillTextMultiLine(e.yAxisUnit2,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.yAxisUnitFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXISUNIT_TEXTMOUSE",0,u-B,J,-1,-1),t.stroke(),t.restore())),ha>0&&(e.yAxisLeft&&(t.save(),t.beginPath(),t.font=e.yAxisFontStyle+" "+Math.ceil(t.chartTextScale*e.yAxisFontSize).toString()+"px "+e.yAxisFontFamily,t.fillStyle=e.yAxisFontColor,t.textAlign="center",t.textBaseline="bottom",t.translate(da,b+G/2),t.rotate(-Math.PI/180*90),setTextBordersAndBackground(t,e.yAxisLabel,Math.ceil(t.chartTextScale*e.yAxisFontSize),0,0,e.yAxisLabelBorders,e.yAxisLabelBordersSelection,e.yAxisLabelBordersColor,Math.ceil(t.chartLineScale*e.yAxisLabelBordersWidth),Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersXSpace),Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersYSpace),e.yAxisLabelBordersStyle,e.yAxisLabelBackgroundColor,"YAXISLABELLEFT",e.yAxisLabelBordersRadius),t.fillTextMultiLine(e.yAxisLabel,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.yAxisFontSize),!1,e.detectMouseOnText,t,"YLEFTAXISLABEL_TEXTMOUSE",-Math.PI/180*90,da,b+G/2,-1,-1),t.stroke(),t.restore()),e.yAxisRight)){var Ia=e.yAxisLabel2;""==Ia&&(Ia=e.yAxisLabel),t.save(),t.beginPath(),t.font=e.yAxisFontStyle+" "+Math.ceil(t.chartTextScale*e.yAxisFontSize).toString()+"px "+e.yAxisFontFamily,t.fillStyle=e.yAxisFontColor,t.textAlign="center",t.textBaseline="bottom",t.translate(pa,b+G/2),t.rotate(+Math.PI/180*90),setTextBordersAndBackground(t,Ia,Math.ceil(t.chartTextScale*e.yAxisFontSize),0,0,e.yAxisLabelBorders,e.yAxisLabelBordersSelection,e.yAxisLabelBordersColor,Math.ceil(t.chartLineScale*e.yAxisLabelBordersWidth),Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersXSpace),Math.ceil(t.chartSpaceScale*e.yAxisLabelBordersYSpace),e.yAxisLabelBordersStyle,e.yAxisLabelBackgroundColor,"YAXISLABELLEFT",e.yAxisLabelBordersRadius),t.fillTextMultiLine(Ia,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.yAxisFontSize),!1,e.detectMouseOnText,t,"YRIGHTAXISLABEL_TEXTMOUSE",+Math.PI/180*90,pa,b+G/2,-1,-1),t.stroke(),t.restore()}if(ta>0&&(e.xAxisBottom&&(t.save(),t.beginPath(),t.font=e.xAxisFontStyle+" "+Math.ceil(t.chartTextScale*e.xAxisFontSize).toString()+"px "+e.xAxisFontFamily,t.fillStyle=e.xAxisFontColor,t.textAlign="center",t.textBaseline="bottom",setTextBordersAndBackground(t,e.xAxisLabel,Math.ceil(t.chartTextScale*e.xAxisFontSize),I+V/2,la,e.xAxisLabelBorders,e.xAxisLabelBordersSelection,e.xAxisLabelBordersColor,Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth),Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersXSpace),Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace),e.xAxisLabelBordersStyle,e.xAxisLabelBackgroundColor,"XAXISLABEL",e.xAxisLabelBordersRadius),t.translate(I+V/2,la),t.fillTextMultiLine(e.xAxisLabel,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.xAxisFontSize),!0,e.detectMouseOnText,t,"XAXISLABEL_TEXTMOUSE",0,I+V/2,la,-1,-1),t.stroke(),t.restore()),e.xAxisTop)){var Ba=e.xAxisLabel2;""==Ba&&(Ba=e.xAxisLabel),t.save(),t.beginPath(),t.font=e.xAxisFontStyle+" "+Math.ceil(t.chartTextScale*e.xAxisFontSize).toString()+"px "+e.xAxisFontFamily,t.fillStyle=e.xAxisFontColor,t.textAlign="center",t.textBaseline="top",setTextBordersAndBackground(t,Ba,Math.ceil(t.chartTextScale*e.xAxisFontSize),I+V/2,oa,e.xAxisLabelBorders,e.xAxisLabelBordersSelection,e.xAxisLabelBordersColor,Math.ceil(t.chartLineScale*e.xAxisLabelBordersWidth),Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersXSpace),Math.ceil(t.chartSpaceScale*e.xAxisLabelBordersYSpace),e.xAxisLabelBordersStyle,e.xAxisLabelBackgroundColor,"XAXISLABEL",e.xAxisLabelBordersRadius),t.translate(I+V/2,oa),t.fillTextMultiLine(Ba,0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.xAxisFontSize),!0,e.detectMouseOnText,t,"XAXISLABEL_TEXTMOUSE",0,I+V/2,la,-1,-1),t.stroke(),t.restore()}var Va;R>1||1==R&&e.showSingleLegend?(Va={dispLegend:!0,xLegendPos:F,yLegendPos:H,nbLegendLines:W,nbLegendCols:E,reverseLegend:s,legendBox:h,widestLegend:C,highestLegend:N,legendWidth:k.legendWidth,legendHeight:k.legendHeight,legendBackgroundColorWidth:k.legendBackgroundColorWidth,legendBackgroundColorHeight:k.legendBackgroundColorHeight,legendBorderWidth:k.legendBorderWidth,legendBorderHeight:k.legendBorderHeight,legendFirstTextXPos:k.legendFirstTextXPos,legendFirstTextYPos:k.legendFirstTextYPos,legendBackgroundColorXPos:k.legendBackgroundColorXPos,legendBackgroundColorYPos:k.legendBackgroundColorYPos,legendBorderXPos:k.legendBorderXPos,legendBorderYPos:k.legendBorderYPos,elementMsr:k.elementMsr},0!=e.legendPosY&&4!=e.legendPosY&&0!=e.legendPosX&&4!=e.legendPosX||(drawLegend(Va,a,e,t,d,-1),Va={dispLegend:!1})):Va={dispLegend:!1}}return clrx=I,clrwidth=V,clry=b,clrheight=G,{leftNotUsableWidth:I,rightNotUsableWidth:B,availableWidth:V,topNotUsableHeight:b,bottomNotUsableHeight:O,availableHeight:G,widestXLabel:Q,widestTXLabel:aa,highestXLabel:$,highestTXLabel:ea,widestYLabel:na,widestYLabel2:ra,highestYLabel:sa,rotateLabels:ma,rotateTLabels:Ta,xLabelPos:Ma,xTLabelPos:va,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight,legendMsr:Va}}function drawLinesDataset(a,e,t,i,l,o){function n(a,e,t,i){return yposOrigin="undefined",void 0!==i[a][e].yPosOffsetOrigin&&(yposOrigin=i[a][e].yAxisPos-f.mainVal*i[a][e].yPosOffsetOrigin),yposOrigin}function s(a,e,t,i,l,o,n,s,r){0==setOptionValue(!0,!0,1,"LINKTYPE",e,o,n,o.datasets[s].linkType,l.linkType,"linkType",s,M,{nullvalue:null})&&setOptionValue(!0,!0,1,"BEZIERCURVE",e,o,n,void 0,l.bezierCurve,"bezierCurve",s,-1,{nullValue:!0})?(a.push(t),a.push(i)):0==setOptionValue(!0,!0,1,"LINKTYPE",e,o,n,o.datasets[s].linkType,l.linkType,"linkType",s,M,{nullvalue:null})?e.lineTo(t,i):1==setOptionValue(!0,!0,1,"LINKTYPE",e,o,n,o.datasets[s].linkType,l.linkType,"linkType",s,M,{nullvalue:null})?("undefined"!=r?e.moveTo(t,r):e.moveTo(t,n[s][0].xAxisPosY-n[s][0].zeroY),e.lineTo(t,i)):2==setOptionValue(!0,!0,1,"LINKTYPE",e,o,n,o.datasets[s].linkType,l.linkType,"linkType",s,M,{nullvalue:null})&&void 0!==x&&(e.lineTo(t,x),e.lineTo(t,i),x=i)}function r(a,t,i,o){0==setOptionValue(!0,!0,1,"LINKTYPE",t,e,l,e.datasets[o].linkType,i.linkType,"linkType",o,M,{nullvalue:null})&&setOptionValue(!0,!0,1,"BEZIERCURVE",t,e,l,void 0,i.bezierCurve,"bezierCurve",o,-1,{nullValue:!0})&&(minimumpos=l[o][0].xAxisPosY,maximumpos=l[o][0].xAxisPosY-l[o][0].calculatedScale.steps*l[o][0].scaleHop,h(t,a,setOptionValue(!0,!0,1,"BEZIERCURVETENSION",t,e,l,void 0,i.bezierCurveTension,"bezierCurveTension",o,-1,{nullValue:!0}),minimumpos,maximumpos),a.length=0),x=void 0}function c(a,e,t,i,l,o,n){var s=Math.sqrt(Math.pow(t-a,2)+Math.pow(i-e,2)),r=Math.sqrt(Math.pow(l-t,2)+Math.pow(o-i,2)),c=n*s/(s+r),h=n-c;return[t+c*(a-l),i+c*(e-o),t-h*(a-l),i-h*(e-o)]}function h(a,i,o,n,s){var r=[],h=i.length;if(i.push(2*i[h-2]-i[h-4]),i.push(2*i[h-1]-i[h-3]),4==h)return a.moveTo(i[0],i[1]),void a.lineTo(i[2],i[3]);for(var u=0;u<h-2;u+=2)r=r.concat(c(i[u],i[u+1],i[u+2],i[u+3],i[u+4],i[u+5],o));for(a.beginPath(),a.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",a,e,l,e.datasets[T].strokeColor,t.defaultStrokeColor,"strokeColor",T,M,{nullvalue:null}),a.lineWidth=Math.ceil(a.chartLineScale*setOptionValue(!0,!0,1,"LINEWIDTH",a,e,l,e.datasets[T].datasetStrokeWidth,t.datasetStrokeWidth,"datasetStrokeWidth",T,M,{nullvalue:null})),a.moveTo(i[0],i[1]),a.quadraticCurveTo(r[0],Math.max(Math.min(r[1],n),s),i[2],i[3]),a.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",a,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),u=2;u<i.length-4;u+=2)d=Math.max(Math.min(r[2*u-1],n),s),p=Math.max(Math.min(r[2*u+1],n),s),a.bezierCurveTo(r[2*u-2],d,r[2*u],p,i[u+2],i[u+3]);a.stroke()}for(var d,p,u,S,g,A,f,x,m=[],T=0;T<e.datasets.length;T++)if(1==setOptionValue(!0,!0,1,"ANIMATION",i,e,l,e.datasets[T].animation,t.animation,"animation",T,-1,{nullvalue:null})||a>=1){if(x="undefined","Line"!=l[T][0].tpchart)continue;if(0==l[T].length)continue;if(-1==l[T][0].firstNotMissing)continue;i.save(),i.beginPath(),prevAnimPc={mainVal:0,subVal:0,animVal:0};for(var P=-1,D=-1,M=l[T][0].firstNotMissing;M<=l[T][0].lastNotMissing;M++)if(todisplay=!0,0==setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.datasets[T].displayData,t.displayData,"displayData",T,M,{nullvalue:null})&&(todisplay=!1),0==setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.displayData,t.displayData,"displayData",M,-1,{nullvalue:null})&&(todisplay=!1),void 0===e.datasets[T].data[M]&&(todisplay=!1),!(0==prevAnimPc.animVal&&M>l[T][0].firstNotMissing))if(f=animationCorrection(a,e,t,T,M,!0),0==f.mainVal&&prevAnimPc.mainVal>0&&-1!=P)i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),t.extrapolateMissingData?(d=l[T][l[T][M].prevNotMissing].yAxisPos-prevAnimPc.mainVal*l[T][l[T][M].prevNotMissing].yPosOffset,p=l[T][M].yAxisPos-prevAnimPc.mainVal*l[T][l[T][M-1].nextNotMissing].yPosOffset,S=l[T][M-1].nextNotMissing-l[T][M].prevNotMissing,g=M-1-l[T][M].prevNotMissing,A=(g+prevAnimPc.subVal)/S,u=d+A*(p-d),s(m,i,l[T][l[T][M].prevNotMissing].xPos+A*(l[T][l[T][M-1].nextNotMissing].xPos-l[T][l[T][M].prevNotMissing].xPos),u,t,e,l,T,n(T,M,e,l)),r(m,i,t,T),i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)",t.datasetFill&&1!=setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[T].linkType,t.linkType,"linkType",T,M,{nullvalue:null})&&(i.lineTo(l[T][l[T][M].prevNotMissing].xPos+A*(l[T][l[T][M-1].nextNotMissing].xPos-l[T][l[T][M].prevNotMissing].xPos),l[T][M].yAxisPos),i.lineTo(l[T][P].xPos,l[T][P].xAxisPosY-l[T][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(!0,!0,1,"COLOR",i,e,l,e.datasets[T].fillColor,t.defaultFillColor,"fillColor",T,M,{animationValue:f.mainVal,xPosLeft:l[T][0].xPos,yPosBottom:Math.max(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lminvalue_offset),xPosRight:l[T][e.datasets[T].data.length-1].xPos,yPosTop:Math.min(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lmaxvalue_offset)}),i.fill(),P=-1)):1==todisplay&&(s(m,i,l[T][M-1].xPos+prevAnimPc.subVal*(l[T][M].xPos-l[T][M-1].xPos),l[T][M].yAxisPos-prevAnimPc.mainVal*l[T][l[T][M-1].nextNotMissing].yPosOffset,t,e,l,T,n(T,M,e,l)),r(m,i,t,T),i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)",t.datasetFill&&1!=setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[T].linkType,t.linkType,"linkType",T,M,{nullvalue:null})&&(i.lineTo(l[T][M-1].xPos+prevAnimPc.subVal*(l[T][M].xPos-l[T][M-1].xPos),l[T][M].yAxisPos),i.lineTo(l[T][P].xPos,l[T][P].xAxisPosY-l[T][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(!0,!0,1,"COLOR",i,e,l,e.datasets[T].fillColor,t.defaultFillColor,"fillColor",T,M,{animationValue:f.mainVal,xPosLeft:l[T][0].xPos,yPosBottom:Math.max(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lminvalue_offset),xPosRight:l[T][e.datasets[T].data.length-1].xPos,yPosTop:Math.min(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lmaxvalue_offset)}),i.fill())),prevAnimPc=f;else{switch(0==f.totVal?(i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle="rgba(0,0,0,0)"):(i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),i.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",i,e,l,e.datasets[T].strokeColor,t.defaultStrokeColor,"strokeColor",T,M,{nullvalue:null})),prevAnimPc=f,todisplay){case!1:if(t.extrapolateMissingData)f.subVal>0&&(D=l[T][M].xPos+f.subVal*(l[T][M+1].xPos-l[T][M].xPos),d=l[T][l[T][M+1].prevNotMissing].yAxisPos-l[T][l[T][M+1].prevNotMissing].yPosOffset,p=l[T][l[T][M].nextNotMissing].yAxisPos-l[T][l[T][M].nextNotMissing].yPosOffset,S=l[T][M].nextNotMissing-l[T][M+1].prevNotMissing,g=M-l[T][M+1].prevNotMissing,A=(g+prevAnimPc.subVal)/S,u=d+A*(p-d),s(m,i,l[T][l[T][M].prevNotMissing].xPos+A*(l[T][l[T][M-1].nextNotMissing].xPos-l[T][l[T][M].prevNotMissing].xPos),u,t,e,l,T,n(T,M,e,l)));else{if(-1==P)continue;r(m,i,t,T),i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),t.datasetFill&&-1!=P&&1!=setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[T].linkType,t.linkType,"linkType",T,M,{nullvalue:null})&&(D=-1,i.strokeStyle="rgba(0,0,0,0)",i.lineTo(l[T][M-1].xPos,l[T][M-1].yAxisPos),i.lineTo(l[T][P].xPos,l[T][P].yAxisPos),i.closePath(),i.fillStyle=setOptionValue(!0,!0,1,"COLOR",i,e,l,e.datasets[T].fillColor,t.defaultFillColor,"fillColor",T,M,{animationValue:f.mainVal,xPosLeft:l[T][0].xPos,yPosBottom:Math.max(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lminvalue_offset),xPosRight:l[T][e.datasets[T].data.length-1].xPos,yPosTop:Math.min(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lmaxvalue_offset)}),i.fill()),i.beginPath(),prevAnimPc={mainVal:0,subVal:0},P=-1}break;default:i.lineWidth=Math.ceil(i.chartLineScale*setOptionValue(!0,!0,1,"LINEWIDTH",i,e,l,e.datasets[T].datasetStrokeWidth,t.datasetStrokeWidth,"datasetStrokeWidth",T,M,{nullvalue:null})),-1==P?(P=M,i.beginPath(),1==setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[T].linkType,t.linkType,"linkType",T,M,{nullvalue:null})?(void 0!==l[T][M].yPosOffsetOrigin?i.moveTo(l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffsetOrigin):i.moveTo(l[T][P].xPos,l[T][P].xAxisPosY-l[T][0].zeroY),i.lineTo(l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset)):i.moveTo(l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset),function(a,o,n,s){0==setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[s].linkType,t.linkType,"linkType",s,M,{nullvalue:null})&&setOptionValue(!0,!0,1,"BEZIERCURVE",i,e,l,void 0,t.bezierCurve,"bezierCurve",s,-1,{nullValue:!0})&&(a.length=0,a.push(o),a.push(n)),x=n}(m,l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset,T),D=l[T][M].xPos):(D=l[T][M].xPos,s(m,i,l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset,t,e,l,T,n(T,M,e,l))),f.subVal>0&&-1!=l[T][M].nextNotMissing&&(t.extrapolateMissing||l[T][M].nextNotMissing==M+1)&&(D=l[T][M].xPos+f.subVal*(l[T][M+1].xPos-l[T][M].xPos),d=l[T][l[T][M+1].prevNotMissing].yAxisPos-l[T][l[T][M+1].prevNotMissing].yPosOffset,p=l[T][l[T][M].nextNotMissing].yAxisPos-l[T][l[T][M].nextNotMissing].yPosOffset,u=d+f.subVal*(p-d),s(m,i,l[T][M].xPos+f.subVal*(l[T][l[T][M].nextNotMissing].xPos-l[T][M].xPos),u,t,e,l,T,n(T,M,e,l)))}todisplay&&a>=t.animationStopValue&&(i.pieces_drawn.points++,i.pieces_drawn.total_drawn++)}if(r(m,i,t,T),i.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",i,e,l,e.datasets[T].datasetStrokeStyle,t.datasetStrokeStyle,"datasetStrokeStyle",T,M,{nullvalue:null}))),i.stroke(),i.setLineDash([]),t.datasetFill&&1!=setOptionValue(!0,!0,1,"LINKTYPE",i,e,l,e.datasets[T].linkType,t.linkType,"linkType",T,M,{nullvalue:null})&&P>=0&&(i.strokeStyle="rgba(0,0,0,0)",i.lineTo(D,l[T][0].xAxisPosY-l[T][0].zeroY),i.lineTo(l[T][P].xPos,l[T][P].xAxisPosY-l[T][0].zeroY),i.closePath(),i.fillStyle=setOptionValue(!0,!0,1,"COLOR",i,e,l,e.datasets[T].fillColor,t.defaultFillColor,"fillColor",T,-1,{animationValue:f.mainVal,xPosLeft:l[T][0].xPos,yPosBottom:Math.max(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lminvalue_offset),xPosRight:l[T][e.datasets[T].data.length-1].xPos,yPosTop:Math.min(l[T][0].yAxisPos,l[T][0].yAxisPos-(t.animationLeftToRight?1:1*f.mainVal)*l[T][0].lmaxvalue_offset)}),i.fill()),i.restore(),a>=1)for(M=0;M<e.datasets[T].data.length;M++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.datasets[T].displayData,t.displayData,"displayData",T,M,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.displayData,t.displayData,"displayData",M,-1,{nullvalue:null})&&void 0!==e.datasets[T].data[M]&&(f=animationCorrection(a,e,t,T,M,!0),(f.mainVal>0||!t.animationLeftToRight)&&setOptionValue(!0,!0,1,"POINTDOT",i,e,l,void 0,t.pointDot,"pointDot",T,M,{nullvalue:null}))){i.beginPath(),i.fillStyle=setOptionValue(!0,!0,1,"MARKERFILLCOLOR",i,e,l,e.datasets[T].pointColor,t.defaultStrokeColor,"pointColor",T,M,{nullvalue:!0}),i.strokeStyle=setOptionValue(!0,!0,1,"MARKERSTROKESTYLE",i,e,l,e.datasets[T].pointStrokeColor,t.defaultStrokeColor,"pointStrokeColor",T,M,{nullvalue:!0}),i.lineWidth=setOptionValue(!0,!0,i.chartLineScale,"MARKERLINEWIDTH",i,e,l,e.datasets[T].pointDotStrokeWidth,t.pointDotStrokeWidth,"pointDotStrokeWidth",T,M,{nullvalue:!0});var v=setOptionValue(!0,!0,1,"MARKERSHAPE",i,e,l,e.datasets[T].markerShape,t.markerShape,"markerShape",T,M,{nullvalue:!0}),y=setOptionValue(!0,!0,i.chartSpaceScale,"MARKERRADIUS",i,e,l,e.datasets[T].pointDotRadius,t.pointDotRadius,"pointDotRadius",T,M,{nullvalue:!0}),L=setOptionValue(!0,!0,1,"MARKERSTROKESTYLE",i,e,l,e.datasets[T].pointDotStrokeStyle,t.pointDotStrokeStyle,"pointDotStrokeStyle",T,M,{nullvalue:!0});drawMarker(i,l[T][M].xPos,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset,v,y,L)}if(a>=t.animationStopValue)for(M=0;M<e.datasets[T].data.length;M++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.datasets[T].displayData,t.displayData,"displayData",T,M,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",i,e,l,e.displayData,t.displayData,"displayData",M,-1,{nullvalue:null})&&void 0!==e.datasets[T].data[M]&&(0!=e.datasets[T].mouseDetection&&(jsGraphAnnotate[i.ChartNewId][jsGraphAnnotate[i.ChartNewId].length]=["POINT",T,M,l,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",i,e,l,e.datasets[T].annotateDisplay,t.annotateDisplay,"annotateDisplay",T,M,{nullValue:!0})]),setOptionValue(!0,!0,1,"INGRAPHDATASHOW",i,e,l,e.datasets[T].inGraphDataShow,t.inGraphDataShow,"inGraphDataShow",T,M,{nullValue:!0}))){i.save(),i.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",i,e,l,void 0,t.inGraphDataAlign,"inGraphDataAlign",T,M,{nullValue:!0}),i.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",i,e,l,void 0,t.inGraphDataVAlign,"inGraphDataVAlign",T,M,{nullValue:!0}),i.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",i,e,l,void 0,t.inGraphDataFontStyle,"inGraphDataFontStyle",T,M,{nullValue:!0})+" "+setOptionValue(!0,!0,i.chartTextScale,"INGRAPHDATAFONTSIZE",i,e,l,void 0,t.inGraphDataFontSize,"inGraphDataFontSize",T,M,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",i,e,l,void 0,t.inGraphDataFontFamily,"inGraphDataFontFamily",T,M,{nullValue:!0}),i.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",i,e,l,void 0,t.inGraphDataFontColor,"inGraphDataFontColor",T,M,{nullValue:!0});var b=setOptionValue(!0,!0,i.chartSpaceScale,"INGRAPHDATAPADDINGX",i,e,l,void 0,t.inGraphDataPaddingX,"inGraphDataPaddingX",T,M,{nullValue:!0}),O=setOptionValue(!0,!0,i.chartSpaceScale,"INGRAPHDATAPADDINGY",i,e,l,void 0,t.inGraphDataPaddingY,"inGraphDataPaddingY",T,M,{nullValue:!0}),I=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",i,e,l,void 0,t.inGraphDataTmpl,"inGraphDataTmpl",T,M,{nullValue:!0}),l[T][M],t);i.translate(l[T][M].xPos+b,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset-O);var B=setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",i,e,l,void 0,t.inGraphDataRotate,"inGraphDataRotate",T,M,{nullValue:!0})*(Math.PI/180);i.rotate(B),setTextBordersAndBackground(i,I,setOptionValue(!0,!0,i.chartTextScale,"INGRAPHDATAFONTSIZE",i,e,l,void 0,t.inGraphDataFontSize,"inGraphDataFontSize",T,M,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",i,e,l,void 0,t.inGraphDataBorders,"inGraphDataBorders",T,M,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",i,e,l,void 0,t.inGraphDataBordersSelection,"inGraphDataBordersSelection",T,M,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",i,e,l,void 0,t.inGraphDataBordersColor,"inGraphDataBordersColor",T,M,{nullValue:!0}),setOptionValue(!0,!0,i.chartLineScale,"INGRAPHDATABORDERSWIDTH",i,e,l,void 0,t.inGraphDataBordersWidth,"inGraphDataBordersWidth",T,M,{nullValue:!0}),setOptionValue(!0,!0,i.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",i,e,l,void 0,t.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",T,M,{nullValue:!0}),setOptionValue(!0,!0,i.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",i,e,l,void 0,t.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",T,M,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",i,e,l,void 0,t.inGraphDataBordersStyle,"inGraphDataBordersStyle",T,M,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",i,e,l,void 0,t.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",T,M,{nullValue:!0}),"INGRAPHDATA",t.inGraphDataBordersRadius),i.fillTextMultiLine(I,0,0,i.textBaseline,setOptionValue(!0,!0,i.chartTextScale,"INGRAPHDATAFONTSIZE",i,e,l,void 0,t.inGraphDataFontSize,"inGraphDataFontSize",T,M,{nullValue:!0}),!0,t.detectMouseOnText,i,"INGRAPHDATA_TEXTMOUSE",B,l[T][M].xPos+b,l[T][M].yAxisPos-f.mainVal*l[T][M].yPosOffset-O,T,M),i.restore()}}i.setLineDash([])}function log10(a){return Math.log(a)/Math.LN10}function setRect(a,e){e.clearRect?e.multiGraph||(clear(a),a.clearRect(0,0,width,height)):(clear(a),a.clearRect(0,0,width,height),a.fillStyle=e.savePngBackgroundColor,a.strokeStyle=e.savePngBackgroundColor,a.beginPath(),a.moveTo(0,0),a.lineTo(0,a.canvas.height),a.lineTo(a.canvas.width,a.canvas.height),a.lineTo(a.canvas.width,0),a.lineTo(0,0),a.stroke(),a.fill())}function defMouse(a,e,t){function i(a,e){a.mouseAction.indexOf("/"+e)>=0?a.mouseAction[a.mouseAction.indexOf("/"+e)]=e:a.mouseAction.indexOf(e)<0&&(a.mouseAction[a.mouseAction.length]=e)}function l(a,e){isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+e.split(" ")[0],function(t){doMouseAction(t,a.ChartNewId,e.split(" ")[0])}):a.canvas.addEventListener(e.split(" ")[0],function(t){doMouseAction(t,a,e.split(" ")[0])},!1)}var o=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";if(void 0===a.mouseAction)a.mouseAction=[];else for(var n=0;n<a.mouseAction;n++)"/"!=a.mouseAction.substring(0,1)&&(a.mouseAction[n]="/"+a.mouseAction[n]);1==t.savePng&&("mousedown left"==t.savePngFunction?i(a,"mousedown 1"):"mousedown middle"==t.savePngFunction?i(a,"mousedown 2"):"mousedown right"==t.savePngFunction&&i(a,"mousedown 3")),1==t.annotateDisplay&&(0==cursorDivCreated&&(oCursor=new makeCursorObj(t,annotate_shape)),"mousedown left"==t.annotateFunction?i(a,"mousedown 1"):"mousedown middle"==t.annotateFunction?i(a,"mousedown 2"):"mousedown right"==t.annotateFunction?i(a,"mousedown 3"):"mousemove"==t.annotateFunction&&i(a,"mousemove")),1==t.highLight&&("mousedown left"==t.highLightMouseFunction?i(a,"mousedown 1"):"mousedown middle"==t.highLightMouseFunction?i(a,"mousedown 2"):"mousedown right"==t.highLightMouseFunction?i(a,"mousedown 3"):"mousemove"==t.highLightMouseFunction&&i(a,"mousemove")),"function"==typeof t.mouseMove&&i(a,"mousemove"),"function"==typeof t.mouseDownLeft&&i(a,"mousedown 1"),"function"==typeof t.mouseDownMiddle&&i(a,"mousedown 2"),"function"==typeof t.mouseDownRight&&i(a,"mousedown 3"),"function"==typeof t.mouseWheel&&i(a,o),"function"==typeof t.mouseOut&&i(a,"mouseout"),"function"==typeof t.mouseDblClick&&i(a,"dblclick");(a.mouseAction.indexOf("mousemove")>=0&&a.mouseAction.indexOf("/mousemove")<0||a.mouseAction.indexOf("mouseout")>=0&&a.mouseAction.indexOf("/mouseout")<0)&&(i(a,"mouseout"),!0,l(a,"mouseout")),(a.mouseAction.indexOf("mousemove")>=0&&a.mouseAction.indexOf("/mousemove")<0||a.mouseAction.indexOf(o)>=0&&a.mouseAction.indexOf("/"+o)<0)&&(i(a,o),!0,l(a,o)),a.mouseAction.indexOf("mousemove")>=0&&a.mouseAction.indexOf("/mousemove")<0&&(!0,l(a,"mousemove")),a.mouseAction.indexOf("dblclick")>=0&&a.mouseAction.indexOf("/dblclick")<0&&(!0,l(a,"dblclick")),(a.mouseAction.indexOf("mousedown 1")>=0&&a.mouseAction.indexOf("/mousedown 1")<0||a.mouseAction.indexOf("mousedown 2")>=0&&a.mouseAction.indexOf("/mousedown 2")<0||a.mouseAction.indexOf("mousedown 3")>=0&&a.mouseAction.indexOf("/mousedown 3")<0)&&(!0,l(a,"mousedown")),(0==t.contextMenu||a.mouseAction.indexOf("mousedown 3")>=0)&&a.mouseAction.indexOf("/removeContextMenu")<0&&(a.mouseAction[a.mouseAction.length]="removeContextMenu",a.canvas.oncontextmenu=function(a){a.preventDefault()}),inMouseAction[a.ChartNewId]=!1,mouseActionData[a.ChartNewId]={data:e,config:t,prevShow:-1}}var chart=this,animationOptions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(1-Math.pow(2,-10*a/1))},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var e=1.70158,t=0,i=1;return 0==a?0:1==(a/=1)?1:(t||(t=.3),i<Math.abs(1)?(i=1,e=t/4):e=t/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(a-=1))*Math.sin((1*a-e)*(2*Math.PI)/t))},easeOutElastic:function(a){var e=1.70158,t=0,i=1;return 0==a?0:1==(a/=1)?1:(t||(t=.3),i<Math.abs(1)?(i=1,e=t/4):e=t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*a)*Math.sin((1*a-e)*(2*Math.PI)/t)+1)},easeInOutElastic:function(a){var e=1.70158,t=0,i=1;return 0==a?0:2==(a/=.5)?1:(t||(t=.3*1.5*1),i<Math.abs(1)?(i=1,e=t/4):e=t/(2*Math.PI)*Math.asin(1/i),a<1?i*Math.pow(2,10*(a-=1))*Math.sin((1*a-e)*(2*Math.PI)/t)*-.5:i*Math.pow(2,-10*(a-=1))*Math.sin((1*a-e)*(2*Math.PI)/t)*.5+1)},easeInBack:function(a){var e=1.70158;return 1*(a/=1)*a*((e+1)*a-e)},easeOutBack:function(a){var e=1.70158;return 1*((a=a/1-1)*a*((e+1)*a+e)+1)},easeInOutBack:function(a){var e=1.70158;return(a/=.5)<1?a*a*((1+(e*=1.525))*a-e)*.5:.5*((a-=2)*a*((1+(e*=1.525))*a+e)+2)},easeInBounce:function(a){return 1-animationOptions.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a*1:a<2/2.75?1*(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return a<.5?.5*animationOptions.easeInBounce(2*a):.5*animationOptions.easeOutBounce(2*a-1)+.5}},width=context.canvas.width,height=context.canvas.height;this.Doughnut=function(a,e){chart.Doughnut.defaults=chart.defaults.PieAndDoughnutV2,chart.Doughnut.defaults=mergeChartConfig(chart.defaults.PieAndDoughnut,chart.Doughnut.defaults),isIE()<9&&0!=isIE()&&(chart.Doughnut.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Doughnut.defaults)),chart.Doughnut.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Doughnut.defaults),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptions),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptionsDoughnut);var t=e?mergeChartConfig(chart.Doughnut.defaults,e):chart.Doughnut.defaults;return new Doughnut(a,t,context)},this.PolarArea=function(a,e){chart.PolarArea.defaults=chart.defaults.PolarAreaV2,chart.PolarArea.defaults=mergeChartConfig(chart.defaults.PolarArea,chart.PolarArea.defaults),isIE()<9&&0!=isIE()&&(chart.PolarArea.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.PolarArea.defaults)),chart.PolarArea.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.PolarArea.defaults),
chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptions),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptionsPolarArea);var t=e?mergeChartConfig(chart.PolarArea.defaults,e):chart.PolarArea.defaults;return new PolarArea(a,t,context)},this.PolarArea=function(a,e){chart.PolarArea.defaults=chart.defaults.PolarAreaV2,chart.PolarArea.defaults=mergeChartConfig(chart.defaults.PolarArea,chart.PolarArea.defaults),isIE()<9&&0!=isIE()&&(chart.PolarArea.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.PolarArea.defaults)),chart.PolarArea.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.PolarArea.defaults),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptions),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptionsPolarArea);var t=e?mergeChartConfig(chart.PolarArea.defaults,e):chart.PolarArea.defaults;return new PolarArea(a,t,context)},this.Radar=function(a,e){chart.Radar.defaults={highLightSet:{pointDotRadius:15,pointDot:!0},inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,yAxisMinimumInterval:"none",scaleGridLinesStep:1,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!1,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineStyle:"solid",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointDotStrokeStyle:"solid",datasetFill:!0,datasetStrokeWidth:2,datasetStrokeStyle:"solid",animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10,startAngle:90},isIE()<9&&0!=isIE()&&(chart.Radar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Radar.defaults)),chart.Radar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Radar.defaults),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptions),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptionsRadar);var t=e?mergeChartConfig(chart.Radar.defaults,e):chart.Radar.defaults;return new Radar(a,t,context)},this.Pie=function(a,e){chart.Pie.defaults=chart.defaults.PieAndDoughnutV2,chart.Pie.defaults=mergeChartConfig(chart.defaults.PieAndDoughnut,chart.Pie.defaults),isIE()<9&&0!=isIE()&&(chart.Pie.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Pie.defaults)),chart.Pie.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Pie.defaults),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptions),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptionsPie);var t=e?mergeChartConfig(chart.Pie.defaults,e):chart.Pie.defaults;return new Pie(a,t,context)},this.Doughnut=function(a,e){chart.Doughnut.defaults=chart.defaults.PieAndDoughnutV2,chart.Doughnut.defaults=mergeChartConfig(chart.defaults.PieAndDoughnut,chart.Doughnut.defaults),isIE()<9&&0!=isIE()&&(chart.Doughnut.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Doughnut.defaults)),chart.Doughnut.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Doughnut.defaults),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptions),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptionsDoughnut);var t=e?mergeChartConfig(chart.Doughnut.defaults,e):chart.Doughnut.defaults;return new Doughnut(a,t,context)},this.Line=function(a,e){chart.Line.defaults={inGraphDataShow:!1,highLightSet:{pointDotRadius:15,pointDot:!0},inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLabel2:"<%=value%>",scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",rotateTLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,linkType:0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,datasetStrokeStyle:"solid",datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",extrapolateMissingData:!0,onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.Line.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Line.defaults)),chart.Line.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptions),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptionsLine);var t=e?mergeChartConfig(chart.Line.defaults,e):chart.Line.defaults;return new Line(a,t,context)},this.StackedBar=function(a,e){chart.StackedBar.defaults={annotateBarMinimumDetectionHeight:0,highLightSet:{pointDotRadius:15,barStrokeWidth:5,pointDot:!0},inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleLabel2:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",rotateTLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,barShowStroke:!0,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,bezierCurve:!0,linkType:0,bezierCurveTension:.4,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.StackedBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.StackedBar.defaults)),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptions),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptionsStackedBar);var t=e?mergeChartConfig(chart.StackedBar.defaults,e):chart.StackedBar.defaults;return new StackedBar(a,t,context)},this.HorizontalStackedBar=function(a,e){chart.HorizontalStackedBar.defaults={annotateBarMinimumDetectionHeight:0,highLightSet:{pointDotRadius:15,barStrokeWidth:5,pointDot:!0},inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",rotateTLabels:"smart",barShowStroke:!0,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},isIE()<9&&0!=isIE()&&(chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.HorizontalStackedBar.defaults)),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptionsHorizontalStackedBar);var t=e?mergeChartConfig(chart.HorizontalStackedBar.defaults,e):chart.HorizontalStackedBar.defaults;return new HorizontalStackedBar(a,t,context)},this.Bar=function(a,e){chart.Bar.defaults={annotateBarMinimumDetectionHeight:0,highLightSet:{pointDotRadius:15,barStrokeWidth:5,pointDot:!0},inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleLabel2:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleGridLineStyle:"solid",showYAxisMin:!0,rotateLabels:"smart",rotateTLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,complementaryBar:!1,complementaryBarFullHeight:!1,complementaryColor:"rgba(100,100,100,0.3)",complementaryStrokeColor:"rgba(100,100,100,0.1)",pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,extrapolateMissingData:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,bezierCurve:!0,linkType:0,bezierCurveTension:.4,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.Bar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Bar.defaults)),chart.Bar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptions),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptionsBar);var t=e?mergeChartConfig(chart.Bar.defaults,e):chart.Bar.defaults;return new Bar(a,t,context)},this.HorizontalBar=function(a,e){chart.HorizontalBar.defaults={annotateBarMinimumDetectionHeight:0,highLightSet:{pointDotRadius:15,barStrokeWidth:5,pointDot:!0},inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,logarithmic:!1,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",rotateTLabels:"smart",barShowStroke:!0,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,complementaryBar:!1,complementaryColor:"rgba(100,100,100,0.3)",complementaryStrokeColor:"rgba(100,100,100,0.1)",animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},isIE()<9&&0!=isIE()&&(chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.HorizontalBar.defaults)),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptionsHorizontalBar);var t=e?mergeChartConfig(chart.HorizontalBar.defaults,e):chart.HorizontalBar.defaults;return new HorizontalBar(a,t,context)},chart.defaults={},chart.defaults.IExplorer8={annotateBackgroundColor:"black",annotateFontColor:"white"},chart.defaults.commonOptions={generateConvertedData:!1,displayData:!0,showZeroValue:!0,chartTextScale:1,chartLineScale:1,chartSpaceScale:1,multiGraph:!1,forceGraphMin:!0,forceGraphMax:!0,forceGraphMin2:!0,forceGraphMax2:!0,forceScale:"none",forceScale2:"none",clearRect:!0,dynamicDisplay:!1,dynamicDisplayXPartOfChart:.5,dynamicDisplayYPartOfChart:.5,animationForceSetTimeOut:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersRadius:0,canvasBordersSelection:15,canvasBordersWidth:3,canvasBordersStyle:"solid",canvasBordersColor:"black",zeroValue:1e-10,graphTitle:"",graphTitleAlign:"center",graphTitleShift:10,graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphTitleBorders:!1,graphTitleBordersRadius:0,graphTitleBordersColor:"black",graphTitleBordersXSpace:3,graphTitleBordersYSpace:3,graphTitleBordersSelection:15,graphTitleBordersWidth:1,graphTitleBordersStyle:"solid",graphTitleBackgroundColor:"none",graphSubTitle:"",graphSubTitleAlign:"center",graphSubTitleShift:10,graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,graphSubTitleBorders:!1,graphSubTitleBordersColor:"black",graphSubTitleBordersRadius:0,graphSubTitleBordersXSpace:3,graphSubTitleBordersYSpace:3,graphSubTitleBordersSelection:15,graphSubTitleBordersWidth:1,graphSubTitleBordersStyle:"solid",graphSubTitleBackgroundColor:"none",footNote:"",footNoteAlign:"center",footNoteShift:10,footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,footNoteBorders:!1,footNoteBordersColor:"black",footNoteBordersRadius:0,footNoteBordersXSpace:3,footNoteBordersYSpace:3,footNoteBordersSelection:15,footNoteBordersWidth:1,footNoteBordersStyle:"solid",footNoteBackgroundColor:"none",legend:!1,legendWhenToDraw:"all",showSingleLegend:!1,maxLegendCols:999,maxLegendLines:999,legendPosY:4,legendPosX:-2,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBlockRadius:0,legendBorders:!0,legendBordersStyle:"solid",legendBordersWidth:1,legendBordersSelection:15,legendBordersColors:"#666",legendBordersRadius:0,legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,legendFillColor:"rgba(0,0,0,0)",legendXPadding:0,legendYPadding:0,inGraphDataBorders:!1,inGraphDataBordersRadius:0,inGraphDataBordersColor:"black",inGraphDataBordersXSpace:3,inGraphDataBordersYSpace:3,inGraphDataBordersSelection:15,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBackgroundColor:"none",annotateDisplay:!1,annotateRelocate:!1,savePng:!1,savePngOutput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",annotateFunctionIn:null,annotateFunctionOut:null,detectMouseOnText:!1,crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,crossTextBorders:[!1],crossTextBordersColor:["black"],crossTextBordersRadius:[0],crossTextBordersXSpace:[3],crossTextBordersYSpace:[3],crossTextBordersSelection:[15],crossTextBordersWidth:[1],crossTextBordersStyle:["solid"],crossTextBackgroundColor:["none"],crossImage:[void 0],crossImageIter:["all"],crossImageOverlay:[!0],crossImageRelativePosX:[2],crossImageRelativePosY:[2],crossImageBaseline:["middle"],crossImageAlign:["center"],crossImagePosX:[0],crossImagePosY:[0],crossImageAngle:[0],spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",currency:"",currencyPosition:"after",roundNumber:"none",roundPct:-1,templatesOpenTag:"<%=",templatesCloseTag:"%>",fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV6T:"none",fmtV7:"none",fmtV8:"none",fmtV8T:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtV14:"none",fmtV15:"none",fmtXLabel:"none",fmtTopXLabel:"none",fmtYLabel:"none",fmtYLabel2:"none",fmtLegend:"none",animationStartValue:0,animationStopValue:1,animationCount:1,animationPauseTime:5,animationBackward:!1,animationStartWithDataset:1,animationStartWithData:1,animationLeftToRight:!1,animationByDataset:!1,defaultStrokeColor:"rgba(220,220,220,1)",defaultFillColor:"rgba(220,220,220,0.5)",defaultLineWidth:2,graphMaximized:!1,contextMenu:!0,mouseDownRight:null,mouseDownLeft:null,mouseDownMiddle:null,mouseMove:null,mouseOut:null,mouseDblClick:null,mouseWheel:null,highLight:!1,highLightMouseFunction:"mousemove",highLightFullLine:!1,highLightRerunEndFunction:!1,savePngName:"canvas",responsive:!1,responsiveMinWidth:0,responsiveMinHeight:0,responsiveMaxWidth:9999999,responsiveMaxHeight:9999999,maintainAspectRatio:!0,forcedAspectRadio:0,responsiveScaleContent:!1,responsiveWindowInitialWidth:!1,markerShape:"circle",barStrokeWidth:2,initFunction:null,beforeDrawFunction:null,endDrawDataFunction:null,endDrawScaleFunction:null},chart.defaults.PolarAreaV1={highLightSet:{color:"red"},inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>"},chart.defaults.PolarAreaV2={highLightSet:{fillColor:"red"},inGraphDataTmpl:"<%=(data.labels.length == 1 ? (v1 == '' ? '' : v1+':') + v3 + ' (' + v6 + ' %)' : (i==0 ? v2 : '') )%>",annotateLabel:"<%=(v2 == '' ? '' : v2) + (v2!='' && v1 !='' ? ' - ' : '')+(v1 == '' ? '' : v1)+(v2!='' || v1 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.defaults.PolarArea={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleOverride2:!1,forceSecondScale:!1,scaleGridLinesStep:1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleLineStyle:"solid",scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,animation:!0,animationByData:"ByArc",animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,startAngle:90,totalAmplitude:360,radiusScale:1},chart.defaults.PieAndDoughnutV1={inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>"},chart.defaults.PieAndDoughnutV2={inGraphDataTmpl:"<%=(data.labels.length == 1 ? (v1 == '' ? '' : v1+':') + v3 + ' (' + v6 + ' %)' : (i==0 ? v2 : '') )%>",annotateLabel:"<%=(v2 == '' ? '' : v2) + (v2!='' && v1 !='' ? ' - ' : '')+(v1 == '' ? '' : v1)+(v2!='' || v1 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},chart.defaults.PieAndDoughnut={highLightSet:{expandOutRadius:.1,expandInRadius:-.1},inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationByData:!1,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,alwaysRunFunctionAtCompletion:!1,startAngle:90,totalAmplitude:360,radiusScale:1,radiusDataWeight:1,radiusSpaceWeight:.3},chart.defaults.xyAxisCommonOptions={maxBarWidth:-1,drawXScaleLine:[{position:"bottom"}],yAxisMinimumInterval:"none",yAxisMinimumInterval2:"none",yScaleLabelsMinimumWidth:0,xScaleLabelsMinimumWidth:0,yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,fullWidthGraph:!1,yAxisLabel:"",yAxisLabel2:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,yAxisLabelBorders:!1,yAxisLabelBordersColor:"black",yAxisLabelBordersRadius:0,yAxisLabelBordersXSpace:3,yAxisLabelBordersYSpace:3,yAxisLabelBordersSelection:15,yAxisLabelBordersWidth:1,yAxisLabelBordersStyle:"solid",yAxisLabelBackgroundColor:"none",xAxisLabel:"",xAxisLabel2:"",xTAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,xAxisLabelBorders:!1,xAxisLabelBordersColor:"black",xAxisLabelBordersRadius:0,xAxisLabelBordersXSpace:3,xAxisLabelBordersYSpace:3,xAxisLabelBordersSelection:15,xAxisLabelBordersWidth:1,xAxisLabelBordersStyle:"solid",xAxisLabelBackgroundColor:"none",showXLabels:1,firstLabelToShow:1,showYLabels:1,firstYLabelToShow:1,yAxisUnit:"",yAxisUnit2:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5,yAxisUnitBorders:!1,yAxisUnitBordersColor:"black",yAxisUnitBordersradius:0,yAxisUnitBordersXSpace:3,yAxisUnitBordersYSpace:3,yAxisUnitBordersSelection:15,yAxisUnitBordersWidth:1,yAxisUnitBordersStyle:"solid",yAxisUnitBackgroundColor:"none",scaleMinorTickWidth:1,scaleMinorTickColor:"rgba(0,0,0,.05)",scaleMinorTickStyle:"solid",scaleMinorTickSizeTop:3,scaleMinorTickSizeBottom:3,scaleMinorTickSizeRight:3,scaleMinorTickSizeLeft:3,scaleMinorTickHorizontalCount:0,scaleMinorTickVerticalCount:0,scaleMinorTickVerticalLines:!0,scaleMinorTickHorizontalLines:!0,tickColor:"gridLine",minorTickColor:"gridLine",xAxisMiddle:!1,yAxisMiddle:!1};var clear=function(a){a.clearRect(0,0,width,height)},MPolarArea=function(a,e,t){function i(i){var l=0,n=c[0][0].firstAngle;1*e.animationStartWithData>1&&1*e.animationStartWithData-1<a.length&&(l=c[e.animationStartWithData-1].startAngle-c[0][0].firstAngle,n=c[e.animationStartWithData-1].startAngle),prevAngle=c[0][0].firstAngle;for(var h=0;h<a.labels.length;h++){var d=1,p=1;e.animation&&(e.animateScale&&(d=i),e.animateRotate&&(p=i));for(var u=0;u<a.datasets.length;u++)if(correctedRotateAnimation=animationCorrection(p,a,e,u,-1,!1).mainVal,void 0!==a.datasets[u].data[h]){if(t.beginPath(),"ByArc"==e.animationByData)endAngle=c[u][h].startAngle+correctedRotateAnimation*c[u][h].segmentAngle,t.arc(s,r,d*c[u][h].radiusOffset,c[u][h].startAngle,endAngle,!1);else if(e.animationByData)if(u<1*e.animationStartWithData-1)t.arc(midPieX,midPieY,d*c[u][h].radiusOffset,c[u][h].startAngle,c[u][h].endAngle,!1);else{if(!(c[u][h].startAngle<=n+correctedRotateAnimation*(2*Math.PI-l)))continue;endAngle=c[u][h].endAngle,c[u][h].endAngle>n+correctedRotateAnimation*(2*Math.PI-l)&&(endAngle=n+correctedRotateAnimation*(2*Math.PI-l)),t.arc(midPieX,midPieY,d*c[u][h].radiusOffset,c[u][h].startAngle,endAngle,!1)}else t.arc(midPieX,midPieY,d*c[u][h].radiusOffset,prevAngle,prevAngle+correctedRotateAnimation*(c[u][h].endAngle-c[u][h].startAngle),!1),prevAngle+=correctedRotateAnimation*(c[u][h].endAngle-c[u][h].startAngle);t.lineTo(s,r),t.closePath(),i>=e.animationStopValue&&(t.pieces_drawn.slices++,t.pieces_drawn.total_drawn++),t.fillStyle=setOptionValue(!0,!0,1,"FILLCOLOR",t,a,c,a.datasets[u].fillColor,e.defaultFillColor,"fillColor",u,h,{animationDecimal:i,scaleAnimation:d}),t.fill(),"merge"==e.segmentShowStroke?(t.lineWidth=0,t.strokeStyle=setOptionValue(!0,!0,1,"FILLCOLOR",t,a,c,a.datasets[u].fillColor,e.defaultFillColor,"fillColor",u,h,{animationDecimal:i,scaleAnimation:d}),t.setLineDash([]),t.stroke()):e.segmentShowStroke&&(t.strokeStyle=e.segmentStrokeColor,t.lineWidth=Math.ceil(t.chartLineScale*e.segmentStrokeWidth),t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"SEGMENTSTROKESTYLE",t,a,c,a.datasets[u].segmentStrokeStyle,e.segmentStrokeStyle,"segmentStrokeStyle",u,h,{animationDecimal:i,scaleAnimation:d}))),t.stroke(),t.setLineDash([]))}}if(i>=e.animationStopValue)for(u=0;u<a.datasets.length;u++)for(h=0;h<a.labels.length;h++)if(void 0!==a.datasets[u].data[h]&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["MARC",u,h,c,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,c,a.datasets[u].annotateDisplay,e.annotateDisplay,"annotateDisplay",u,h,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,c,a.datasets[u].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",u,h,{nullValue:!0}))){1==setOptionValue(!0,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,c,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",u,h,{nullValue:!0})?posAngle=c[u][h].realStartAngle+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINANGLE",t,a,c,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",u,h,{nullValue:!0})*(Math.PI/180):2==setOptionValue(!0,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,c,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",u,h,{nullValue:!0})?posAngle=(2*c[u][h].realStartAngle-c[u][h].segmentAngle)/2+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINANGLE",t,a,c,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",u,h,{nullValue:!0})*(Math.PI/180):3==setOptionValue(!0,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,c,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",u,h,{nullValue:!0})&&(posAngle=c[u][h].realStartAngle-c[u][h].segmentAngle+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINANGLE",t,a,c,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",u,h,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,c,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",u,h,{nullValue:!0})?labelRadius=0+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,c,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",u,h,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,c,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",u,h,{nullValue:!0})?labelRadius=c[u][h].radiusOffset/2+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,c,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",u,h,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,c,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",u,h,{nullValue:!0})?labelRadius=c[u][h].radiusOffset+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,c,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",u,h,{nullValue:!0}):4==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,c,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",u,h,{nullValue:!0})&&(labelRadius=o*S.nbOfStepsAxis1+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,c,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",u,h,{nullValue:!0})),t.save(),
"off-center"==setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,c,void 0,e.inGraphDataAlign,"inGraphDataAlign",u,h,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,c,void 0,e.inGraphDataRotate,"inGraphDataRotate",u,h,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?t.textAlign="left":t.textAlign="right":"to-center"==setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,c,void 0,e.inGraphDataAlign,"inGraphDataAlign",u,h,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,c,void 0,e.inGraphDataRotate,"inGraphDataRotate",u,h,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?t.textAlign="right":t.textAlign="left":t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,c,void 0,e.inGraphDataAlign,"inGraphDataAlign",u,h,{nullValue:!0}),"off-center"==setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,c,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",u,h,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="top":t.textBaseline="bottom":"to-center"==setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,c,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",u,h,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="bottom":t.textBaseline="top":t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,c,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",u,h,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,c,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",u,h,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,c,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",u,h,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,c,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",u,h,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,c,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",u,h,{nullValue:!0});var g=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,c,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",u,h,{nullValue:!0}),c[u][h],e);t.translate(s+labelRadius*Math.cos(posAngle),r-labelRadius*Math.sin(posAngle));var A=0;A="inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,c,void 0,e.inGraphDataRotate,"inGraphDataRotate",u,h,{nullValue:!0})?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,c,void 0,e.inGraphDataRotate,"inGraphDataRotate",u,h,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,c,void 0,e.inGraphDataRotate,"inGraphDataRotate",u,h,{nullValue:!0})*(Math.PI/180),t.rotate(A),setTextBordersAndBackground(t,g,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,c,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",u,h,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,c,void 0,e.inGraphDataBorders,"inGraphDataBorders",u,h,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,c,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",u,h,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,c,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",u,h,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,c,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",u,h,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,c,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",u,h,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,c,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",u,h,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,c,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",u,h,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,c,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",u,h,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(g,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,c,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",u,h,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",A,s+labelRadius*Math.cos(posAngle),r-labelRadius*Math.sin(posAngle),u,h),t.restore()}}function l(){for(var a=0;a<S.nbOfStepsAxis1;a++)if(e.scaleShowLine&&(a+1)%e.scaleGridLinesStep==0&&(t.beginPath(),t.arc(s,r,o*(a+1),4*Math.PI-p,4*Math.PI-u,!0),t.strokeStyle=e.scaleLineColor,t.lineWidth=Math.ceil(t.chartLineScale*e.scaleLineWidth),t.setLineDash(lineStyleFn(e.scaleLineStyle)),t.stroke(),t.setLineDash([])),e.scaleShowLabels){Math.abs(e.totalAmplitude-360)<e.zeroValue?scaleAngle=Math.PI/2:scaleAngle=(p+u)/2,t.textAlign="center",t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily;var i=S.labels1[a+1];if(e.scaleShowLabelBackdrop){var l=t.measureTextMultiLine(i,Math.ceil(t.chartTextScale*e.scaleFontSize));t.fillStyle=e.scaleBackdropColor,t.beginPath(),t.rect(Math.round(s+Math.cos(scaleAngle)*(o*(a+1))-l/2-Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingX)),Math.round(r-Math.sin(scaleAngle)*(o*(a+1))-.5*Math.ceil(t.chartTextScale*e.scaleFontSize)-Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingY)),Math.round(l+2*Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingX)),Math.round(Math.ceil(t.chartTextScale*e.scaleFontSize)+2*Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingY))),t.fill()}t.textBaseline="middle",t.fillStyle=e.scaleFontColor,t.fillTextMultiLine(i,s+Math.cos(scaleAngle)*(o*(a+1)),r-Math.sin(scaleAngle)*(o*(a+1)),t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"SCALE_TEXTMOUSE",0,0,0,a,-1)}}var o,n,s,r;if(t.tpchart="PolarArea",t.tpdata=0,init_and_start(t,a,e)){var c=initPassVariableData_part1(a,e,t);init_result(t,a,c);var h=((e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),d=((e.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);d<=e.zeroValue&&(d=2*Math.PI);var p=(h-d+4*Math.PI)%(2*Math.PI),u=p+d,S=computeScale(!1,!1,!1,!1,!1,!1,a,e,t,c,0);S.labels1=[],populateLabels(S.logarithm1,e.fmtYLabel,e,S.labelTemplateString1,S.labels1,S.nbOfStepsAxis1,S.minAxis1,S.maxAxis1,S.stepWidthAxis1),n=setMeasures(a,e,t,t.canvas.height,t.canvas.width,S.labels1,null,!0,!1,!1,!0,"PolarArea");var g=S.minAxis1+S.nbOfStepsAxis1*S.stepWidthAxis1,A=calculatePieDrawingSize(t,n,e,a,c);s=A.midPieX,r=A.midPieY,o=Math.floor(A.radius/S.nbOfStepsAxis1);var f={steps:S.nbOfStepsAxis1,stepValue:S.stepWidthAxis1,graphMin:S.minAxis1,graphMax:S.minAxis1+S.nbOfStepsAxis1*S.stepWidthAxis1,labels:S.labels1};return o>0?(initPassVariableData_part2(c,a,e,t,S.logarithm1,S.logarithm2,{midPosX:s,midPosY:r,int_radius:0,ext_radius:o*S.nbOfStepsAxis1,calculatedScale:f,scaleHop:o,outerVal:g}),animationLoop(e,n.legendMsr,l,i,t,n.clrx,n.clry,n.clrwidth,n.clrheight,s,r,s-(Min([n.availableHeight,n.availableWidth])/2-5),r+(Min([n.availableHeight,n.availableWidth])/2-5),a,c)):(testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,c),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t)),{data:a,config:e,ctx:t}}},PolarArea=function(a,e,t){return void 0!==a.length?MPolarArea(convertData(a,e.generateConvertedData),e,t):MPolarArea(a,e,t)},Radar=function(a,e,t){function i(i){var l=2*Math.PI/a.datasets[0].data.length;t.save();for(var o=0;o<a.datasets.length;o++){for(var n=-1,s=0;s<a.datasets[o].data.length;s++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.datasets[o].displayData,e.displayData,"displayData",o,s,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.displayData,e.displayData,"displayData",s,-1,{nullvalue:null})){var r=animationCorrection(i,a,e,o,s,!1).animVal;r>1&&(r-=1),void 0!==a.datasets[o].data[s]&&(-1==n?(t.beginPath(),t.moveTo(c+r*d[o][s].offsetX,h-r*d[o][s].offsetY),n=s):t.lineTo(c+r*d[o][s].offsetX,h-r*d[o][s].offsetY),i>=e.animationStopValue&&(t.pieces_drawn.points++,t.pieces_drawn.total_drawn++))}if(t.closePath(),e.datasetFill?t.fillStyle=setOptionValue(!0,!0,1,"COLOR",t,a,d,a.datasets[o].fillColor,e.defaultFillColor,"fillColor",o,-1,{animationValue:r,midPosX:d[o][0].midPosX,midPosY:d[o][0].midPosY,ext_radius:(e.animationLeftToRight?1:r)*d[o][0].calculated_offset_max}):t.fillStyle="rgba(0,0,0,0)",t.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",t,a,d,a.datasets[o].strokeColor,e.defaultStrokeColor,"strokeColor",o,-1,{nullvalue:null}),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"LINEWIDTH",t,a,d,a.datasets[o].datasetStrokeWidth,e.datasetStrokeWidth,"datasetStrokeWidth",o,-1,{nullvalue:null})),t.fill(),t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"LINEDASH",t,a,d,a.datasets[o].datasetStrokeStyle,e.datasetStrokeStyle,"datasetStrokeStyle",o,s,{nullvalue:null}))),t.stroke(),t.setLineDash([]),i>=e.animationStopValue){t.beginPath();for(var p=0;p<a.datasets[o].data.length;p++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.datasets[o].displayData,e.displayData,"displayData",o,p,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.displayData,e.displayData,"displayData",p,-1,{nullvalue:null})&&void 0!==a.datasets[o].data[p]&&setOptionValue(!0,!0,1,"POINTDOT",t,a,d,void 0,e.pointDot,"pointDot",o,p,{nullvalue:null})){t.beginPath(),t.fillStyle=setOptionValue(!0,!0,1,"MARKERFILLCOLOR",t,a,d,a.datasets[o].pointColor,e.defaultStrokeColor,"pointColor",o,p,{nullvalue:!0}),t.strokeStyle=setOptionValue(!0,!0,1,"MARKERSTROKESTYLE",t,a,d,a.datasets[o].pointStrokeColor,e.defaultStrokeColor,"pointStrokeColor",o,p,{nullvalue:!0}),t.lineWidth=setOptionValue(!0,!0,t.chartLineScale,"MARKERLINEWIDTH",t,a,d,a.datasets[o].pointDotStrokeWidth,e.pointDotStrokeWidth,"pointDotStrokeWidth",o,p,{nullvalue:!0});var u=setOptionValue(!0,!0,1,"MARKERSHAPE",t,a,d,a.datasets[o].markerShape,e.markerShape,"markerShape",o,p,{nullvalue:!0}),S=setOptionValue(!0,!0,t.chartSpaceScale,"MARKERRADIUS",t,a,d,a.datasets[o].pointDotRadius,e.pointDotRadius,"pointDotRadius",o,p,{nullvalue:!0}),g=setOptionValue(!0,!0,1,"MARKERSTROKESTYLE",t,a,d,a.datasets[o].pointDotStrokeStyle,e.pointDotStrokeStyle,"pointDotStrokeStyle",o,p,{nullvalue:!0});drawMarker(t,c+r*d[o][p].offsetX,h-r*d[o][p].offsetY,u,S,g)}}}if(t.restore(),i>=e.animationStopValue)for(o=0;o<a.datasets.length;o++)for(s=0;s<a.datasets[o].data.length;s++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.datasets[o].displayData,e.displayData,"displayData",o,s,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.displayData,e.displayData,"displayData",s,-1,{nullvalue:null})&&void 0!==a.datasets[o].data[s]&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["POINT",o,s,d,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,d,a.datasets[o].annotateDisplay,e.annotateDisplay,"annotateDisplay",o,s,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,d,a.datasets[o].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",o,s,{nullValue:!0}))){t.save(),t.beginPath(),t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,d,void 0,e.inGraphDataAlign,"inGraphDataAlign",o,s,{nullValue:!0}),t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,d,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",o,s,{nullValue:!0}),"off-center"==setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,d,void 0,e.inGraphDataAlign,"inGraphDataAlign",o,s,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,s,{nullValue:!0})||(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)<=Math.PI/2?t.textAlign="left":t.textAlign="right":"to-center"==setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,d,void 0,e.inGraphDataAlign,"inGraphDataAlign",o,s,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,s,{nullValue:!0})||(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)<Math.PI/2?t.textAlign="right":t.textAlign="left":t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,d,void 0,e.inGraphDataAlign,"inGraphDataAlign",o,s,{nullValue:!0}),"off-center"==setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,d,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",o,s,{nullValue:!0})?(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="bottom":t.textBaseline="top":"to-center"==setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,d,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",o,s,{nullValue:!0})?(e.startAngle*Math.PI/180-s*l+4*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="top":t.textBaseline="bottom":t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,d,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",o,s,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,d,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",o,s,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,s,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,d,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",o,s,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,d,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",o,s,{nullValue:!0});var A;1==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,d,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",o,s,{nullValue:!0})?A=0+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,d,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",o,s,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,d,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",o,s,{nullValue:!0})?A=d[o][s].calculated_offset/2+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,d,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",o,s,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,d,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",o,s,{nullValue:!0})&&(A=d[o][s].calculated_offset+setOptionValue(!0,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,d,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",o,s,{nullValue:!0}));var f,x;d[o][s].calculated_offset>0?(f=c+d[o][s].offsetX*(A/d[o][s].calculated_offset),x=h-d[o][s].offsetY*(A/d[o][s].calculated_offset)):(f=c,x=h),t.translate(f,x);var m=0;m="inRadiusAxis"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,s,{nullValue:!0})?s*l:"inRadiusAxisRotateLabels"==setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,s,{nullValue:!0})?(s*l+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(s*l+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI+s*l:2*Math.PI+s*l:setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,s,{nullValue:!0})*(Math.PI/180),t.rotate(m);var T=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,d,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",o,s,{nullValue:!0}),d[o][s],e);setTextBordersAndBackground(t,T,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,s,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,d,void 0,e.inGraphDataBorders,"inGraphDataBorders",o,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,d,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",o,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,d,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",o,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,d,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",o,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,d,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",o,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,d,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",o,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,d,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",o,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,d,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",o,s,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(T,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,s,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",m,f,x,o,s),t.restore()}}function l(){var i=2*Math.PI/a.datasets[0].data.length;if(t.save(),t.translate(c,h),t.rotate((90-e.startAngle)*Math.PI/180),e.angleShowLineOut){t.strokeStyle=e.angleLineColor,t.lineWidth=Math.ceil(t.chartLineScale*e.angleLineWidth);for(var l=0;l<a.datasets[0].data.length;l++)t.rotate(i),t.beginPath(),t.moveTo(0,0),t.lineTo(0,-o),t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"ANGLELINESTYLE",t,a,d,void 0,e.angleLineStyle,"angleLineStyle",l,-1,{nullValue:!0}))),t.stroke(),t.setLineDash([])}for(var s=0;s<p.nbOfStepsAxis1;s++)if(t.beginPath(),e.scaleShowLine&&(s+1)%e.scaleGridLinesStep==0){t.strokeStyle=e.scaleLineColor,t.lineWidth=Math.ceil(t.chartLineScale*e.scaleLineWidth),t.moveTo(0,-n*(s+1));for(var r=0;r<a.datasets[0].data.length;r++)t.rotate(i),t.lineTo(0,-n*(s+1));t.closePath(),t.setLineDash(lineStyleFn(e.scaleLineStyle)),t.stroke(),t.setLineDash([])}if(t.rotate(-(90-e.startAngle)*Math.PI/180),e.scaleShowLabels)for(s=0;s<p.nbOfStepsAxis1;s++){if(t.textAlign="center",t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,t.textBaseline="middle",e.scaleShowLabelBackdrop){var u=t.measureTextMultiLine(p.labels1[s+1],Math.ceil(t.chartTextScale*e.scaleFontSize)).textWidth;t.fillStyle=e.scaleBackdropColor,t.beginPath(),t.rect(Math.round(Math.cos(e.startAngle*Math.PI/180)*(n*(s+1))-u/2-Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingX)),Math.round(-Math.sin(e.startAngle*Math.PI/180)*n*(s+1)-.5*Math.ceil(t.chartTextScale*e.scaleFontSize)-Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingY)),Math.round(u+2*Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingX)),Math.round(Math.ceil(t.chartTextScale*e.scaleFontSize)+2*Math.ceil(t.chartSpaceScale*e.scaleBackdropPaddingY))),t.fill()}t.fillStyle=e.scaleFontColor,t.fillTextMultiLine(p.labels1[s+1],Math.cos(e.startAngle*Math.PI/180)*(n*(s+1)),-Math.sin(e.startAngle*Math.PI/180)*n*(s+1),t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"SCALE_TEXTMOUSE",0,c,h,s,-1)}for(var S=0;S<a.labels.length;S++){t.font=e.pointLabelFontStyle+" "+Math.ceil(t.chartTextScale*e.pointLabelFontSize).toString()+"px "+e.pointLabelFontFamily,t.fillStyle=e.pointLabelFontColor;for(var g=Math.sin((90-e.startAngle)*Math.PI/180+i*S)*(o+Math.ceil(t.chartTextScale*e.pointLabelFontSize)),A=Math.cos((90-e.startAngle)*Math.PI/180+i*S)*(o+Math.ceil(t.chartTextScale*e.pointLabelFontSize)),f=(90-e.startAngle)*Math.PI/180+i*S;f<0;)f+=2*Math.PI;for(;f>2*Math.PI;)f-=2*Math.PI;f==Math.PI||0==f?t.textAlign="center":f>Math.PI?t.textAlign="right":t.textAlign="left",t.textBaseline="middle",t.fillTextMultiLine(a.labels[S],g,-A,t.textBaseline,Math.ceil(t.chartTextScale*e.pointLabelFontSize),!0,e.detectMouseOnText,t,"LABEL_TEXTMOUSE",0,c,h,S,-1)}t.restore()}var o,n,s,r,c,h;if(t.tpchart="Radar",t.tpdata=0,init_and_start(t,a,e)){var d=initPassVariableData_part1(a,e,t);init_result(t,a,d),a.labels||(a.labels=[]);var p=computeScale(!1,!1,!1,!1,!1,!1,a,e,t,d,0);p.labels1=[],populateLabels(p.logarithm1,e.fmtYLabel,e,p.labelTemplateString1,p.labels1,p.nbOfStepsAxis1,p.minAxis1,p.maxAxis1,p.stepWidthAxis1);var u={steps:p.nbOfStepsAxis1,stepValue:p.stepWidthAxis1,graphMin:p.minAxis1,graphMax:p.minAxis1+p.nbOfStepsAxis1*p.stepWidthAxis1,labels:p.labels1};return r=setMeasures(a,e,t,t.canvas.height,t.canvas.width,p.labels1,null,!0,!1,!1,e.datasetFill,"Radar"),function(){var i,l,n,h,d,p,u,S,g,A=2*Math.PI/a.datasets[0].data.length,f=e.startAngle*Math.PI/180;if(t.font=e.pointLabelFontStyle+" "+Math.ceil(t.chartTextScale*e.pointLabelFontSize).toString()+"px "+e.pointLabelFontFamily,e.graphMaximized)for(h=r.availableWidth/2,n=r.availableWidth/2,p=40,S=0;S<a.labels.length;S++)g=t.measureTextMultiLine(a.labels[S],Math.ceil(t.chartTextScale*e.scaleFontSize)).textWidth+t.measureTextMultiLine(a.labels[S],Math.ceil(t.chartTextScale*e.scaleFontSize)).textHeight,l=(r.availableWidth-g)/(1+Math.abs(Math.cos(f))),f<Math.PI/2&&f>-Math.PI/2||f>3*Math.PI/2?l<h&&(h=l):0!=Math.cos(f)&&l<n&&(n=l),f-=A;else h=r.availableWidth/2,n=r.availableWidth/2,p=1;for(u=0,c=h+r.leftNotUsableWidth,i=h,d=0;d<p;++d,i+=(r.availableWidth-n-h)/p){for(o=Max([i,r.availableWidth-i]),f=e.startAngle*Math.PI/180,l=r.available,S=0;S<a.labels.length;S++)g=t.measureTextMultiLine(a.labels[S],Math.ceil(t.chartTextScale*e.scaleFontSize)).textWidth+t.measureTextMultiLine(a.labels[S],Math.ceil(t.chartTextScale*e.scaleFontSize)).textHeight,f<Math.PI/2&&f>-Math.PI/2||f>3*Math.PI/2?l=(r.availableWidth-i-g)/Math.abs(Math.cos(f)):Math.cos(0!=f)&&(l=(i-g)/Math.abs(Math.cos(f))),l<o&&(o=l),Math.sin(f)*r.availableHeight/2>r.availableHeight/2-2*Math.ceil(t.chartTextScale*e.scaleFontSize)&&(l=Math.sin(f)*r.availableHeight/2-1.5*Math.ceil(t.chartTextScale*e.scaleFontSize))<o&&(o=l),f-=A;o>u&&(u=o,c=i+r.leftNotUsableWidth)}o=u-Math.ceil(t.chartTextScale*e.scaleFontSize)/2,s=Default(s,5)}(),h=r.topNotUsableHeight+r.availableHeight/2,n=o/p.nbOfStepsAxis1,initPassVariableData_part2(d,a,e,t,p.logarithm1,p.logarithm2,{midPosX:c,midPosY:h,calculatedScale:u,scaleHop:n,maxSize:o,outerVal:-1}),animationLoop(e,r.legendMsr,l,i,t,r.clrx,r.clry,r.clrwidth,r.clrheight,c,h,c-o,h+o,a,d),{data:a,config:e,ctx:t}}},Pie=function(a,e,t){return t.tpchart="Pie",void 0!==a.length?PieDoughnut(convertData(a,e.generateConvertedData),e,t,"Pie"):PieDoughnut(a,e,t,"Pie")},Doughnut=function(a,e,t){return t.tpchart="Doughnut",void 0!==a.length?PieDoughnut(convertData(a,e.generateConvertedData),e,t,"Doughnut"):PieDoughnut(a,e,t,"Doughnut")},PieDoughnut=function(a,e,t,i){function l(l){var o,d,p,u,S,g,A,f;S=[],g=[],A=[],f=[];for(var x=0;x<a.datasets.length;x++){var m=1,T=1;for(j=0;j<a.labels.length;j++)if(void 0===S[j]&&void 0!==h[x][j].firstAngle&&(S[j]=h[x][j].firstAngle,g[j]=0,A[j]=h[x][j].firstAngle,f[j]=((-e.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),1*e.animationStartWithData>1&&(e.animationStartWithData,a.datasets.length)),0!=setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,h,a.datasets[x].displayData,e.displayData,"displayData",x,j,{nullvalue:null})&&0!=setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,h,a.displayData,e.displayData,"displayData",-1,j,{nullvalue:null})&&!(void 0===a.datasets[x].data[j]||1*a.datasets[x].data[j]<=0)){if(o=c,d=r,p=o+(d-o)*h[x][j].startRadius,u=o+(d-o)*h[x][j].stopRadius,o=p,d=u,("Pie"!=i||j>0)&&(p=o-(d-o)*setOptionValue(!1,!0,1,"EXPANDINRADIUS",t,a,h,a.datasets[x].expandInRadius,0,"expandInRadius",x,j,{animationDecimal:l,scaleAnimation:m})),u=d+(d-o)*setOptionValue(!1,!0,1,"EXPANDOUTRADIUS",t,a,h,a.datasets[x].expandOutRadius,0,"expandOutRadius",x,j,{animationDecimal:l,scaleAnimation:m}),o=p,d=u,e.animation&&(e.animateScale&&(m=l),e.animateRotate&&(T=l)),correctedRotateAnimation=animationCorrection(T,a,e,x,-1,!1).mainVal,t.beginPath(),t.lineWidth=Math.ceil(t.chartLineScale*e.segmentStrokeWidth),t.strokeStyle="rgba(0,0,0,0)","ByArc"==e.animationByData)endAngle=h[x][j].startAngle+correctedRotateAnimation*h[x][j].segmentAngle,t.arc(n,s,m*d,h[x][j].startAngle,endAngle,!1),t.arc(n,s,m*o,endAngle,h[x][j].startAngle,!0);else if(e.animationByData)if(x<0)t.arc(n,s,m*d,h[x][j].startAngle,h[x].endAngle,!1),t.arc(n,s,m*o,h[x][j].endAngle,h[x][j].startAngle,!0);else{if(!(h[x][j].startAngle<=A[j]+correctedRotateAnimation*(2*Math.PI-g[j])))continue;endAngle=h[x][j].endAngle,h[x][j].endAngle>A[j]+correctedRotateAnimation*(2*Math.PI-g[j])&&(endAngle=A[j]+correctedRotateAnimation*(2*Math.PI-g[j])),t.arc(n,s,m*d,h[x][j].startAngle,endAngle,!1),t.arc(n,s,m*o,endAngle,h[x][j].startAngle,!0)}else t.arc(n,s,m*d,S[j],S[j]+correctedRotateAnimation*(h[x][j].endAngle-h[x][j].startAngle),!1),t.arc(n,s,m*o,S[j]+correctedRotateAnimation*(h[x][j].endAngle-h[x][j].startAngle),S[j],!0),S[j]=S[j]+correctedRotateAnimation*(h[x][j].endAngle-h[x][j].startAngle);t.closePath(),t.fillStyle=setOptionValue(!1,!0,1,"FILLCOLOR",t,a,h,a.datasets[x].fillColor,e.defaultFillColor,"fillColor",x,j,{animationDecimal:l,scaleAnimation:m}),t.fill(),l>=e.animationStopValue&&(t.pieces_drawn.slices++,t.pieces_drawn.total_drawn++),"merge"==e.segmentShowStroke?(t.lineWidth=1.5,t.strokeStyle=setOptionValue(!1,!0,1,"FILLCOLOR",t,a,h,a.datasets[x].fillColor,e.defaultFillColor,"fillColor",x,j,{animationDecimal:l,scaleAnimation:m}),t.setLineDash([]),t.stroke()):e.segmentShowStroke&&(t.lineWidth=Math.ceil(t.chartLineScale*e.segmentStrokeWidth),t.strokeStyle=e.segmentStrokeColor,t.setLineDash(lineStyleFn(setOptionValue(!1,!0,1,"SEGMENTSTROKESTYLE",t,a,h,a.datasets[x].segmentStrokeStyle,e.segmentStrokeStyle,"segmentStrokeStyle",x,-1,{animationDecimal:l,scaleAnimation:m}))),t.stroke(),t.setLineDash([]))}}if(l>=e.animationStopValue)for(var x=0;x<a.datasets.length;x++)for(j=0;j<a.labels.length;j++)if(0!=setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,h,a.datasets[x].displayData,e.displayData,"displayData",x,j,{nullvalue:null})&&0!=setOptionValue(!1,!0,1,"DISPLAYDATA",t,a,h,a.displayData,e.displayData,"displayData",-1,j,{nullvalue:null})&&!(void 0===a.datasets[x].data[j]||1*a.datasets[x].data[j]<=0)&&(o="Pie"==i?c:c-(r-c)*setOptionValue(!1,!0,1,"EXPANDINRADIUS",t,a,h,a.datasets[x].expandInRadius,0,"expandInRadius",x,j,{animationDecimal:l,scaleAnimation:m}),d=r+(r-c)*setOptionValue(!1,!0,1,"EXPANDOUTRADIUS",t,a,h,a.datasets[x].expandOutRadius,0,"expandOutRadius",x,j,{animationDecimal:l,scaleAnimation:m}),p=o+(d-o)*h[x][j].startRadius,u=o+(d-o)*h[x][j].stopRadius,o=p,d=u,jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["MARC",x,j,h,setOptionValue(!1,!0,1,"ANNOTATEDISPLAY",t,a,h,a.datasets[x].annotateDisplay,e.annotateDisplay,"annotateDisplay",x,j,{nullValue:!0})],setOptionValue(!1,!0,1,"INGRAPHDATASHOW",t,a,h,a.datasets[x].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",x,j,{nullValue:!0})&&h[x][j].segmentAngle>=Math.PI/180*setOptionValue(!1,!0,1,"INGRAPHDATAMINIMUMANGLE",t,a,h,void 0,e.inGraphDataMinimumAngle,"inGraphDataMinimumAngle",x,j,{nullValue:!0}))){1==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,h,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",x,j,{nullValue:!0})?posAngle=h[x][j].realStartAngle+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",t,a,h,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",x,j,{nullValue:!0})*(Math.PI/180):2==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,h,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",x,j,{nullValue:!0})?posAngle=h[x][j].realStartAngle-h[x][j].segmentAngle/2+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",t,a,h,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",x,j,{nullValue:!0})*(Math.PI/180):3==setOptionValue(!1,!0,1,"INGRAPHDATAANGLEPOSITION",t,a,h,void 0,e.inGraphDataAnglePosition,"inGraphDataAnglePosition",x,j,{nullValue:!0})&&(posAngle=h[x][j].realStartAngle-h[x][j].segmentAngle+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINANGLE",t,a,h,void 0,e.inGraphDataPaddingAngle,"inGraphDataPaddingAngle",x,j,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(!1,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,h,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",x,j,{nullValue:!0})?labelRadius=o+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,h,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",x,j,{nullValue:!0}):2==setOptionValue(!1,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,h,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",x,j,{nullValue:!0})?labelRadius=o+(d-o)/2+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,h,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",x,j,{nullValue:!0}):3==setOptionValue(!1,!0,1,"INGRAPHDATARADIUSPOSITION",t,a,h,void 0,e.inGraphDataRadiusPosition,"inGraphDataRadiusPosition",x,j,{nullValue:!0})&&(labelRadius=d+setOptionValue(!1,!0,1,"INGRAPHDATAPADDINGRADIUS",t,a,h,void 0,e.inGraphDataPaddingRadius,"inGraphDataPaddingRadius",x,j,{nullValue:!0})),t.save(),"off-center"==setOptionValue(!1,!0,1,"INGRAPHDATAALIGN",t,a,h,void 0,e.inGraphDataAlign,"inGraphDataAlign",x,j,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",t,a,h,void 0,e.inGraphDataRotate,"inGraphDataRotate",x,j,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?t.textAlign="left":t.textAlign="right":"to-center"==setOptionValue(!1,!0,1,"INGRAPHDATAALIGN",t,a,h,void 0,e.inGraphDataAlign,"inGraphDataAlign",x,j,{nullValue:!0})?"inRadiusAxis"==setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",t,a,h,void 0,e.inGraphDataRotate,"inGraphDataRotate",x,j,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?t.textAlign="right":t.textAlign="left":t.textAlign=setOptionValue(!1,!0,1,"INGRAPHDATAALIGN",t,a,h,void 0,e.inGraphDataAlign,"inGraphDataAlign",x,j,{nullValue:!0}),"off-center"==setOptionValue(!1,!0,1,"INGRAPHDATAVALIGN",t,a,h,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",x,j,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="top":t.textBaseline="bottom":"to-center"==setOptionValue(!1,!0,1,"INGRAPHDATAVALIGN",t,a,h,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",x,j,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?t.textBaseline="bottom":t.textBaseline="top":t.textBaseline=setOptionValue(!1,!0,1,"INGRAPHDATAVALIGN",t,a,h,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",x,j,{nullValue:!0}),t.font=setOptionValue(!1,!0,1,"INGRAPHDATAFONTSTYLE",t,a,h,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",x,j,{nullValue:!0})+" "+setOptionValue(!1,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,h,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",x,j,{nullValue:!0})+"px "+setOptionValue(!1,!0,1,"INGRAPHDATAFONTFAMILY",t,a,h,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",x,j,{nullValue:!0}),t.fillStyle=setOptionValue(!1,!0,1,"INGRAPHDATAFONTCOLOR",t,a,h,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",x,j,{nullValue:!0});var P=tmplbis(setOptionValue(!1,!0,1,"INGRAPHDATATMPL",t,a,h,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",x,j,{nullValue:!0}),h[x][j],e);t.translate(n+labelRadius*Math.cos(posAngle),s-labelRadius*Math.sin(posAngle));var D=0;D="inRadiusAxis"==setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",t,a,h,void 0,e.inGraphDataRotate,"inGraphDataRotate",x,j,{nullValue:!0})?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",t,a,h,void 0,e.inGraphDataRotate,"inGraphDataRotate",x,j,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:setOptionValue(!1,!0,1,"INGRAPHDATAROTATE",t,a,h,void 0,e.inGraphDataRotate,"inGraphDataRotate",x,j,{nullValue:!0})*(Math.PI/180),t.rotate(D),setTextBordersAndBackground(t,P,setOptionValue(!1,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,h,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",x,j,{nullValue:!0}),0,0,setOptionValue(!1,!0,1,"INGRAPHDATABORDERS",t,a,h,void 0,e.inGraphDataBorders,"inGraphDataBorders",x,j,{nullValue:!0
}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,h,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",x,j,{nullValue:!0}),setOptionValue(!1,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,h,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",x,j,{nullValue:!0}),setOptionValue(!1,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,h,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",x,j,{nullValue:!0}),setOptionValue(!1,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,h,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",x,j,{nullValue:!0}),setOptionValue(!1,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,h,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",x,j,{nullValue:!0}),setOptionValue(!1,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,h,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",x,j,{nullValue:!0}),setOptionValue(!1,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,h,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",x,j,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(P,0,0,t.textBaseline,setOptionValue(!1,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,h,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",x,j,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",D,n+labelRadius*Math.cos(posAngle),s-labelRadius*Math.sin(posAngle),x,j),t.restore()}}var o,n,s,r,c;if(t.tpdata=0,init_and_start(t,a,e)){var h=initPassVariableData_part1(a,e,t);init_result(t,a,h);e.startAngle,Math.PI,Math.PI,Math.PI,Math.PI,Math.PI;o=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"none","none",!0,!1,!1,!0,"Doughnut");var d=calculatePieDrawingSize(t,o,e,a,h);return n=d.midPieX,s=d.midPieY,r=d.radius,c="Pie"==i?0:r*(e.percentageInnerCutout/100),r>0?(initPassVariableData_part2(h,a,e,t,!1,!1,{midPosX:n,midPosY:s,int_radius:c,ext_radius:r,outerVal:-1}),animationLoop(e,o.legendMsr,null,l,t,o.clrx,o.clry,o.clrwidth,o.clrheight,n,s,n-r,s+r,a,h)):(testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,h),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t)),{data:a,config:e,ctx:t}}},Line=function(a,e,t){function i(i){drawLinesDataset(i,a,e,t,g,{xAxisPosY:c,yAxisPosX:r,valueHop:s,nbValueHop:a.labels.length-1}),i>=1&&"function"==typeof drawMath&&drawMath(t,e,a,h,{xAxisPosY:c,yAxisPosX:r,valueHop:s,scaleHop:o,zeroY:d,calculatedScale:f,calculateOffset:calculateOffset,statData:g})}function l(){drawGridScale(t,a,e,h,r,c,d,s,o,A.nbOfStepsAxis1,a.labels.length+0)}var o,n,s,r,c,h,d=0,p=0;if(t.tpchart="Line",t.tpdata=0,init_and_start(t,a,e)){for(var u=0,S=0;S<a.datasets.length;S++)u=Max([u,a.datasets[S].data.length]);if(1==u){for("string"==typeof a.labels[0]&&(a.labels=["",a.labels[0],""]),S=0;S<a.datasets.length;S++)a.datasets[S].data[0],a.datasets[S].data=[void 0,a.datasets[S].data[0],void 0];u=3}var g=initPassVariableData_part1(a,e,t);for(init_result(t,a,g),S=0;S<a.datasets.length;S++)g[S][0].tpchart="Line";h=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"nihil","nihil",!1,!1,!0,e.datasetFill,"Line");var A=computeScale(!0,!0,!1,!0,!0,!1,a,e,t,g,h.availableHeight);if(A.labels1=[],A.labels2=[],populateLabels(A.logarithm1,e.fmtYLabel,e,A.labelTemplateString1,A.labels1,A.nbOfStepsAxis1,A.minAxis1,A.maxAxis1,A.stepWidthAxis1),populateLabels(A.logarithm2,e.fmtYLabel2,e,A.labelTemplateString2,A.labels2,A.nbOfStepsAxis2,A.minAxis2,A.maxAxis2,A.stepWidthAxis2),A.maxSteps>0&&A.minSteps>0){var f={steps:A.nbOfStepsAxis1,stepValue:A.stepWidthAxis1,graphMin:A.minAxis1,graphMax:A.minAxis1+A.nbOfStepsAxis1*A.stepWidthAxis1,labels:A.labels1},x={steps:A.nbOfStepsAxis2,stepValue:A.stepWidthAxis2,graphMin:A.minAxis2,graphMax:A.minAxis2+A.nbOfStepsAxis2*A.stepWidthAxis2,labels:A.labels2};h=setMeasures(a,e,t,t.canvas.height,t.canvas.width,A.labels1,A.labels2,!1,!1,!0,e.datasetFill,"Line");h.availableHeight;h.availableHeight=h.availableHeight-Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeBottom,e.scaleMinorTickSizeBottom*(e.scaleMinorTickHorizontalCount>0)))-Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeTop,e.scaleMinorTickSizeTop*(e.scaleMinorTickHorizontalCount>0))),h.availableWidth=h.availableWidth-Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeLeft,e.scaleMinorTickSizeLeft*(e.scaleMinorTickVerticalCount>0)))-Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeRight,e.scaleMinorTickSizeRight*(e.scaleMinorTickVerticalCount>0))),o=Math.floor(h.availableHeight/A.nbOfStepsAxis1),n=Math.floor(h.availableHeight/A.nbOfStepsAxis2),s=Math.floor(h.availableWidth/(a.labels.length-1)),(0==s||e.fullWidthGraph)&&(s=h.availableWidth/(a.labels.length-1)),h.clrwidth=h.clrwidth-(h.availableWidth-(a.labels.length-1)*s),h.topNotUsableHeight+=h.availableHeight-A.nbOfStepsAxis1*o,h.rightNotUsableWidth+=h.availableWidth-(a.labels.length-1)*s,h.availableWidth=(a.labels.length-1)*s,h.availableHeight=A.nbOfStepsAxis1*o,r=h.leftNotUsableWidth+Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeLeft,e.scaleMinorTickSizeLeft*(e.scaleMinorTickVerticalCount>0))),c=h.topNotUsableHeight+h.availableHeight+Math.ceil(t.chartLineScale*Math.max(e.scaleTickSizeTop,e.scaleMinorTickSizeTop*(e.scaleMinorTickHorizontalCount>0))),function(){var i,l;if(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,e.xAxisTop||e.xAxisBottom){if(t.textBaseline="top",t.fillStyle=e.scaleFontColor,e.xAxisBottom){h.rotateLabels>90?(t.save(),t.textAlign="left"):h.rotateLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",i=0,l=0,1==e.xAxisMiddle&&(i=s/2,l=1);for(var d=0;d<a.labels.length-l;d++)showLabels(t,a,e,d)&&(t.save(),h.rotateLabels>0?(t.translate(r+d*s-h.highestXLabel/2+i,h.xLabelPos),t.rotate(-(h.rotateLabels+180*(h.rotateLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,a.labels[d],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XSCALE_TEXTMOUSE",-h.rotateLabels*(Math.PI/180),r+d*s-h.highestXLabel/2+i,h.xLabelPos,d,-1)):t.fillTextMultiLine(fmtChartJS(e,a.labels[d],e.fmtXLabel),r+d*s+i,h.xLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XSCALE_TEXTMOUSE",0,0,0,d,-1),t.restore())}if(e.xAxisTop){h.rotateTLabels>90?(t.save(),t.textAlign="left"):h.rotateTLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center";var p;p="object"==typeof a.labels2?a.labels2:a.labels,i=0,l=0,1==e.xAxisMiddle&&(i=s/2,l=1);for(var d=0;d<p.length-l;d++)showLabels(t,a,e,d)&&(t.save(),h.rotateTLabels>0?(t.translate(r+d*s-h.highestXLabel/2+i,h.xTLabelPos),t.rotate(-(h.rotateTLabels+180*(h.rotateTLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,p[d],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XSCALE_TEXTMOUSE",-h.rotateTLabels*(Math.PI/180),r+d*s-h.highestXLabel/2,h.xTLabelPos,d,-1)):t.fillTextMultiLine(fmtChartJS(e,p[d],e.fmtXLabel),r+d*s,h.xTLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XSCALE_TEXTMOUSE",0,0,0,d,-1),t.restore())}}t.textAlign="right",t.textBaseline="middle",i=0,l=0,1==e.yAxisMiddle&&(i=o/2,l=1);for(var u=e.showYAxisMin?-1:0;u<A.nbOfStepsAxis1-l;u++)e.scaleShowLabels&&showYLabels(t,a,e,u+1,A.labels1[u+1])&&(e.yAxisLeft&&(t.textAlign="right",t.fillTextMultiLine(A.labels1[u+1],r-(Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(u+1)*o-i,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,u)),!e.yAxisRight||A.dbAxis||e.forceSecondScale||(t.textAlign="left",t.fillTextMultiLine(A.labels1[u+1],r+h.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(u+1)*o-i,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,u)));if(e.yAxisRight&&(A.dbAxis||e.forceSecondScale))for(u=e.showYAxisMin?-1:0;u<A.nbOfStepsAxis2;u++)e.scaleShowLabels&&(t.textAlign="left",t.fillTextMultiLine(A.labels2[u+1],r+h.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(u+1)*n,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,u))}(),d=calculateOffset(A.logarithm1,0,f,o),p=calculateOffset(A.logarithm2,0,x,n),initPassVariableData_part2(g,a,e,t,A.logarithm1,A.logarithm2,{xAxisPosY:c,yAxisPosX:r,valueHop:s,nbValueHop:a.labels.length-1,scaleHop:o,zeroY:d,calculatedScale:f,logarithmic:A.logarithm1,scaleHop2:n,zeroY2:p,msr:h,calculatedScale2:x,logarithmic2:A.logarithm12}),animationLoop(e,h.legendMsr,l,i,t,h.clrx,h.clry,h.clrwidth,h.clrheight,r+h.availableWidth/2,c-h.availableHeight/2,r,c,a,g)}else testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,g),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t);return{data:a,config:e,ctx:t}}},StackedBar=function(a,e,t){function i(i){for(var l=new Array,o=new Array,n=0;n<a.datasets.length;n++)if("Line"!=a.datasets[n].type)for(var u=0;u<a.datasets[n].data.length;u++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.displayData,e.displayData,"displayData",u,-1,{nullvalue:null})){var S=animationCorrection(i,a,e,n,u,!1).animVal;if(S>1&&(S-=1),void 0!==a.datasets[n].data[u]&&1*a.datasets[n].data[u]!=0&&!(Math.abs(a.datasets[n].data[u])<e.zeroValue&&0==e.showZeroValue)){void 0===l[u]&&(l[u]=p[p[n][u].firstNotMissing][u].yPosBottom,o[u]=p[p[n][u].firstNotMissing][u].yPosBottom);var g,A;g=1*a.datasets[n].data[u]>0?l[u]:o[u],A=g+S*(p[n][u].yPosTop-p[n][u].yPosBottom),1*a.datasets[n].data[u]>0?l[u]=A:o[u]=A,0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.datasets[n].displayData,e.displayData,"displayData",n,u,{nullvalue:null})&&(t.save(),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,p,a.datasets[n].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",n,u,{animationValue:S,xPosLeft:p[n][u].xPosLeft,yPosBottom:g,xPosRight:p[n][u].xPosRight,yPosTop:A})),t.fillStyle=setOptionValue(!0,!0,1,"COLOR",t,a,p,a.datasets[n].fillColor,e.defaultFillColor,"fillColor",n,u,{animationValue:S,xPosLeft:p[n][u].xPosLeft,yPosBottom:g,xPosRight:p[n][u].xPosRight,yPosTop:A}),t.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",t,a,p,a.datasets[n].strokeColor,e.defaultStrokeColor,"strokeColor",n,u,{nullvalue:null}),0!=S&&g!=A&&(t.beginPath(),t.moveTo(p[n][u].xPosLeft,g+(A-g)/2),t.lineTo(p[n][u].xPosLeft,A),t.lineTo(p[n][u].xPosRight,A),t.lineTo(p[n][u].xPosRight,g),t.lineTo(p[n][u].xPosLeft,g),t.lineTo(p[n][u].xPosLeft,g+(A-g)/2),e.barShowStroke&&(t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"STROKESTYLE",t,a,p,a.datasets[n].datasetStrokeStyle,e.datasetStrokeStyle,"datasetStrokeStyle",n,u,{nullvalue:null}))),t.stroke(),t.setLineDash([])),t.closePath(),t.fill()),i>=e.animationStopValue&&(t.pieces_drawn.rectangles++,t.pieces_drawn.total_drawn++),t.restore())}}if(drawLinesDataset(i,a,e,t,p,{xAxisPosY:c,yAxisPosX:r,valueHop:s,nbValueHop:a.labels.length}),i>=e.animationStopValue){var f=0,x=0;for(n=0;n<a.datasets.length;n++)for(u=0;u<a.datasets[n].data.length;u++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.datasets[n].displayData,e.displayData,"displayData",n,u,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.displayData,e.displayData,"displayData",u,-1,{nullvalue:null})&&void 0!==a.datasets[n].data[u]&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["RECT",n,u,p,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,p,a.datasets[n].annotateDisplay,e.annotateDisplay,"annotateDisplay",n,u,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,p,a.datasets[n].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",n,u,{nullValue:!0}))){t.save(),t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,p,void 0,e.inGraphDataAlign,"inGraphDataAlign",n,u,{nullValue:!0}),t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,p,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",n,u,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,p,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",n,u,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,u,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,p,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",n,u,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,p,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",n,u,{nullValue:!0});var m=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,p,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",n,u,{nullValue:!0}),p[n][u],e);if(t.beginPath(),t.beginPath(),f=0,x=0,1==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,u,{nullValue:!0})?x=p[n][u].xPosLeft+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,u,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,u,{nullValue:!0})?x=p[n][u].xPosLeft+h/2+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,u,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,u,{nullValue:!0})&&(x=p[n][u].xPosLeft+h+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,u,{nullValue:!0})),1==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,u,{nullValue:!0})?f=p[n][u].yPosBottom-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,u,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,u,{nullValue:!0})?f=(p[n][u].yPosTop+p[n][u].yPosBottom)/2-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,u,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,u,{nullValue:!0})&&(f=p[n][u].yPosTop-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,u,{nullValue:!0})),f>d.topNotUsableHeight){t.translate(x,f);var T=setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,p,void 0,e.inGraphDataRotate,"inGraphDataRotate",n,u,{nullValue:!0})*(Math.PI/180);t.rotate(T),setTextBordersAndBackground(t,m,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,u,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,p,void 0,e.inGraphDataBorders,"inGraphDataBorders",n,u,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,p,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",n,u,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,p,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",n,u,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,p,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",n,u,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,p,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",n,u,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,p,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",n,u,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,p,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",n,u,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,p,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",n,u,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(m,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,u,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",T,x,f,n,u)}t.restore()}}}function l(){drawGridScale(t,a,e,d,r,c,m,s,o,g.nbOfStepsAxis1,a.labels.length+1)}var o,n,s,r,c,h,d;if(t.tpchart="StackedBar",t.tpdata=0,init_and_start(t,a,e)){var p=initPassVariableData_part1(a,e,t);init_result(t,a,p);for(var u=a.datasets.length,S=0;S<a.datasets.length;S++)"Line"==a.datasets[S].type?(p[S][0].tpchart="Line",u--):p[S][0].tpchart="Bar";d=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"nihil","nihil",!0,!1,!0,!0,"StackedBar");var g=computeScale(!1,!0,!0,!1,!0,!0,a,e,t,p,d.availableHeight);if(g.labels1=[],g.labels2=[],populateLabels(g.logarithm1,e.fmtYLabel,e,g.labelTemplateString1,g.labels1,g.nbOfStepsAxis1,g.minAxis1,g.maxAxis1,g.stepWidthAxis1),populateLabels(g.logarithm2,e.fmtYLabel2,e,g.labelTemplateString2,g.labels2,g.nbOfStepsAxis2,g.minAxis2,g.maxAxis2,g.stepWidthAxis2),g.maxSteps>0&&g.minSteps>0){var A={steps:g.nbOfStepsAxis1,stepValue:g.stepWidthAxis1,graphMin:g.minAxis1,graphMax:g.minAxis1+g.nbOfStepsAxis1*g.stepWidthAxis1,labels:g.labels1},f={steps:g.nbOfStepsAxis2,stepValue:g.stepWidthAxis2,graphMin:g.minAxis2,graphMax:g.minAxis2+g.nbOfStepsAxis2*g.stepWidthAxis2,labels:g.labels2};d=setMeasures(a,e,t,t.canvas.height,t.canvas.width,g.labels1,g.labels2,!0,!1,!0,!0,"StackedBar");d.availableHeight;d.availableHeight=d.availableHeight-Math.ceil(t.chartLineScale*e.scaleTickSizeBottom)-Math.ceil(t.chartLineScale*e.scaleTickSizeTop),d.availableWidth=d.availableWidth-Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)-Math.ceil(t.chartLineScale*e.scaleTickSizeRight),o=Math.floor(d.availableHeight/g.nbOfStepsAxis1),n=Math.floor(d.availableHeight/g.nbOfStepsAxis2),s=Math.floor(d.availableWidth/a.labels.length),(0==s||e.fullWidthGraph)&&(s=d.availableWidth/a.labels.length),d.topNotUsableHeight+=d.availableHeight-g.nbOfStepsAxis1*o,d.rightNotUsableWidth+=d.availableWidth-a.labels.length*s,d.clrwidth=d.clrwidth-(d.availableWidth-a.labels.length*s),d.availableWidth=a.labels.length*s,d.availableHeight=g.nbOfStepsAxis1*o,r=d.leftNotUsableWidth+Math.ceil(t.chartLineScale*e.scaleTickSizeLeft),c=d.topNotUsableHeight+d.availableHeight+Math.ceil(t.chartLineScale*e.scaleTickSizeTop),h=s-2*Math.ceil(t.chartLineScale*e.scaleGridLineWidth)-2*Math.ceil(t.chartSpaceScale*e.barValueSpacing)-(1*Math.ceil(t.chartSpaceScale*e.barDatasetSpacing)-1)-Math.ceil(t.chartLineScale*e.barStrokeWidth)/2-1,h>=0&&h<=1&&(h=1),h<0&&h>=-1&&(h=-1);var x;1*e.maxBarWidth>0&&h>1*e.maxBarWidth?(x=(h-1*e.maxBarWidth)/2,h=1*e.maxBarWidth):x=0;var m=0,T=0;m=calculateOffset(g.logarithm1,0,A,o),T=calculateOffset(g.logarithm2,0,f,n),function(){if(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,e.xAxisTop||e.xAxisBottom){if(t.textBaseline="top",t.fillStyle=e.scaleFontColor,e.xAxisBottom){d.rotateLabels>90?(t.save(),t.textAlign="left"):d.rotateLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center";for(var i=0;i<a.labels.length;i++)showLabels(t,a,e,i)&&(t.save(),d.rotateLabels>0?(t.translate(r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2-d.highestXLabel/2,d.xLabelPos),t.rotate(-(d.rotateLabels+180*(d.rotateLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,a.labels[i],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-d.rotateLabels*(Math.PI/180),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2-d.highestXLabel/2,d.xLabelPos,i,-1)):t.fillTextMultiLine(fmtChartJS(e,a.labels[i],e.fmtXLabel),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2,d.xLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}if(e.xAxisTop){d.rotateTLabels>90?(t.save(),t.textAlign="left"):d.rotateTLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center";var l;l="object"==typeof a.labels2?a.labels2:a.labels;for(var i=0;i<l.length;i++)showLabels(t,a,e,i)&&(t.save(),d.rotateTLabels>0?(t.translate(r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2-d.highestTXLabel/2,d.xTLabelPos),t.rotate(-(d.rotateTLabels+180*(d.rotateTLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,l[i],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-d.rotateLabels*(Math.PI/180),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2-d.highestXLabel/2,d.xLabelPos,i,-1)):t.fillTextMultiLine(fmtChartJS(e,l[i],e.fmtXLabel),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)+i*s+x+h/2,d.xTLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}}t.textAlign="right",t.textBaseline="middle",subloop=0,decal=0,1==e.yAxisMiddle&&(decal=o/2,subloop=1);for(var p=e.showYAxisMin?-1:0;p<g.nbOfStepsAxis1-subloop;p++)e.scaleShowLabels&&showYLabels(t,a,e,p+1,g.labels1[p+1])&&(e.yAxisLeft&&(t.textAlign="right",t.fillTextMultiLine(g.labels1[p+1],r-(Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(p+1)*o-decal,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,p)),!e.yAxisRight||g.dbAxis||e.forceSecondScale||(t.textAlign="left",t.fillTextMultiLine(g.labels1[p+1],r+d.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(p+1)*o-decal,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,p)));if(e.yAxisRight&&(g.dbAxis||e.forceSecondScale))for(subloop=0,decal=0,1==e.yAxisMiddle&&(decal=s/2,subloop=1),p=e.showYAxisMin?-1:0;p<g.nbOfStepsAxis2-subloop;p++)e.scaleShowLabels&&(t.textAlign="left",t.fillTextMultiLine(g.labels2[p+1],r+d.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-(p+1)*n-decal,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,p))}(),initPassVariableData_part2(p,a,e,t,g.logarithm1,g.logarithm2,{msr:d,zeroY:m,zeroY2:T,logarithmic:!1,logarithmic2:!1,calculatedScale:A,calculatedScale2:f,additionalSpaceBetweenBars:x,scaleHop:o,scaleHop2:n,valueHop:s,yAxisPosX:r,xAxisPosY:c,barWidth:h}),animationLoop(e,d.legendMsr,l,i,t,d.clrx,d.clry,d.clrwidth,d.clrheight,r+d.availableWidth/2,c-d.availableHeight/2,r,c,a,p)}else testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,p),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t);return{data:a,config:e,ctx:t}}},HorizontalStackedBar=function(a,e,t){function i(i){for(var l=new Array,o=new Array,n=0;n<a.datasets.length;n++)for(var s=0;s<a.datasets[n].data.length;s++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.displayData,e.displayData,"displayData",s,-1,{nullvalue:null})){t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,d,a.datasets[n].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",n,s,{animationValue:r,xPosLeft:h,yPosBottom:d[n][s].yPosBottom,xPosRight:p,yPosTop:d[n][s].yPosBottom}));var r=animationCorrection(i,a,e,n,s,!1).animVal;if(r>1&&(r-=1),void 0!==a.datasets[n].data[s]&&1*a.datasets[n].data[s]!=0&&!(Math.abs(a.datasets[n].data[s])<e.zeroValue&&0==e.showZeroValue)){void 0===l[s]&&(l[s]=d[d[n][s].firstNotMissing][s].xPosLeft,o[s]=d[d[n][s].firstNotMissing][s].xPosLeft);var h,p;h=1*a.datasets[n].data[s]>0?l[s]:o[s],p=h+r*(d[n][s].xPosRight-d[n][s].xPosLeft),1*a.datasets[n].data[s]>0?l[s]=p:o[s]=p,0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.datasets[n].displayData,e.displayData,"displayData",n,s,{nullvalue:null})&&(t.fillStyle=setOptionValue(!0,!0,1,"COLOR",t,a,d,a.datasets[n].fillColor,e.defaultFillColor,"fillColor",n,s,{animationValue:r,xPosLeft:h,yPosBottom:d[n][s].yPosBottom,xPosRight:p,yPosTop:d[n][s].yPosBottom}),t.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",t,a,d,a.datasets[n].strokeColor,e.defaultStrokeColor,"strokeColor",n,s,{nullvalue:null}),0!=r&&d[n][s].xPosLeft!=d[n][s].xPosRight&&(t.beginPath(),t.moveTo(h+(p-h)/2,d[n][s].yPosTop),t.lineTo(p,d[n][s].yPosTop),t.lineTo(p,d[n][s].yPosBottom),t.lineTo(h,d[n][s].yPosBottom),t.lineTo(h,d[n][s].yPosTop),t.lineTo(h+(p-h)/2,d[n][s].yPosTop),e.barShowStroke&&(t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"STROKESTYLE",t,a,d,a.datasets[n].datasetStrokeStyle,e.datasetStrokeStyle,"datasetStrokeStyle",n,s,{nullvalue:null}))),t.stroke(),t.setLineDash([])),t.closePath(),t.fill()),i>=e.animationStopValue&&(t.pieces_drawn.rectangles++,t.pieces_drawn.total_drawn++))}}if(i>=e.animationStopValue){var u=0,S=0;for(n=0;n<a.datasets.length;n++)for(s=0;s<a.datasets[n].data.length;s++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.datasets[n].displayData,e.displayData,"displayData",n,s,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,d,a.displayData,e.displayData,"displayData",s,-1,{nullvalue:null})&&void 0!==a.datasets[n].data[s]&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["RECT",n,s,d,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,d,a.datasets[n].annotateDisplay,e.annotateDisplay,"annotateDisplay",n,s,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,d,a.datasets[n].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",n,s,{nullValue:!0}))){t.save(),t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,d,void 0,e.inGraphDataAlign,"inGraphDataAlign",n,s,{nullValue:!0}),t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,d,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",n,s,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,d,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",n,s,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,s,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,d,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",n,s,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,d,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",n,s,{nullValue:!0});var g=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,d,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",n,s,{nullValue:!0}),d[n][s],e);t.beginPath(),u=0,S=0,1==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,d,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,s,{nullValue:!0})?S=d[n][s].xPosLeft+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,d,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,s,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,d,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,s,{nullValue:!0})?S=d[n][s].xPosLeft+(d[n][s].xPosRight-d[n][s].xPosLeft)/2+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,d,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,s,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,d,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",n,s,{nullValue:!0})&&(S=d[n][s].xPosRight+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,d,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",n,s,{nullValue:!0})),1==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,d,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,s,{nullValue:!0})?u=d[n][s].yPosBottom-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,d,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,s,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,d,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,s,{nullValue:!0})?u=d[n][s].yPosBottom-c/2-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,d,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,s,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,d,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",n,s,{nullValue:!0})&&(u=d[n][s].yPosTop-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,d,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",n,s,{nullValue:!0})),t.translate(S,u),rotateVal=setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,d,void 0,e.inGraphDataRotate,"inGraphDataRotate",n,s,{nullValue:!0})*(Math.PI/180),t.rotate(rotateVal),setTextBordersAndBackground(t,g,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,s,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,d,void 0,e.inGraphDataBorders,"inGraphDataBorders",n,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,d,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",n,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,d,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",n,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,d,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",n,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,d,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",n,s,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,d,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",n,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,d,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",n,s,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,d,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",n,s,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(g,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,d,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",n,s,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",rotateVal,S,u,n,s),t.restore()}}}function l(){drawGridScale(t,a,e,h,s,r,g,n,o,a.labels.length+0,p.nbOfStepsAxis1+1)}var o,n,s,r,c,h;if(e.reverseOrder&&void 0===t.reversed&&(t.reversed=!0,a=reverseData(a)),t.tpchart="HorizontalStackedBar",t.tpdata=0,init_and_start(t,a,e)){var d=initPassVariableData_part1(a,e,t);init_result(t,a,d),h=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"nihil","nihil",!0,!0,!0,!0,"HorizontalStackedBar");var p=computeScale(!1,!0,!1,!1,!0,!0,a,e,t,d,h.availableHeight);if(p.labels1=[],p.labels2=[],populateLabels(p.logarithm1,e.fmtYLabel,e,p.labelTemplateString1,p.labels1,p.nbOfStepsAxis1,p.minAxis1,p.maxAxis1,p.stepWidthAxis1),populateLabels(p.logarithm2,e.fmtYLabel2,e,p.labelTemplateString2,p.labels2,p.nbOfStepsAxis2,p.minAxis2,p.maxAxis2,p.stepWidthAxis2),p.maxSteps>0&&p.minSteps>0){var u={steps:p.nbOfStepsAxis1,stepValue:p.stepWidthAxis1,graphMin:p.minAxis1,graphMax:p.minAxis1+p.nbOfStepsAxis1*p.stepWidthAxis1,labels:p.labels1};h=setMeasures(a,e,t,t.canvas.height,t.canvas.width,p.labels1,p.labels2,!0,!0,!0,!0,"HorizontalStackedBar"),h.availableHeight=h.availableHeight-Math.ceil(t.chartLineScale*e.scaleTickSizeBottom)-Math.ceil(t.chartLineScale*e.scaleTickSizeTop),h.availableWidth=h.availableWidth-Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)-Math.ceil(t.chartLineScale*e.scaleTickSizeRight),o=Math.floor(h.availableHeight/a.labels.length),n=Math.floor(h.availableWidth/p.nbOfStepsAxis1),(0==n||e.fullWidthGraph)&&(n=h.availableWidth/p.nbOfStepsAxis1),h.clrwidth=h.clrwidth-(h.availableWidth-p.nbOfStepsAxis1*n),h.topNotUsableHeight+=h.availableHeight-a.labels.length*o,
h.rightNotUsableWidth+=h.availableWidth-p.nbOfStepsAxis1*n,h.availableWidth=p.nbOfStepsAxis1*n,h.availableHeight=a.labels.length*o,s=h.leftNotUsableWidth+Math.ceil(t.chartLineScale*e.scaleTickSizeLeft),r=h.topNotUsableHeight+h.availableHeight+Math.ceil(t.chartLineScale*e.scaleTickSizeTop),c=o-2*Math.ceil(t.chartLineScale*e.scaleGridLineWidth)-2*Math.ceil(t.chartSpaceScale*e.barValueSpacing)-(1*Math.ceil(t.chartSpaceScale*e.barDatasetSpacing)-1)-Math.ceil(t.chartLineScale*e.barStrokeWidth)/2-1,c>=0&&c<=1&&(c=1),c<0&&c>=-1&&(c=-1);var S;1*e.maxBarWidth>0&&c>1*e.maxBarWidth?(S=(c-1*e.maxBarWidth)/2,c=1*e.maxBarWidth):S=0,function(){if(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,e.scaleShowLabels&&(e.xAxisTop||e.xAxisBottom)){if(t.textBaseline="top",t.fillStyle=e.scaleFontColor,e.xAxisBottom){h.rotateLabels>90?(t.save(),t.textAlign="left"):h.rotateLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",subloop=0,decal=0,1==e.yAxisMiddle&&(decal=n/2,subloop=1);for(var i=e.showYAxisMin?-1:0;i<p.nbOfStepsAxis1-subloop;i++)showYLabels(t,a,e,i+1,p.labels1[i+1])&&(t.save(),h.rotateLabels>0?(t.translate(s+(i+1)*n-h.highestXLabel/2+decal,h.xLabelPos),t.rotate(-(h.rotateLabels+180*(h.rotateLabels>90))*(Math.PI/180)),t.fillTextMultiLine(p.labels1[i+1],0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-h.rotateLabels*(Math.PI/180),s+(i+1)*n-h.highestXLabel/2,h.xLabelPos,i,-1)):t.fillTextMultiLine(p.labels1[i+1],s+(i+1)*n+decal,h.xLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}if(e.xAxisTop){h.rotateTLabels>90?(t.save(),t.textAlign="left"):h.rotateTLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",subloop=0,decal=0,1==e.yAxisMiddle&&(decal=n/2,subloop=1);for(var i=e.showYAxisMin?-1:0;i<p.nbOfStepsAxis1-subloop;i++)showYLabels(t,a,e,i+1,p.labels1[i+1])&&(t.save(),h.rotateTLabels>0?(t.translate(s+(i+1)*n-h.highestTXLabel/2+decal,h.xTLabelPos),t.rotate(-(h.rotateTLabels+180*(h.rotateTLabels>90))*(Math.PI/180)),t.fillTextMultiLine(p.labels1[i+1],0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-h.rotateLabels*(Math.PI/180),s+(i+1)*n-h.highestXLabel/2,h.xLabelPos,i,-1)):t.fillTextMultiLine(p.labels1[i+1],s+(i+1)*n+decal,h.xTLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}}for(var l=0;l<a.labels.length;l++)showLabels(t,a,e,l)&&(e.yAxisLeft&&(t.textAlign="right",t.textBaseline="middle",t.fillTextMultiLine(fmtChartJS(e,a.labels[l],e.fmtXLabel),s-(Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)-o*(l+1)+S+c/2,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,l)),e.yAxisRight&&(t.textAlign="left",t.textBaseline="middle",t.fillTextMultiLine(fmtChartJS(e,a.labels[l],e.fmtXLabel),s+h.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),r+Math.ceil(t.chartSpaceScale*e.barValueSpacing)-o*(l+1)+S+c/2,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,l)))}();var g=function(a,e,t){var i=p.nbOfStepsAxis1*p.stepWidthAxis1,l=a-p.minAxis1,o=CapValue(l/i,1,0);return t*p.nbOfStepsAxis1*o}(0,u,o);initPassVariableData_part2(d,a,e,t,p.logarithm1,p.logarithm2,{yAxisPosX:s,additionalSpaceBetweenBars:S,xAxisPosY:r,barWidth:c,zeroY:g,scaleHop:o,valueHop:n,calculatedScale:u}),animationLoop(e,h.legendMsr,l,i,t,h.clrx,h.clry,h.clrwidth,h.clrheight,s+h.availableWidth/2,r-h.availableHeight/2,s,r,a,d)}else testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,d),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t);return{data:a,config:e,ctx:t}}},Bar=function(a,e,t){function i(i){var o,s,S,g,A,x,T,D,M;for(S=0;S<a.datasets.length;S++)if("Line"!=a.datasets[S].type)for(g=0;g<a.datasets[S].data.length;g++)0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.datasets[S].displayData,e.displayData,"displayData",S,g,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.displayData,e.displayData,"displayData",g,-1,{nullvalue:null})&&(t.save(),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,u,a.datasets[S].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",S,g,{animationValue:A,xPosLeft:u[S][g].xPosLeft,yPosBottom:u[S][g].yPosBottom,xPosRight:u[S][g].xPosLeft+d,yPosTop:u[S][g].yPosBottom-s})),void 0!==a.datasets[S].data[g]&&(Math.abs(a.datasets[S].data[g])>=e.zeroValue||1==e.showZeroValue)&&(A=animationCorrection(i,a,e,S,g,!1).animVal,A>1&&(A-=1),s=1*a.datasets[S].data[g]>=0?A*u[S][g].barHeight-Math.ceil(t.chartLineScale*t.lineWidth)/2:A*u[S][g].barHeight+Math.ceil(t.chartLineScale*t.lineWidth)/2,t.fillStyle=setOptionValue(!0,!0,1,"COLOR",t,a,u,a.datasets[S].fillColor,e.defaultFillColor,"fillColor",S,g,{animationValue:A,xPosLeft:u[S][g].xPosLeft,yPosBottom:u[S][g].yPosBottom,xPosRight:u[S][g].xPosLeft+d,yPosTop:u[S][g].yPosBottom-s}),t.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",t,a,u,a.datasets[S].strokeColor,e.defaultStrokeColor,"strokeColor",S,g,{nullvalue:null}),l(t,u[S][g].xPosLeft,u[S][g].yPosBottom,d,s,e.barShowStroke,e.barBorderRadius,S,g,a.datasets[S].data[g]<0?-1:1),i>=e.animationStopValue&&(t.pieces_drawn.rectangles++,t.pieces_drawn.total_drawn++)),t.restore());for(S=0;S<a.datasets.length;S++)if("Line"!=a.datasets[S].type)for(g=0;g<a.datasets[S].data.length;g++)0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.datasets[S].displayData,e.displayData,"displayData",S,g,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.displayData,e.displayData,"displayData",g,-1,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"COMPLEMENTARYBAR",t,a,u,a.datasets[S].complementaryBar,e.complementaryBar,"complementaryBar",S,g,{nullvalue:null})&&(t.save(),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,u,a.datasets[S].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",S,g,{animationValue:A,xPosLeft:u[S][g].xPosLeft,yPosBottom:u[S][g].yPosBottom,xPosRight:u[S][g].xPosLeft+d,yPosTop:u[S][g].yPosBottom-s})),A=animationCorrection(i,a,e,S,g,!1).animVal,A>1&&(A-=1),s=void 0!==a.datasets[S].data[g]?1*a.datasets[S].data[g]>=0?A*u[S][g].barHeight-Math.ceil(t.chartLineScale*t.lineWidth)/2:A*u[S][g].barHeight+Math.ceil(t.chartLineScale*t.lineWidth)/2:0,x=p.clrheight-Math.ceil(t.chartLineScale*(e.scaleTickSizeTop+e.scaleTickSizeBottom)),T=u[S][g].yPosBottom-p.clry-Math.ceil(t.chartLineScale*e.scaleTickSizeTop),D=x-T,1*a.datasets[S].data[g]<0?(o=-(D+s)+t.lineWidth/2*3,otherBarHeight2=T-t.lineWidth/2*3,M=-t.lineWidth/2):(o=T-s-t.lineWidth/2*3,otherBarHeight2=-(D-t.lineWidth/2*3),M=+t.lineWidth/2),t.fillStyle=setOptionValue(!0,!0,1,"COMPLEMENTARYCOLOR",t,a,u,a.datasets[S].complementaryColor,e.complementaryColor,"complementaryColor",S,g,{animationValue:A,xPosLeft:u[S][g].xPosLeft,yPosBottom:u[S][g].yPosBottom-s,xPosRight:u[S][g].xPosLeft+d,yPosTop:u[S][g].yPosBottom-s-o}),t.strokeStyle=setOptionValue(!0,!0,1,"COMPLEMENTARYSTROKECOLOR",t,a,u,a.datasets[S].complementaryStrokeColor,e.complementaryStrokeColor,"strokeColor",S,g,{nullvalue:null}),l(t,u[S][g].xPosLeft,u[S][g].yPosBottom-s-2*M,d,o,e.barShowStroke,e.barBorderRadius,S,g,a.datasets[S].data[g]<0?-1:1),e.complementaryBarFullHeight&&l(t,u[S][g].xPosLeft,u[S][g].yPosBottom+2*M,d,otherBarHeight2,e.barShowStroke,e.barBorderRadius,S,g,a.datasets[S].data[g]<0?-1:1),t.restore());if(drawLinesDataset(i,a,e,t,u,{xAxisPosY:h,yAxisPosX:c,valueHop:r,nbValueHop:a.labels.length}),i>=e.animationStopValue)for(S=0;S<a.datasets.length;S++)for(g=0;g<a.datasets[S].data.length;g++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.datasets[S].displayData,e.displayData,"displayData",S,g,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,u,a.displayData,e.displayData,"displayData",g,-1,{nullvalue:null})&&void 0!==a.datasets[S].data[g]&&"Line"!=a.datasets[S].type&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["RECT",S,g,u,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,u,a.datasets[S].annotateDisplay,e.annotateDisplay,"annotateDisplay",S,g,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,u,a.datasets[S].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",S,g,{nullValue:!0}))){t.save(),t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,u,void 0,e.inGraphDataAlign,"inGraphDataAlign",S,g,{nullValue:!0}),t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,u,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",S,g,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,u,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",S,g,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,u,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",S,g,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,u,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",S,g,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,u,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",S,g,{nullValue:!0}),u[S][g].yPosBottom,u[S][g].yPosTop,t.beginPath();var v=0,y=0;1==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,u,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",S,g,{nullValue:!0})?y=u[S][g].xPosLeft+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,u,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",S,g,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,u,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",S,g,{nullValue:!0})?y=u[S][g].xPosLeft+d/2+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,u,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",S,g,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,u,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",S,g,{nullValue:!0})&&(y=u[S][g].xPosLeft+d+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,u,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",S,g,{nullValue:!0})),1==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,u,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",S,g,{nullValue:!0})?v=u[S][g].yPosBottom-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,u,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",S,g,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,u,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",S,g,{nullValue:!0})?v=(u[S][g].yPosBottom+u[S][g].yPosTop)/2-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,u,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",S,g,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,u,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",S,g,{nullValue:!0})&&(v=u[S][g].yPosTop-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,u,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",S,g,{nullValue:!0})),t.translate(y,v);var L=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,u,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",S,g,{nullValue:!0}),u[S][g],e);rotateVal=setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,u,void 0,e.inGraphDataRotate,"inGraphDataRotate",S,g,{nullValue:!0})*(Math.PI/180),t.rotate(rotateVal),setTextBordersAndBackground(t,L,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,u,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",S,g,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,u,void 0,e.inGraphDataBorders,"inGraphDataBorders",S,g,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,u,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",S,g,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,u,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",S,g,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,u,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",S,g,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,u,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",S,g,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,u,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",S,g,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,u,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",S,g,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,u,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",S,g,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(L,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,u,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",S,g,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",rotateVal,y,v,S,g),t.restore()}i>=1&&"function"==typeof drawMath&&drawMath(t,e,a,p,{xAxisPosY:h,yAxisPosX:c,valueHop:r,scaleHop:n,zeroY:P,calculatedScale:f,calculateOffset:calculateOffset,additionalSpaceBetweenBars:m,barWidth:d})}function l(t,i,l,o,n,s,r,c,h,d){t.beginPath(),t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"STROKESTYLE",t,a,u,a.datasets[c].datasetStrokeStyle,e.datasetStrokeStyle,"datasetStrokeStyle",c,h,{nullvalue:null}))),t.moveTo(i+o/2,l),t.lineTo(i+o,l),t.lineTo(i+o,l-n+d*r),t.quadraticCurveTo(i+o,l-n,i+o-r,l-n),t.lineTo(i+r,l-n),t.quadraticCurveTo(i,l-n,i,l-n+d*r),t.lineTo(i,l),t.lineTo(i+o/2,l),s&&t.stroke(),t.closePath(),t.fill(),t.setLineDash([])}function o(){drawGridScale(t,a,e,p,c,h,P,r,n,A.nbOfStepsAxis1,a.labels.length+1)}var n,s,r,c,h,d,p;if(t.tpchart="Bar",t.tpdata=0,init_and_start(t,a,e)){var u=initPassVariableData_part1(a,e,t);init_result(t,a,u);for(var S=a.datasets.length,g=0;g<a.datasets.length;g++)"Line"==a.datasets[g].type?(u[g][0].tpchart="Line",S--):u[g][0].tpchart="Bar";p=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"nihil","nihil",!0,!1,!0,!0,"Bar");var A=computeScale(!0,!0,!0,!0,!0,!1,a,e,t,u,p.availableHeight);if(A.labels1=[],A.labels2=[],populateLabels(A.logarithm1,e.fmtYLabel,e,A.labelTemplateString1,A.labels1,A.nbOfStepsAxis1,A.minAxis1,A.maxAxis1,A.stepWidthAxis1),populateLabels(A.logarithm2,e.fmtYLabel2,e,A.labelTemplateString2,A.labels2,A.nbOfStepsAxis2,A.minAxis2,A.maxAxis2,A.stepWidthAxis2),A.maxSteps>0&&A.minSteps>0){var f={steps:A.nbOfStepsAxis1,stepValue:A.stepWidthAxis1,graphMin:A.minAxis1,graphMax:A.minAxis1+A.nbOfStepsAxis1*A.stepWidthAxis1,labels:A.labels1},x={steps:A.nbOfStepsAxis2,stepValue:A.stepWidthAxis2,graphMin:A.minAxis2,graphMax:A.minAxis2+A.nbOfStepsAxis2*A.stepWidthAxis2,labels:A.labels2};p=setMeasures(a,e,t,t.canvas.height,t.canvas.width,A.labels1,A.labels2,!0,!1,!0,!0,"Bar");p.availableHeight;p.availableHeight=p.availableHeight-Math.ceil(t.chartLineScale*e.scaleTickSizeBottom)-Math.ceil(t.chartLineScale*e.scaleTickSizeTop),p.availableWidth=p.availableWidth-Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)-Math.ceil(t.chartLineScale*e.scaleTickSizeRight),n=Math.floor(p.availableHeight/A.nbOfStepsAxis1),"undefined"!=A.nbOfStepsAxis2&&A.nbOfStepsAxis2>0&&(s=Math.floor(p.availableHeight/A.nbOfStepsAxis2)),r=Math.floor(p.availableWidth/a.labels.length),(0==r||e.fullWidthGraph)&&(r=p.availableWidth/a.labels.length),p.topNotUsableHeight+=p.availableHeight-A.nbOfStepsAxis1*n,p.rightNotUsableWidth+=p.availableWidth-a.labels.length*r,p.clrwidth=p.clrwidth-(p.availableWidth-a.labels.length*r),p.availableWidth=a.labels.length*r,p.availableHeight=A.nbOfStepsAxis1*n,c=p.leftNotUsableWidth+Math.ceil(t.chartLineScale*e.scaleTickSizeLeft),h=p.topNotUsableHeight+p.availableHeight+Math.ceil(t.chartLineScale*e.scaleTickSizeTop),d=(r-2*Math.ceil(t.chartLineScale*e.scaleGridLineWidth)-2*Math.ceil(t.chartSpaceScale*e.barValueSpacing)-(Math.ceil(t.chartSpaceScale*e.barDatasetSpacing)*S-1)-(Math.ceil(t.chartLineScale*e.barStrokeWidth)/2*S-1))/S,d>=0&&d<=1&&(d=1),d<0&&d>=-1&&(d=-1);var m;1*e.maxBarWidth>0&&d>1*e.maxBarWidth?(m=S*(d-1*e.maxBarWidth)/2,d=1*e.maxBarWidth):m=0;var T=0,P=calculateOffset(A.logarithm1,0,f,n);T=calculateOffset(A.logarithm2,0,x,s),initPassVariableData_part2(u,a,e,t,A.logarithm1,A.logarithm2,{msr:p,yAxisPosX:c,xAxisPosY:h,valueHop:r,nbValueHop:a.labels.length-1,barWidth:d,additionalSpaceBetweenBars:m,zeroY:P,zeroY2:T,calculatedScale:f,calculatedScale2:x,scaleHop:n,scaleHop2:s}),function(){var i,l;if(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,e.xAxisTop||e.xAxisBottom){if(t.textBaseline="top",t.fillStyle=e.scaleFontColor,e.xAxisBottom){p.rotateLabels>90?(t.save(),t.textAlign="left"):p.rotateLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",l=0,i=0;for(var o=0;o<a.labels.length;o++)showLabels(t,a,e,o)&&(t.save(),p.rotateLabels>0?(t.translate(c+o*r+r/2-p.highestXLabel/2,p.xLabelPos),t.rotate(-(p.rotateLabels+180*(p.rotateLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,a.labels[o],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-p.rotateLabels*(Math.PI/180),c+o*r+r/2-p.highestXLabel/2,p.xLabelPos,o,-1)):t.fillTextMultiLine(fmtChartJS(e,a.labels[o],e.fmtXLabel),c+o*r+r/2+i,p.xLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,o,-1),t.restore())}if(e.xAxisTop){p.rotateTLabels>90?(t.save(),t.textAlign="left"):p.rotateTLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center";var d;d="object"==typeof a.labels2?a.labels2:a.labels;for(var o=0;o<d.length;o++)showLabels(t,a,e,o)&&(t.save(),p.rotateTLabels>0?(t.translate(c+o*r+r/2-p.highestTXLabel/2,p.xTLabelPos),t.rotate(-(p.rotateTLabels+180*(p.rotateTLabels>90))*(Math.PI/180)),t.fillTextMultiLine(fmtChartJS(e,d[o],e.fmtXLabel),0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-p.rotateLabels*(Math.PI/180),c+o*r+r/2-p.highestXLabel/2,p.xLabelPos,o,-1)):t.fillTextMultiLine(fmtChartJS(e,d[o],e.fmtXLabel),c+o*r+r/2,p.xTLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,o,-1),t.restore())}}t.textAlign="right",t.textBaseline="middle",l=0,i=0,1==e.yAxisMiddle&&(i=n/2,l=1);for(var u=e.showYAxisMin?-1:0;u<A.nbOfStepsAxis1-l;u++)e.scaleShowLabels&&showYLabels(t,a,e,u+1,A.labels1[u+1])&&(e.yAxisLeft&&(t.textAlign="right",t.fillTextMultiLine(A.labels1[u+1],c-(Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),h-(u+1)*n-i,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,u)),!e.yAxisRight||A.dbAxis||e.forceSecondScale||(t.textAlign="left",t.fillTextMultiLine(A.labels1[u+1],c+p.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),h-(u+1)*n-i,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,u)));if(e.yAxisRight&&(A.dbAxis||e.forceSecondScale))for(l=0,i=0,1==e.yAxisMiddle&&(i=n/2,l=1),u=e.showYAxisMin?-1:0;u<A.nbOfStepsAxis2-l;u++)e.scaleShowLabels&&(t.textAlign="left",t.fillTextMultiLine(A.labels2[u+1],c+p.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight))-i,h-(u+1)*s,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,u))}(),animationLoop(e,p.legendMsr,o,i,t,p.clrx,p.clry,p.clrwidth,p.clrheight,c+p.availableWidth/2,h-p.availableHeight/2,c,h,a,u)}else testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,u),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t);return{data:a,config:e,ctx:t}}},HorizontalBar=function(a,e,t){function i(i){var o,n,s,r,c,u,S,g,A,f;for(o=0;o<a.datasets.length;o++)for(n=0;n<a.datasets[o].data.length;n++)0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.datasets[o].displayData,e.displayData,"displayData",o,n,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.displayData,e.displayData,"displayData",n,-1,{nullvalue:null})&&(t.save(),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,p,a.datasets[o].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",o,n,{animationValue:s,xPosLeft:p[o][n].xPosLeft,yPosBottom:p[o][n].yPosBottom,xPosRight:p[o][n].xPosLeft+h,yPosTop:p[o][n].yPosBottom})),s=animationCorrection(i,a,e,o,n,!1).animVal,s>1&&(s-=1),r=1*a.datasets[o].data[n]>=0?s*p[o][n].barWidth-Math.ceil(t.chartLineScale*e.barStrokeWidth)/2:s*p[o][n].barWidth+Math.ceil(t.chartLineScale*e.barStrokeWidth)/2,t.fillStyle=setOptionValue(!0,!0,1,"COLOR",t,a,p,a.datasets[o].fillColor,e.defaultFillColor,"fillColor",o,n,{animationValue:s,xPosLeft:p[o][n].xPosLeft,yPosBottom:p[o][n].yPosBottom,xPosRight:p[o][n].xPosLeft+r,yPosTop:p[o][n].yPosBottom}),t.strokeStyle=setOptionValue(!0,!0,1,"STROKECOLOR",t,a,p,a.datasets[o].strokeColor,e.defaultStrokeColor,"strokeColor",o,n,{nullvalue:null}),void 0!==a.datasets[o].data[n]&&(Math.abs(a.datasets[o].data[n])>=e.zeroValue||1==e.showZeroValue)&&(l(t,p[o][n].yPosTop,p[o][n].xPosLeft,h,r,e.barShowStroke,e.barBorderRadius,0,o,n,a.datasets[o].data[n]<0?-1:1),i>=e.animationStopValue&&(t.pieces_drawn.rectangles++,t.pieces_drawn.total_drawn++)),t.restore());for(o=0;o<a.datasets.length;o++)for(n=0;n<a.datasets[o].data.length;n++)0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.datasets[o].displayData,e.displayData,"displayData",o,n,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.displayData,e.displayData,"displayData",n,-1,{nullvalue:null})&&(complementaryBar=setOptionValue(!0,!0,1,"COMPLEMENTARYBAR",t,a,p,a.datasets[o].complementaryBar,e.complementaryBar,"complementaryBar",o,n,{nullvalue:null}),0!=complementaryBar&&(t.save(),t.lineWidth=Math.ceil(t.chartLineScale*setOptionValue(!0,!0,1,"BARSTROKEWIDTH",t,a,p,a.datasets[o].barStrokeWidth,e.barStrokeWidth,"barStrokeWidth",o,n,{animationValue:s,xPosLeft:p[o][n].xPosLeft,yPosBottom:p[o][n].yPosBottom,xPosRight:p[o][n].xPosLeft+h,yPosTop:p[o][n].yPosBottom-r})),s=animationCorrection(i,a,e,o,n,!1).animVal,s>1&&(s-=1),r=1*a.datasets[o].data[n]>=0?s*p[o][n].barWidth-Math.ceil(t.chartLineScale*e.barStrokeWidth)/2:s*p[o][n].barWidth+Math.ceil(t.chartLineScale*e.barStrokeWidth)/2,c=d.clrwidth-Math.ceil(t.chartLineScale*(e.scaleTickSizeLeft+e.scaleTickSizeRight)),u=p[o][n].xPosLeft-d.clrx-Math.ceil(t.chartLineScale*e.scaleTickSizeRight),S=c-u,1*a.datasets[o].data[n]<0?(g=-(d.clrwidth-(p[o][n].xPosLeft-d.clrx-r))+Math.ceil(t.chartLineScale*e.scaleTickSizeLeft),g=-(S+r)+t.lineWidth/2*3,A=u-t.lineWidth/2*3,f=-t.lineWidth/2):(g=d.clrwidth-(p[o][n].xPosLeft-d.clrx+r+t.lineWidth),g=u-r-t.lineWidth/2*3,A=-(S-t.lineWidth/2*3),f=+t.lineWidth/2),t.fillStyle=setOptionValue(!0,!0,1,"COMPLEMENTARYCOLOR",t,a,p,a.datasets[o].complementaryColor,e.complementaryColor,"complementaryColor",o,n,{animationValue:s,xPosLeft:p[o][n].xPosLeft+r,yPosBottom:p[o][n].yPosBottom,xPosRight:p[o][n].xPosLeft+r+g,yPosTop:p[o][n].yPosBottom}),t.strokeStyle=setOptionValue(!0,!0,1,"COMPLEMENTARYSTROKECOLOR",t,a,p,a.datasets[o].complementaryStrokeColor,e.complementaryStrokeColor,"strokeColor",o,n,{nullvalue:null}),l(t,p[o][n].yPosTop,p[o][n].xPosLeft+r+2*f,h,g,e.barShowStroke,e.barBorderRadius,0,o,n,a.datasets[o].data[n]<0?-1:1),i>=e.animationStopValue&&(t.pieces_drawn.rectangles++,t.pieces_drawn.total_drawn++),e.complementaryBarFullHeight&&l(t,p[o][n].yPosTop,p[o][n].xPosLeft-2*f,h,A,e.barShowStroke,e.barBorderRadius,0,o,n,a.datasets[o].data[n]<0?-1:1),t.restore()));if(i>=e.animationStopValue)for(o=0;o<a.datasets.length;o++)for(n=0;n<a.datasets[o].data.length;n++)if(0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.datasets[o].displayData,e.displayData,"displayData",o,n,{nullvalue:null})&&0!=setOptionValue(!0,!0,1,"DISPLAYDATA",t,a,p,a.displayData,e.displayData,"displayData",n,-1,{nullvalue:null})&&void 0!==a.datasets[o].data[n]&&(jsGraphAnnotate[t.ChartNewId][jsGraphAnnotate[t.ChartNewId].length]=["RECT",o,n,p,setOptionValue(!0,!0,1,"ANNOTATEDISPLAY",t,a,p,a.datasets[o].annotateDisplay,e.annotateDisplay,"annotateDisplay",o,n,{nullValue:!0})],setOptionValue(!0,!0,1,"INGRAPHDATASHOW",t,a,p,a.datasets[o].inGraphDataShow,e.inGraphDataShow,"inGraphDataShow",o,n,{nullValue:!0}))){t.save(),t.textAlign=setOptionValue(!0,!0,1,"INGRAPHDATAALIGN",t,a,p,void 0,e.inGraphDataAlign,"inGraphDataAlign",o,n,{nullValue:!0}),t.textBaseline=setOptionValue(!0,!0,1,"INGRAPHDATAVALIGN",t,a,p,void 0,e.inGraphDataVAlign,"inGraphDataVAlign",o,n,{nullValue:!0}),t.font=setOptionValue(!0,!0,1,"INGRAPHDATAFONTSTYLE",t,a,p,void 0,e.inGraphDataFontStyle,"inGraphDataFontStyle",o,n,{nullValue:!0})+" "+setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,n,{nullValue:!0})+"px "+setOptionValue(!0,!0,1,"INGRAPHDATAFONTFAMILY",t,a,p,void 0,e.inGraphDataFontFamily,"inGraphDataFontFamily",o,n,{nullValue:!0}),t.fillStyle=setOptionValue(!0,!0,1,"INGRAPHDATAFONTCOLOR",t,a,p,void 0,e.inGraphDataFontColor,"inGraphDataFontColor",o,n,{nullValue:!0}),t.beginPath();var x=0,m=0;1==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",o,n,{nullValue:!0})?x=p[o][n].yPosTop-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",o,n,{nullValue:!0})+h:2==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",o,n,{nullValue:!0})?x=p[o][n].yPosTop+h/2-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",o,n,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAYPOSITION",t,a,p,void 0,e.inGraphDataYPosition,"inGraphDataYPosition",o,n,{nullValue:!0})&&(x=p[o][n].yPosTop-setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGY",t,a,p,void 0,e.inGraphDataPaddingY,"inGraphDataPaddingY",o,n,{nullValue:!0})),1==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",o,n,{nullValue:!0})?m=p[o][n].xPosLeft+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",o,n,{nullValue:!0}):2==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",o,n,{nullValue:!0})?m=(p[o][n].xPosLeft+p[o][n].xPosRight)/2+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",o,n,{nullValue:!0}):3==setOptionValue(!0,!0,1,"INGRAPHDATAXPOSITION",t,a,p,void 0,e.inGraphDataXPosition,"inGraphDataXPosition",o,n,{nullValue:!0})&&(m=p[o][n].xPosRight+setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATAPADDINGX",t,a,p,void 0,e.inGraphDataPaddingX,"inGraphDataPaddingX",o,n,{nullValue:!0})),t.translate(m,x);var T=tmplbis(setOptionValue(!0,!0,1,"INGRAPHDATATMPL",t,a,p,void 0,e.inGraphDataTmpl,"inGraphDataTmpl",o,n,{nullValue:!0}),p[o][n],e),P=setOptionValue(!0,!0,1,"INGRAPHDATAROTATE",t,a,p,void 0,e.inGraphDataRotate,"inGraphDataRotate",o,n,{nullValue:!0})*(Math.PI/180);t.rotate(P),setTextBordersAndBackground(t,T,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,n,{nullValue:!0}),0,0,setOptionValue(!0,!0,1,"INGRAPHDATABORDERS",t,a,p,void 0,e.inGraphDataBorders,"inGraphDataBorders",o,n,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSELECTION",t,a,p,void 0,e.inGraphDataBordersSelection,"inGraphDataBordersSelection",o,n,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSCOLOR",t,a,p,void 0,e.inGraphDataBordersColor,"inGraphDataBordersColor",o,n,{nullValue:!0}),setOptionValue(!0,!0,t.chartLineScale,"INGRAPHDATABORDERSWIDTH",t,a,p,void 0,e.inGraphDataBordersWidth,"inGraphDataBordersWidth",o,n,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",t,a,p,void 0,e.inGraphDataBordersXSpace,"inGraphDataBordersXSpace",o,n,{nullValue:!0}),setOptionValue(!0,!0,t.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",t,a,p,void 0,e.inGraphDataBordersYSpace,"inGraphDataBordersYSpace",o,n,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABORDERSSTYLE",t,a,p,void 0,e.inGraphDataBordersStyle,"inGraphDataBordersStyle",o,n,{nullValue:!0}),setOptionValue(!0,!0,1,"INGRAPHDATABACKGROUNDCOLOR",t,a,p,void 0,e.inGraphDataBackgroundColor,"inGraphDataBackgroundColor",o,n,{nullValue:!0}),"INGRAPHDATA",e.inGraphDataBordersRadius),t.fillTextMultiLine(T,0,0,t.textBaseline,setOptionValue(!0,!0,t.chartTextScale,"INGRAPHDATAFONTSIZE",t,a,p,void 0,e.inGraphDataFontSize,"inGraphDataFontSize",o,n,{nullValue:!0}),!0,e.detectMouseOnText,t,"INGRAPHDATA_TEXTMOUSE",P,m,x,o,n),t.restore()}}function l(t,i,l,o,n,s,r,c,h,d,u){t.beginPath(),t.moveTo(l+c,i),t.lineTo(l+c,i+o),t.lineTo(l+n-u*r,i+o),t.quadraticCurveTo(l+n,i+o,l+n,i+o-r),t.lineTo(l+n,i+r),t.quadraticCurveTo(l+n,i,l+n-u*r,i),t.lineTo(l+c,i),t.quadraticCurveTo(l+c,i,l+c,i+o),s&&(t.setLineDash(lineStyleFn(setOptionValue(!0,!0,1,"STROKESTYLE",t,a,p,a.datasets[h].datasetStrokeStyle,e.datasetStrokeStyle,"datasetStrokeStyle",h,d,{nullvalue:null}))),t.stroke(),t.setLineDash([])),t.closePath(),t.fill()}function o(){drawGridScale(t,a,e,d,r,c,A,s,n,a.labels.length+0,u.nbOfStepsAxis1+1)}var n,s,r,c,h,d;if(t.tpchart="HorizontalBar",t.tpdata=0,init_and_start(t,a,e)){e.reverseOrder&&void 0===t.reversed&&(t.reversed=!0,a=reverseData(a));var p=initPassVariableData_part1(a,e,t);init_result(t,a,p),d=setMeasures(a,e,t,t.canvas.height,t.canvas.width,"nihil","nihil",!0,!0,!0,!0,"StackedBar");var u=computeScale(!0,!0,!1,!1,!1,!1,a,e,t,p,d.availableHeight);if(u.labels1=[],u.labels2=[],populateLabels(u.logarithm1,e.fmtYLabel,e,u.labelTemplateString1,u.labels1,u.nbOfStepsAxis1,u.minAxis1,u.maxAxis1,u.stepWidthAxis1),populateLabels(u.logarithm2,e.fmtYLabel2,e,u.labelTemplateString2,u.labels2,u.nbOfStepsAxis2,u.minAxis2,u.maxAxis2,u.stepWidthAxis2),u.maxSteps>0&&u.minSteps>0){var S={steps:u.nbOfStepsAxis1,stepValue:u.stepWidthAxis1,graphMin:u.minAxis1,graphMax:u.minAxis1+u.nbOfStepsAxis1*u.stepWidthAxis1,labels:u.labels1};d=setMeasures(a,e,t,t.canvas.height,t.canvas.width,u.labels1,u.labels1,!0,!0,!0,!0,"HorizontalBar"),d.availableHeight=d.availableHeight-Math.ceil(t.chartLineScale*e.scaleTickSizeBottom)-Math.ceil(t.chartLineScale*e.scaleTickSizeTop),d.availableWidth=d.availableWidth-Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)-Math.ceil(t.chartLineScale*e.scaleTickSizeRight),n=Math.floor(d.availableHeight/a.labels.length),s=Math.floor(d.availableWidth/u.nbOfStepsAxis1),(0==s||e.fullWidthGraph)&&(s=d.availableWidth/u.nbOfStepsAxis1),d.clrwidth=d.clrwidth-(d.availableWidth-u.nbOfStepsAxis1*s),d.topNotUsableHeight+=d.availableHeight-a.labels.length*n,d.rightNotUsableWidth+=d.availableWidth-u.nbOfStepsAxis1*s,d.availableWidth=u.nbOfStepsAxis1*s,d.availableHeight=a.labels.length*n,r=d.leftNotUsableWidth+Math.ceil(t.chartLineScale*e.scaleTickSizeLeft),c=d.topNotUsableHeight+d.availableHeight+Math.ceil(t.chartLineScale*e.scaleTickSizeTop),h=(n-2*Math.ceil(t.chartLineScale*e.scaleGridLineWidth)-2*Math.ceil(t.chartSpaceScale*e.barValueSpacing)-(Math.ceil(t.chartSpaceScale*e.barDatasetSpacing)*a.datasets.length-1)-(Math.ceil(t.chartLineScale*e.barStrokeWidth)/2*a.datasets.length-1))/a.datasets.length,h>=0&&h<=1&&(h=1),h<0&&h>=-1&&(h=-1);var g;1*e.maxBarWidth>0&&h>1*e.maxBarWidth?(g=a.datasets.length*(h-1*e.maxBarWidth)/2,h=1*e.maxBarWidth):g=0;var A=0
;A=calculateOffset(u.logarithm1,0,S,s),function(){if(t.font=e.scaleFontStyle+" "+Math.ceil(t.chartTextScale*e.scaleFontSize).toString()+"px "+e.scaleFontFamily,e.scaleShowLabels&&(e.xAxisTop||e.xAxisBottom)){if(t.textBaseline="top",t.fillStyle=e.scaleFontColor,e.xAxisBottom){d.rotateLabels>90?(t.save(),t.textAlign="left"):d.rotateLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",subloop=0,decal=0,1==e.yAxisMiddle&&(decal=s/2,subloop=1);for(var i=e.showYAxisMin?-1:0;i<u.nbOfStepsAxis1-subloop;i++)showYLabels(t,a,e,i+1,u.labels1[i+1])&&(t.save(),d.rotateLabels>0?(t.translate(r+(i+1)*s-d.highestXLabel/2+decal,d.xLabelPos),t.rotate(-(d.rotateLabels+180*(d.rotateLabels>90))*(Math.PI/180)),t.fillTextMultiLine(u.labels1[i+1],0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-d.rotateLabels*(Math.PI/180),r+(i+1)*s-d.highestXLabel/2,d.xLabelPos,i,-1)):t.fillTextMultiLine(u.labels1[i+1],r+(i+1)*s+decal,d.xLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}if(e.xAxisTop){d.rotateTLabels>90?(t.save(),t.textAlign="left"):d.rotateTLabels>0?(t.save(),t.textAlign="right"):t.textAlign="center",subloop=0,decal=0,1==e.yAxisMiddle&&(decal=s/2,subloop=1);for(var i=e.showYAxisMin?-1:0;i<u.nbOfStepsAxis1-subloop;i++)showYLabels(t,a,e,i+1,u.labels1[i+1])&&(t.save(),d.rotateTLabels>0?(t.translate(r+(i+1)*s-d.highestTXLabel/2+decal,d.xTLabelPos),t.rotate(-(d.rotateTLabels+180*(d.rotateTLabels>90))*(Math.PI/180)),t.fillTextMultiLine(u.labels1[i+1],0,0,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",-d.rotateLabels*(Math.PI/180),r+(i+1)*s-d.highestXLabel/2,d.xLabelPos,i,-1)):t.fillTextMultiLine(u.labels1[i+1],r+(i+1)*s+decal,d.xTLabelPos,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"XAXIS_TEXTMOUSE",0,0,0,i,-1),t.restore())}}t.textAlign="right",t.textBaseline="middle";for(var l=0;l<a.labels.length;l++)showLabels(t,a,e,l)&&(e.yAxisLeft&&(t.textAlign="right",t.fillTextMultiLine(fmtChartJS(e,a.labels[l],e.fmtXLabel),r-(Math.ceil(t.chartLineScale*e.scaleTickSizeLeft)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-l*n-n/2,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,l)),e.yAxisRight&&(t.textAlign="left",t.fillTextMultiLine(fmtChartJS(e,a.labels[l],e.fmtXLabel),r+d.availableWidth+(Math.ceil(t.chartLineScale*e.scaleTickSizeRight)+Math.ceil(t.chartSpaceScale*e.yAxisSpaceRight)),c-l*n-n/2,t.textBaseline,Math.ceil(t.chartTextScale*e.scaleFontSize),!0,e.detectMouseOnText,t,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,l)))}(),initPassVariableData_part2(p,a,e,t,u.logarithm1,u.logarithm2,{yAxisPosX:r,xAxisPosY:c,barWidth:h,additionalSpaceBetweenBars:g,zeroY:A,scaleHop:n,valueHop:s,calculatedScale:S}),animationLoop(e,d.legendMsr,o,i,t,d.clrx,d.clry,d.clrwidth,d.clrheight,r+d.availableWidth/2,c-d.availableHeight/2,r,c,a,p)}else testRedraw(t,a,e),"function"!=typeof e.onAnimationComplete||1!=e.alwaysRunFunctionAtCompletion&&1!=t.runanimationcompletefunction||(e.onAnimationComplete(t,e,a,1,0,p),t.runanimationcompletefunction=!1),t.firstPass=9,close_result(t);return{data:a,config:e,ctx:t}}},requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),requestAnimFrameSetTimeOut=function(){return function(a){window.setTimeout(a,1e3/60)}}(),cache={}};