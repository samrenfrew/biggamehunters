function fetchguild(e){503==e.code?(console.log("Maintenance"),$("#error_503").fadeIn(),$(".recent_activity").fadeIn(),$(".guild_progress").fadeIn()):504==e.code?(console.log("Timed Out"),$("#error_504").fadeIn(),$(".recent_activity").fadeIn(),$(".guild_progress").fadeIn()):$(".recent_activity").fadeIn(),wow_guild=e,console.log(e),wow_guild.members.sort(function(e,a){return e=e.character.name.toLowerCase(),a=a.character.name.toLowerCase(),e<a?-1:e>a?1:0}),$.each(wow_guild.members,function(e,a){var t=a.character,n=$(".rank"+a.rank),c="-";null!=t.spec&&(c=t.spec.name);var o=t.thumbnail.replace(/avatar/gi,"inset");o="'http://render-eu.worldofwarcraft.com/character/"+o+"?alt=/wow/static/images/2d/inset/race/"+t.race+"-"+t.gender+".jpg'",null!=n&&t.level>100&&n.append('<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12"><div class="roster_member c'+t.class+'" style="background-image:url('+o+')"><a href="https://worldofwarcraft.com/en-gb/character/'+t.realm+"/"+t.name+'" data-name="'+t.name+'" data-realm="'+t.realm+'"><div class="cName">'+t.name+'</div><div class="cLvl">'+t.level+'</div><div class="cSpec">'+c+"</div></a></div></div>"),e==wow_guild.members.length-1&&loadFinished()})}function guildStats(){characterCount()}function changeFilter(){selectedFilters=[],$(".filter_roles input").each(function(){if(1==$(this)[0].checked){var e=Number($(this).val());selectedFilters.push(e)}}),characterCount()}function characterCount(e){$.each(wow_guild.members,function(e,a){var t=a.character;$.each(charCount.classes,function(e,n){t.class==n.id&&120==t.level&&(0!=a.rank&&1!=a.rank&&3!=a.rank||(this.count=this.count+1))})}),$.each(charCount.classes,function(e,a){var t=a.name.toLowerCase().replace(/\s/gi,"");$(".classes").append('<div class="col-lg-1 col-md-1 col-sm-1 col-xs-2 c'+a.id+'" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="'+a.name+'"><div class="classCount"><img src="https://wow.zamimg.com/images/wow/icons/medium/class_'+t+'.jpg"><div>'+a.count+"</div></div>")})}function loadFinished(){console.log("done"),guildStats(),$('[data-toggle="tooltip"]').tooltip(),$(".spinner").hide(),$(".roster_feeds").fadeIn(1e3)}function fetchUserProfile(e,a){$.ajax({url:"https://eu.api.battle.net/wow/character/"+a+"/"+e+"?jsonp=fetchprofile&fields=achievements+appearance+feed+items+mounts+pets+professions+progression+pvp+reputation+statistics+stats+titles&locale=en_GB&apikey=9tdd7cvwkq922fz7a6438wvvftpf35db",dataType:"jsonp",type:"GET"})}function fetchprofile(e){console.log(e);var a=e.thumbnail.replace(/avatar/gi,"inset");a="http://render-eu.worldofwarcraft.com/character/"+a+"?alt=/wow/static/images/2d/inset/race/"+e.race+"-"+e.gender+".jpg",console.log(a),$("#modal_bg").css({"background-image":"url("+a+")","background-size":"cover","background-position":"center"}),$("#modal_bg").css("min-height","500px");var t;$.each(e.titles,function(e,a){a.selected&&1==a.selected&&(t=a.name)}),t=t.replace(/%s/gi,e.name),console.log(t),$("#myModalLabel").html(t+"<small> iLvl: "+e.items.averageItemLevel+"</small>"),$("#myModal").modal()}var wow_guild,charCount={classes:[{id:3,count:0,name:"Hunter"},{id:4,count:0,name:"Rogue"},{id:1,count:0,name:"Warrior"},{id:2,count:0,name:"Paladin"},{id:7,count:0,name:"Shaman"},{id:8,count:0,name:"Mage"},{id:5,count:0,name:"Priest"},{id:6,count:0,name:"Death Knight"},{id:11,count:0,name:"Druid"},{id:12,count:0,name:"Demon Hunter"},{id:9,count:0,name:"Warlock"},{id:10,count:0,name:"Monk"}]},selectedFilters=[];$(function(){$.ajax({url:"https://eu.api.battle.net/wow/guild/Alonsus/Big%20Game%20Hunters?jsonp=fetchguild&fields=members&locale=en_GB&apikey=9tdd7cvwkq922fz7a6438wvvftpf35db",dataType:"jsonp",type:"GET"})}),$("body").on("change",".filter_roles input",function(){console.log("changed"),changeFilter()});